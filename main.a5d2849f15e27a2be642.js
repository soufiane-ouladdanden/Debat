(self.webpackChunkcdijdebat=self.webpackChunkcdijdebat||[]).push([[179],{8255:Nt=>{function gt(Fe){return Promise.resolve().then(()=>{var c=new Error("Cannot find module '"+Fe+"'");throw c.code="MODULE_NOT_FOUND",c})}gt.keys=()=>[],gt.resolve=gt,gt.id=8255,Nt.exports=gt},7716:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{deG:()=>cg,tb:()=>Um,AFp:()=>FC,ip1:()=>uv,CZH:()=>Xo,hGG:()=>KT,z2F:()=>ju,sBO:()=>ku,Sil:()=>Gm,_Vd:()=>Ma,EJc:()=>jm,SBq:()=>Ws,qLn:()=>y,vpe:()=>Oa,gxx:()=>_u,tBr:()=>fc,XFs:()=>Ne,OlP:()=>Wn,zs3:()=>$n,ZZ4:()=>IA,aQg:()=>_m,soG:()=>dv,YKP:()=>od,v3s:()=>md,h0i:()=>Il,PXZ:()=>MR,R0b:()=>vs,FiY:()=>jo,Lbi:()=>hv,g9A:()=>TT,n_E:()=>Ip,Qsj:()=>bI,FYo:()=>xl,JOm:()=>js,Tiy:()=>Sl,q3G:()=>ui,tp0:()=>Ji,EAV:()=>qC,Rgc:()=>fp,dDg:()=>VT,DyG:()=>Ls,q4F:()=>ym,GfV:()=>Cw,s_b:()=>vm,ifc:()=>je,eFA:()=>Av,G48:()=>SR,Gpc:()=>re,f3M:()=>cf,X6Q:()=>_v,_c5:()=>uL,VLi:()=>jT,c2e:()=>Rp,zSh:()=>Bh,wAp:()=>Qt,vHH:()=>q,EiD:()=>Dh,mCW:()=>au,qzn:()=>xh,JVY:()=>zy,pB0:()=>_c,eBb:()=>Sh,L6k:()=>gg,LAX:()=>va,cg1:()=>ew,Tjo:()=>HR,kL8:()=>tw,yhl:()=>hl,dqk:()=>Et,sIi:()=>Ia,CqO:()=>wu,QGY:()=>sA,F4k:()=>gr,RDi:()=>Ud,AaK:()=>xe,z3N:()=>Aa,qOj:()=>Uh,TTD:()=>sa,_Bn:()=>wi,xp6:()=>Dx,uIk:()=>Hh,Gre:()=>jS,ekj:()=>Eu,Suo:()=>oT,Xpm:()=>ti,lG2:()=>Wc,Yz7:()=>X,cJS:()=>ye,oAB:()=>Ua,Yjl:()=>xo,Y36:()=>bu,_UZ:()=>nA,BQk:()=>zb,ynx:()=>iA,qZA:()=>Gb,TgZ:()=>Hb,EpF:()=>ES,n5z:()=>mh,Ikx:()=>Jh,LFG:()=>Hn,$8M:()=>Xd,NdJ:()=>vl,CRH:()=>aT,kcU:()=>Oy,O4$:()=>Zd,oxw:()=>aA,ALo:()=>XI,xi3:()=>eT,Hsn:()=>xS,F$t:()=>sn,Q6J:()=>eA,MGl:()=>ut,DdM:()=>QA,VKq:()=>QI,WLB:()=>$A,kEZ:()=>$I,iGM:()=>rT,MAs:()=>kb,evT:()=>xc,Jf7:()=>bf,CHM:()=>th,uOi:()=>kh,LSH:()=>yf,kYT:()=>zc,Udp:()=>ki,YNc:()=>q_,_uU:()=>Kb,Oqu:()=>Jn,hij:()=>uA,AsE:()=>hA,Gf:()=>sT});var c=Fe(9765),Je=Fe(5319),Se=Fe(7574),me=Fe(6682),ae=Fe(8819);function ce(s){for(let o in s)if(s[o]===ce)return o;throw Error("Could not find renamed property on target object.")}function ge(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function xe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(xe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function he(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const ie=ce({__forward_ref__:ce});function re(s){return s.__forward_ref__=re,s.toString=function(){return xe(this())},s}function B(s){return Q(s)?s():s}function Q(s){return"function"==typeof s&&s.hasOwnProperty(ie)&&s.__forward_ref__===re}class q extends Error{constructor(o,l){super(function(s,o){return`${s?`NG0${s}: `:""}${o}`}(o,l)),this.code=o}}function R(s){return"string"==typeof s?s:null==s?"":String(s)}function V(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():R(s)}function Y(s,o){const l=o?` in ${o}`:"";throw new q("201",`No provider for ${V(s)} found${l}`)}function pe(s,o){null==s&&function(s,o,l,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${l} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function X(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function ye(s){return{providers:s.providers||[],imports:s.imports||[]}}function Te(s){return N(s,Ce)||N(s,Oe)}function N(s,o){return s.hasOwnProperty(o)?s[o]:null}function be(s){return s&&(s.hasOwnProperty(Le)||s.hasOwnProperty(ze))?s[Le]:null}const Ce=ce({\u0275prov:ce}),Le=ce({\u0275inj:ce}),Oe=ce({ngInjectableDef:ce}),ze=ce({ngInjectorDef:ce});var Ne=(()=>((Ne=Ne||{})[Ne.Default=0]="Default",Ne[Ne.Host=1]="Host",Ne[Ne.Self=2]="Self",Ne[Ne.SkipSelf=4]="SkipSelf",Ne[Ne.Optional=8]="Optional",Ne))();let it;function st(s){const o=it;return it=s,o}function Ke(s,o,l){const u=Te(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&Ne.Optional?null:void 0!==o?o:void Y(xe(s),"Injector")}function fe(s){return{toString:s}.toString()}var Ie=(()=>((Ie=Ie||{})[Ie.OnPush=0]="OnPush",Ie[Ie.Default=1]="Default",Ie))(),je=(()=>((je=je||{})[je.Emulated=0]="Emulated",je[je.None=2]="None",je[je.ShadowDom=3]="ShadowDom",je))();const et="undefined"!=typeof globalThis&&globalThis,mt="undefined"!=typeof window&&window,It="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Et=et||"undefined"!=typeof global&&global||mt||It,We={},Ue=[],He=ce({\u0275cmp:ce}),ct=ce({\u0275dir:ce}),tt=ce({\u0275pipe:ce}),Ct=ce({\u0275mod:ce}),Bt=ce({\u0275loc:ce}),nn=ce({\u0275fac:ce}),Zt=ce({__NG_ELEMENT_ID__:ce});let _n=0;function ti(s){return fe(()=>{const l={},u={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Ie.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||Ue,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||je.Emulated,id:"c",styles:s.styles||Ue,_:null,setInput:null,schemas:s.schemas||null,tView:null},d=s.directives,p=s.features,_=s.pipes;return u.id+=_n++,u.inputs=jl(s.inputs,l),u.outputs=jl(s.outputs),p&&p.forEach(A=>A(u)),u.directiveDefs=d?()=>("function"==typeof d?d():d).map(xi):null,u.pipeDefs=_?()=>("function"==typeof _?_():_).map(Cr):null,u})}function xi(s){return Ni(s)||function(s){return s[ct]||null}(s)}function Cr(s){return function(s){return s[tt]||null}(s)}const Ul={};function Ua(s){return fe(()=>{const o={type:s.type,bootstrap:s.bootstrap||Ue,declarations:s.declarations||Ue,imports:s.imports||Ue,exports:s.exports||Ue,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Ul[s.id]=s.type),o})}function zc(s,o){return fe(()=>{const l=ts(s,!0);l.declarations=o.declarations||Ue,l.imports=o.imports||Ue,l.exports=o.exports||Ue})}function jl(s,o){if(null==s)return We;const l={};for(const u in s)if(s.hasOwnProperty(u)){let d=s[u],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),l[d]=u,o&&(o[d]=p)}return l}const Wc=ti;function xo(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Ni(s){return s[He]||null}function ts(s,o){const l=s[Ct]||null;if(!l&&!0===o)throw new Error(`Type ${xe(s)} does not have '\u0275mod' property.`);return l}function Is(s){return Array.isArray(s)&&"object"==typeof s[1]}function Yi(s){return Array.isArray(s)&&!0===s[1]}function Zc(s){return 0!=(8&s.flags)}function Ga(s){return 2==(2&s.flags)}function za(s){return 1==(1&s.flags)}function cr(s){return null!==s.template}function mi(s){return 0!=(512&s[2])}function eo(s,o){return s.hasOwnProperty(nn)?s[nn]:null}class Bd{constructor(o,l,u){this.previousValue=o,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function sa(){return Do}function Do(s){return s.type.prototype.ngOnChanges&&(s.setInput=ko),ky}function ky(){const s=Yc(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===We)s.previous=o;else for(let u in o)l[u]=o[u];s.current=null,this.ngOnChanges(o)}}function ko(s,o,l,u){const d=Yc(s)||function(s,o){return s[is]=o}(s,{previous:We,current:null}),p=d.current||(d.current={}),_=d.previous,A=this.declaredInputs[l],E=_[A];p[A]=new Bd(E&&E.currentValue,o,_===We),s[u]=o}sa.ngInherit=!0;const is="__ngSimpleChanges__";function Yc(s){return s[is]||null}const oa="http://www.w3.org/2000/svg";let ql;function Ud(s){ql=s}function Nn(s){return!!s.listen}const ss={createRenderer:(s,o)=>void 0!==ql?ql:"undefined"!=typeof document?document:void 0};function Fn(s){for(;Array.isArray(s);)s=s[0];return s}function Ro(s,o){return Fn(o[s])}function Ki(s,o){return Fn(o[s.index])}function Qc(s,o){return s.data[o]}function ks(s,o){return s[o]}function ur(s,o){const l=o[s];return Is(l)?l:l[0]}function Ql(s){return 4==(4&s[2])}function eh(s){return 128==(128&s[2])}function to(s,o){return null==o?null:s[o]}function Qa(s){s[18]=0}function Po(s,o){s[5]+=o;let l=s,u=s[3];for(;null!==u&&(1===o&&1===l[5]||-1===o&&0===l[5]);)u[5]+=o,l=u,u=u[3]}const Kt={lFrame:zd(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Jl(){return Kt.bindingsEnabled}function yt(){return Kt.lFrame.lView}function dn(){return Kt.lFrame.tView}function th(s){return Kt.lFrame.contextLView=s,s[8]}function On(){let s=nh();for(;null!==s&&64===s.type;)s=s.parent;return s}function nh(){return Kt.lFrame.currentTNode}function Br(s,o){const l=Kt.lFrame;l.currentTNode=s,l.isParent=o}function Jc(){return Kt.lFrame.isParent}function $a(){Kt.lFrame.isParent=!1}function Ja(){return Kt.isInCheckNoChangesMode}function Xa(s){Kt.isInCheckNoChangesMode=s}function oi(){const s=Kt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Vr(){return Kt.lFrame.bindingIndex}function io(){return Kt.lFrame.bindingIndex++}function Qi(s){const o=Kt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function ih(s,o){const l=Kt.lFrame;l.bindingIndex=l.bindingRootIndex=s,rh(o)}function rh(s){Kt.lFrame.currentDirectiveIndex=s}function Gd(){return Kt.lFrame.currentQueryIndex}function tc(s){Kt.lFrame.currentQueryIndex=s}function nc(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function ic(s,o,l){if(l&Ne.SkipSelf){let d=o,p=s;for(;!(d=d.parent,null!==d||l&Ne.Host||(d=nc(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;o=d,s=p}const u=Kt.lFrame=la();return u.currentTNode=o,u.lView=s,!0}function rc(s){const o=la(),l=s[1];Kt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function la(){const s=Kt.lFrame,o=null===s?null:s.child;return null===o?zd(s):o}function zd(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Wd(){const s=Kt.lFrame;return Kt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const qd=Wd;function ca(){const s=Wd();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function $i(){return Kt.lFrame.selectedIndex}function sc(s){Kt.lFrame.selectedIndex=s}function yi(){const s=Kt.lFrame;return Qc(s.tView,s.selectedIndex)}function Zd(){Kt.lFrame.currentNamespace=oa}function Oy(){Kt.lFrame.currentNamespace=null}function tl(s,o){for(let l=o.directiveStart,u=o.directiveEnd;l<u;l++){const p=s.data[l].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:A,ngAfterViewInit:E,ngAfterViewChecked:z,ngOnDestroy:le}=p;_&&(s.contentHooks||(s.contentHooks=[])).push(-l,_),A&&((s.contentHooks||(s.contentHooks=[])).push(l,A),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,A)),E&&(s.viewHooks||(s.viewHooks=[])).push(-l,E),z&&((s.viewHooks||(s.viewHooks=[])).push(l,z),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,z)),null!=le&&(s.destroyHooks||(s.destroyHooks=[])).push(l,le)}}function nl(s,o,l){lh(s,o,3,l)}function oc(s,o,l,u){(3&s[2])===l&&lh(s,o,l,u)}function _i(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function lh(s,o,l,u){const p=null!=u?u:-1,_=o.length-1;let A=0;for(let E=void 0!==u?65535&s[18]:0;E<_;E++)if("number"==typeof o[E+1]){if(A=o[E],null!=u&&A>=u)break}else o[E]<0&&(s[18]+=65536),(A<p||-1==p)&&(ch(s,l,o,E),s[18]=(4294901760&s[18])+E+2),E++}function ch(s,o,l,u){const d=l[u]<0,p=l[u+1],A=s[d?-l[u]:l[u]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(A)}finally{}}}else try{p.call(A)}finally{}}class Xc{constructor(o,l,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function Ps(s,o,l){const u=Nn(s);let d=0;for(;d<l.length;){const p=l[d];if("number"==typeof p){if(0!==p)break;d++;const _=l[d++],A=l[d++],E=l[d++];u?s.setAttribute(o,A,E,_):o.setAttributeNS(_,A,E)}else{const _=p,A=l[++d];Ns(_)?u&&s.setProperty(o,_,A):u?s.setAttribute(o,_,A):o.setAttribute(_,A),d++}}return d}function Kd(s){return 3===s||4===s||6===s}function Ns(s){return 64===s.charCodeAt(0)}function ro(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let u=0;u<o.length;u++){const d=o[u];"number"==typeof d?l=d:0===l||Qd(s,l,d,null,-1===l||2===l?o[++u]:null)}}return s}function Qd(s,o,l,u,d){let p=0,_=s.length;if(-1===o)_=-1;else for(;p<s.length;){const A=s[p++];if("number"==typeof A){if(A===o){_=-1;break}if(A>o){_=p-1;break}}}for(;p<s.length;){const A=s[p];if("number"==typeof A)break;if(A===l){if(null===u)return void(null!==d&&(s[p+1]=d));if(u===s[p+1])return void(s[p+2]=d)}p++,null!==u&&p++,null!==d&&p++}-1!==_&&(s.splice(_,0,o),p=_+1),s.splice(p++,0,l),null!==u&&s.splice(p++,0,u),null!==d&&s.splice(p++,0,d)}function Yn(s){return-1!==s}function so(s){return 32767&s}function ha(s,o){let l=function(s){return s>>16}(s),u=o;for(;l>0;)u=u[15],l--;return u}let lc=!0;function il(s){const o=lc;return lc=s,o}let ph=0;function oo(s,o){const l=Un(s,o);if(-1!==l)return l;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,da(u.data,s),da(o,null),da(u.blueprint,null));const d=Rt(s,o),p=s.injectorIndex;if(Yn(d)){const _=so(d),A=ha(d,o),E=A[1].data;for(let z=0;z<8;z++)o[p+z]=A[_+z]|E[_+z]}return o[p+8]=d,p}function da(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Un(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Rt(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,u=null,d=o;for(;null!==d;){const p=d[1],_=p.type;if(u=2===_?p.declTNode:1===_?d[6]:null,null===u)return-1;if(l++,d=d[15],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return-1}function cn(s,o,l){!function(s,o,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(Zt)&&(u=l[Zt]),null==u&&(u=l[Zt]=ph++);const d=255&u;o.data[s+(d>>5)]|=1<<d}(s,o,l)}function Hi(s,o,l){if(l&Ne.Optional)return s;Y(o,"NodeInjector")}function No(s,o,l,u){if(l&Ne.Optional&&void 0===u&&(u=null),0==(l&(Ne.Self|Ne.Host))){const d=s[9],p=st(void 0);try{return d?d.get(o,u,l&Ne.Optional):Ke(o,u,l&Ne.Optional)}finally{st(p)}}return Hi(u,o,l)}function fa(s,o,l,u=Ne.Default,d){if(null!==s){const p=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Zt)?s[Zt]:void 0;return"number"==typeof o?o>=0?255&o:eu:o}(l);if("function"==typeof p){if(!ic(o,s,u))return u&Ne.Host?Hi(d,l,u):No(o,l,u,d);try{const _=p(u);if(null!=_||u&Ne.Optional)return _;Y(l)}finally{qd()}}else if("number"==typeof p){let _=null,A=Un(s,o),E=-1,z=u&Ne.Host?o[16][6]:null;for((-1===A||u&Ne.SkipSelf)&&(E=-1===A?Rt(s,o):o[A+8],-1!==E&&uc(u,!1)?(_=o[1],A=so(E),o=ha(E,o)):A=-1);-1!==A;){const le=o[1];if(tu(p,A,le.data)){const De=A0(A,o,l,_,u,z);if(De!==ai)return De}E=o[A+8],-1!==E&&uc(u,o[1].data[A+8]===z)&&tu(p,A,o)?(_=le,A=so(E),o=ha(E,o)):A=-1}}}return No(o,l,u,d)}const ai={};function eu(){return new Lo(On(),yt())}function A0(s,o,l,u,d,p){const _=o[1],A=_.data[s+8],le=Fo(A,_,l,null==u?Ga(A)&&lc:u!=_&&0!=(3&A.type),d&Ne.Host&&p===A);return null!==le?jn(o,_,le,A):ai}function Fo(s,o,l,u,d){const p=s.providerIndexes,_=o.data,A=1048575&p,E=s.directiveStart,le=p>>20,Me=d?A+le:s.directiveEnd;for(let Ye=u?A:A+le;Ye<Me;Ye++){const Qe=_[Ye];if(Ye<E&&l===Qe||Ye>=E&&Qe.type===l)return Ye}if(d){const Ye=_[E];if(Ye&&cr(Ye)&&Ye.type===l)return E}return null}function jn(s,o,l,u){let d=s[l];const p=o.data;if(function(s){return s instanceof Xc}(d)){const _=d;_.resolving&&function(s,o){throw new q("200",`Circular dependency in DI detected for ${s}`)}(V(p[l]));const A=il(_.canSeeViewProviders);_.resolving=!0;const E=_.injectImpl?st(_.injectImpl):null;ic(s,u,Ne.Default);try{d=s[l]=_.factory(void 0,p,s,u),o.firstCreatePass&&l>=u.directiveStart&&function(s,o,l){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:p}=o.type.prototype;if(u){const _=Do(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,_),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,_)}d&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,d),p&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,p),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,p))}(l,p[l],o)}finally{null!==E&&st(E),il(A),_.resolving=!1,qd()}}return d}function tu(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function uc(s,o){return!(s&Ne.Self||s&Ne.Host&&o)}class Lo{constructor(o,l){this._tNode=o,this._lView=l}get(o,l){return fa(this._tNode,this._lView,o,void 0,l)}}function mh(s){return fe(()=>{const o=s.prototype.constructor,l=o[nn]||rl(o),u=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==u;){const p=d[nn]||rl(d);if(p&&p!==l)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function rl(s){return Q(s)?()=>{const o=rl(B(s));return o&&o()}:eo(s)}function Xd(s){return function(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const u=l.length;let d=0;for(;d<u;){const p=l[d];if(Kd(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<u&&"string"==typeof l[d];)d++;else{if(p===o)return l[d+1];d+=2}}}return null}(On(),s)}const Ur="__parameters__";function as(s,o,l){return fe(()=>{const u=function(s){return function(...l){if(s){const u=s(...l);for(const d in u)this[d]=u[d]}}}(o);function d(...p){if(this instanceof d)return u.apply(this,p),this;const _=new d(...p);return A.annotation=_,A;function A(E,z,le){const De=E.hasOwnProperty(Ur)?E[Ur]:Object.defineProperty(E,Ur,{value:[]})[Ur];for(;De.length<=le;)De.push(null);return(De[le]=De[le]||[]).push(_),E}}return l&&(d.prototype=Object.create(l.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class Wn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=X({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const cg=new Wn("AnalyzeForEntryComponents"),Ls=Function;function cs(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let u=s[l];Array.isArray(u)?(o===s&&(o=s.slice(0,l)),cs(u,o)):o!==s&&o.push(u)}return o}function Bs(s,o){s.forEach(l=>Array.isArray(l)?Bs(l,o):o(l))}function pa(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function Tr(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function co(s,o){const l=[];for(let u=0;u<s;u++)l.push(o);return l}function Qn(s,o,l){let u=Uo(s,o);return u>=0?s[1|u]=l:(u=~u,function(s,o,l,u){let d=s.length;if(d==o)s.push(l,u);else if(1===d)s.push(u,s[0]),s[0]=l;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=l,s[o+1]=u}}(s,u,o,l)),u}function li(s,o){const l=Uo(s,o);if(l>=0)return s[1|l]}function Uo(s,o){return function(s,o,l){let u=0,d=s.length>>l;for(;d!==u;){const p=u+(d-u>>1),_=s[p<<l];if(o===_)return p<<l;_>o?d=p:u=p+1}return~(d<<l)}(s,o,1)}const bn={},kn="__NG_DI_FLAG__",ci="ngTempTokenPath",Ti=/\n/gm,dc="__source",Hr=ce({provide:String,useValue:ce});let kr;function rn(s){const o=kr;return kr=s,o}function ug(s,o=Ne.Default){if(void 0===kr)throw new Error("inject() must be called from an injection context");return null===kr?Ke(s,void 0,o):kr.get(s,o&Ne.Optional?null:void 0,o)}function Hn(s,o=Ne.Default){return(it||ug)(B(s),o)}const cf=Hn;function ul(s){const o=[];for(let l=0;l<s.length;l++){const u=B(s[l]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let d,p=Ne.Default;for(let _=0;_<u.length;_++){const A=u[_],E=Ly(A);"number"==typeof E?-1===E?d=A.token:p|=E:d=A}o.push(Hn(d,p))}else o.push(Hn(u))}return o}function _h(s,o){return s[kn]=o,s.prototype[kn]=o,s}function Ly(s){return s[kn]}function us(s,o,l,u){const d=s[ci];throw o[dc]&&d.unshift(o[dc]),s.message=function(s,o,l,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let d=xe(o);if(Array.isArray(o))d=o.map(xe).join(" -> ");else if("object"==typeof o){let p=[];for(let _ in o)if(o.hasOwnProperty(_)){let A=o[_];p.push(_+":"+("string"==typeof A?JSON.stringify(A):xe(A)))}d=`{${p.join(", ")}}`}return`${l}${u?"("+u+")":""}[${d}]: ${s.replace(Ti,"\n  ")}`}("\n"+s.message,d,l,u),s.ngTokenPath=d,s[ci]=null,s}const fc=_h(as("Inject",s=>({token:s})),-1),jo=_h(as("Optional"),8),Ji=_h(as("SkipSelf"),4);let ou,hf;function ya(s){var o;return(null===(o=function(){if(void 0===ou&&(ou=null,Et.trustedTypes))try{ou=Et.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return ou}())||void 0===o?void 0:o.createHTML(s))||s}function pg(s){var o;return(null===(o=function(){if(void 0===hf&&(hf=null,Et.trustedTypes))try{hf=Et.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return hf}())||void 0===o?void 0:o.createScriptURL(s))||s}class _a{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class C0 extends _a{getTypeName(){return"HTML"}}class Gy extends _a{getTypeName(){return"Style"}}class Eh extends _a{getTypeName(){return"Script"}}class E0 extends _a{getTypeName(){return"URL"}}class x0 extends _a{getTypeName(){return"ResourceURL"}}function Aa(s){return s instanceof _a?s.changingThisBreaksApplicationSecurity:s}function xh(s,o){const l=hl(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function hl(s){return s instanceof _a&&s.getTypeName()||null}function zy(s){return new C0(s)}function gg(s){return new Gy(s)}function Sh(s){return new Eh(s)}function va(s){return new E0(s)}function _c(s){return new x0(s)}class Wy{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(ya(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class yg{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const u=this.inertDocument.createElement("body");l.appendChild(u)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=ya(o),l;const u=this.inertDocument.createElement("body");return u.innerHTML=ya(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const l=o.attributes;for(let d=l.length-1;0<d;d--){const _=l.item(d).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const qy=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ff=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function au(s){return(s=String(s)).match(qy)||s.match(ff)?s:"unsafe:"+s}function uo(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function Ac(...s){const o={};for(const l of s)for(const u in l)l.hasOwnProperty(u)&&(o[u]=!0);return o}const Ih=uo("area,br,col,hr,img,wbr"),gf=uo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Th=uo("rp,rt"),_g=Ac(Ih,Ac(gf,uo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ac(Th,uo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ac(Th,gf)),lu=uo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Go=uo("srcset"),Ag=Ac(lu,Go,uo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),uo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),$y=uo("script,style,template");class vg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,u=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?u=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,u&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let d=this.checkClobberedElement(l,l.nextSibling);if(d){l=d;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!_g.hasOwnProperty(l))return this.sanitizedSomething=!0,!$y.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const u=o.attributes;for(let d=0;d<u.length;d++){const p=u.item(d),_=p.name,A=_.toLowerCase();if(!Ag.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let E=p.value;lu[A]&&(E=au(E)),Go[A]&&(s=E,E=(s=String(s)).split(",").map(o=>au(o.trim())).join(", ")),this.buf.push(" ",_,'="',Jy(E),'"')}var s;return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();_g.hasOwnProperty(l)&&!Ih.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(Jy(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const T0=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,D0=/([^\#-~ |!])/g;function Jy(s){return s.replace(/&/g,"&amp;").replace(T0,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(D0,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let dl;function Dh(s,o){let l=null;try{dl=dl||function(s){const o=new yg(s);return function(){try{return!!(new window.DOMParser).parseFromString(ya(""),"text/html")}catch(s){return!1}}()?new Wy(o):o}(s);let u=o?String(o):"";l=dl.getInertBodyElement(u);let d=5,p=u;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,u=p,p=l.innerHTML,l=dl.getInertBodyElement(u)}while(u!==p);return ya((new vg).sanitizeChildren(mf(l)||l))}finally{if(l){const u=mf(l)||l;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function mf(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var ui=(()=>((ui=ui||{})[ui.NONE=0]="NONE",ui[ui.HTML=1]="HTML",ui[ui.STYLE=2]="STYLE",ui[ui.SCRIPT=3]="SCRIPT",ui[ui.URL=4]="URL",ui[ui.RESOURCE_URL=5]="RESOURCE_URL",ui))();function yf(s){const o=Mh();return o?o.sanitize(ui.URL,s)||"":xh(s,"URL")?Aa(s):au(R(s))}function kh(s){const o=Mh();if(o)return pg(o.sanitize(ui.RESOURCE_URL,s)||"");if(xh(s,"ResourceURL"))return pg(Aa(s));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function Mh(){const s=yt();return s&&s[12]}const vc="__ngContext__";function er(s,o){s[vc]=o}function Af(s){const o=function(s){return s[vc]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Cc(s){return s.ngOriginalError}function g(s,...o){s.error(...o)}class y{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),u=this._findContext(o),d=(s=o)&&s.ngErrorLogger||g;var s;d(this._console,"ERROR",o),l&&d(this._console,"ORIGINAL ERROR",l),u&&d(this._console,"ERROR CONTEXT",u)}_findContext(o){return o?o.ngDebugContext||this._findContext(Cc(o)):null}_findOriginalError(o){let l=o&&Cc(o);for(;l&&Cc(l);)l=Cc(l);return l||null}}const Ig=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Et))();function bf(s){return s.ownerDocument.defaultView}function xc(s){return s.ownerDocument}function ho(s){return s instanceof Function?s():s}var js=(()=>((js=js||{})[js.Important=1]="Important",js[js.DashCase=2]="DashCase",js))();function s_(s,o){return undefined(s,o)}function kg(s){const o=s[3];return Yi(o)?o[3]:o}function o_(s){return P0(s[13])}function gx(s){return P0(s[4])}function P0(s){for(;null!==s&&!Yi(s);)s=s[4];return s}function Nh(s,o,l,u,d){if(null!=u){let p,_=!1;Yi(u)?p=u:Is(u)&&(_=!0,u=u[0]);const A=Fn(u);0===s&&null!==l?null==d?vx(o,l,A):du(o,l,A,d||null,!0):1===s&&null!==l?du(o,l,A,d||null,!0):2===s?function(s,o,l){const u=u_(s,o);u&&function(s,o,l,u){Nn(s)?s.removeChild(o,l,u):o.removeChild(l)}(s,u,o,l)}(o,A,_):3===s&&o.destroyNode(A),null!=p&&function(s,o,l,u,d){const p=l[7];p!==Fn(l)&&Nh(o,s,u,p,d);for(let A=10;A<l.length;A++){const E=l[A];Lh(E[1],E,s,o,u,p)}}(o,s,p,l,d)}}function N0(s,o,l){return Nn(s)?s.createElement(o,l):null===l?s.createElement(o):s.createElementNS(l,o)}function l_(s,o){const l=s[9],u=l.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,Po(d,-1)),l.splice(u,1)}function c_(s,o){if(s.length<=10)return;const l=10+o,u=s[l];if(u){const d=u[17];null!==d&&d!==s&&l_(d,u),o>0&&(s[l-1][4]=u[4]);const p=Tr(s,10+o);!function(s,o){Lh(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const _=p[19];null!==_&&_.detachView(p[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function yx(s,o){if(!(256&o[2])){const l=o[11];Nn(l)&&l.destroyNode&&Lh(s,o,l,3,null,null),function(s){let o=s[13];if(!o)return hu(s[1],s);for(;o;){let l=null;if(Is(o))l=o[13];else{const u=o[10];u&&(l=u)}if(!l){for(;o&&!o[4]&&o!==s;)Is(o)&&hu(o[1],o),o=o[3];null===o&&(o=s),Is(o)&&hu(o[1],o),l=o&&o[4]}o=l}}(o)}}function hu(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let u=0;u<l.length;u+=2){const d=o[l[u]];if(!(d instanceof Xc)){const p=l[u+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const A=d[p[_]],E=p[_+1];try{E.call(A)}finally{}}else try{p.call(d)}finally{}}}}(s,o),function(s,o){const l=s.cleanup,u=o[7];let d=-1;if(null!==l)for(let p=0;p<l.length-1;p+=2)if("string"==typeof l[p]){const _=l[p+1],A="function"==typeof _?_(o):Fn(o[_]),E=u[d=l[p+2]],z=l[p+3];"boolean"==typeof z?A.removeEventListener(l[p],E,z):z>=0?u[d=z]():u[d=-z].unsubscribe(),p+=2}else{const _=u[d=l[p+1]];l[p].call(_)}if(null!==u){for(let p=d+1;p<u.length;p++)u[p]();o[7]=null}}(s,o),1===o[1].type&&Nn(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&Yi(o[3])){l!==o[3]&&l_(l,o);const u=o[19];null!==u&&u.detachView(s)}}}function _x(s,o,l){return function(s,o,l){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return l[0];if(2&u.flags){const d=s.data[u.directiveStart].encapsulation;if(d===je.None||d===je.Emulated)return null}return Ki(u,l)}(s,o.parent,l)}function du(s,o,l,u,d){Nn(s)?s.insertBefore(o,l,u,d):o.insertBefore(l,u,d)}function vx(s,o,l){Nn(s)?s.appendChild(o,l):o.appendChild(l)}function bx(s,o,l,u,d){null!==u?du(s,o,l,u,d):vx(s,o,l)}function u_(s,o){return Nn(s)?s.parentNode(o):o.parentNode}function d_(s,o,l){return Fh(s,o,l)}let Fh=function(s,o,l){return 40&s.type?Ki(s,l):null};function wf(s,o,l,u){const d=_x(s,u,o),p=o[11],A=d_(u.parent||o[6],u,o);if(null!=d)if(Array.isArray(l))for(let E=0;E<l.length;E++)bx(p,d,l[E],A,!1);else bx(p,d,l,A,!1)}function p_(s,o){if(null!==o){const l=o.type;if(3&l)return Ki(o,s);if(4&l)return g_(-1,s[o.index]);if(8&l){const u=o.child;if(null!==u)return p_(s,u);{const d=s[o.index];return Yi(d)?g_(-1,d):Fn(d)}}if(32&l)return s_(o,s)()||Fn(s[o.index]);{const u=L0(s,o);return null!==u?Array.isArray(u)?u[0]:p_(kg(s[16]),u):p_(s,o.next)}}return null}function L0(s,o){return null!==o?s[16][6].projection[o.projection]:null}function g_(s,o){const l=10+s+1;if(l<o.length){const u=o[l],d=u[1].firstChild;if(null!==d)return p_(u,d)}return o[7]}function m_(s,o,l,u,d,p,_){for(;null!=l;){const A=u[l.index],E=l.type;if(_&&0===o&&(A&&er(Fn(A),u),l.flags|=4),64!=(64&l.flags))if(8&E)m_(s,o,l.child,u,d,p,!1),Nh(o,s,d,A,p);else if(32&E){const z=s_(l,u);let le;for(;le=z();)Nh(o,s,d,le,p);Nh(o,s,d,A,p)}else 16&E?fu(s,o,u,l,d,p):Nh(o,s,d,A,p);l=_?l.projectionNext:l.next}}function Lh(s,o,l,u,d,p){m_(l,u,s.firstChild,o,d,p,!1)}function fu(s,o,l,u,d,p){const _=l[16],E=_[6].projection[u.projection];if(Array.isArray(E))for(let z=0;z<E.length;z++)Nh(o,s,d,E[z],p);else m_(s,o,E,_[3],d,p,!0)}function Ex(s,o,l){Nn(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function V0(s,o,l){Nn(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function U0(s,o,l){let u=s.length;for(;;){const d=s.indexOf(o,l);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const p=o.length;if(d+p===u||s.charCodeAt(d+p)<=32)return d}l=d+1}}const xx="ng-template";function aM(s,o,l){let u=0;for(;u<s.length;){let d=s[u++];if(l&&"class"===d){if(d=s[u],-1!==U0(d.toLowerCase(),o,0))return!0}else if(1===d){for(;u<s.length&&"string"==typeof(d=s[u++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function j0(s){return 4===s.type&&s.value!==xx}function lM(s,o,l){return o===(4!==s.type||l?s.value:xx)}function cM(s,o,l){let u=4;const d=s.attrs||[],p=function(s){for(let o=0;o<s.length;o++)if(Kd(s[o]))return o;return s.length}(d);let _=!1;for(let A=0;A<o.length;A++){const E=o[A];if("number"!=typeof E){if(!_)if(4&u){if(u=2|1&u,""!==E&&!lM(s,E,l)||""===E&&1===o.length){if(wa(u))return!1;_=!0}}else{const z=8&u?E:o[++A];if(8&u&&null!==s.attrs){if(!aM(s.attrs,z,l)){if(wa(u))return!1;_=!0}continue}const De=H0(8&u?"class":E,d,j0(s),l);if(-1===De){if(wa(u))return!1;_=!0;continue}if(""!==z){let Me;Me=De>p?"":d[De+1].toLowerCase();const Ye=8&u?Me:null;if(Ye&&-1!==U0(Ye,z,0)||2&u&&z!==Me){if(wa(u))return!1;_=!0}}}}else{if(!_&&!wa(u)&&!wa(E))return!1;if(_&&wa(E))continue;_=!1,u=E|1&u}}return wa(u)||_}function wa(s){return 0==(1&s)}function H0(s,o,l,u){if(null===o)return-1;let d=0;if(u||!l){let p=!1;for(;d<o.length;){const _=o[d];if(_===s)return d;if(3===_||6===_)p=!0;else{if(1===_||2===_){let A=o[++d];for(;"string"==typeof A;)A=o[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=p?1:2}return-1}return function(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const u=s[l];if("number"==typeof u)return-1;if(u===o)return l;l++}return-1}(o,s)}function Sx(s,o,l=!1){for(let u=0;u<o.length;u++)if(cM(s,o[u],l))return!0;return!1}function oF(s,o){e:for(let l=0;l<o.length;l++){const u=o[l];if(s.length===u.length){for(let d=0;d<s.length;d++)if(s[d]!==u[d])continue e;return!0}}return!1}function G0(s,o){return s?":not("+o.trim()+")":o}function Tx(s){let o=s[0],l=1,u=2,d="",p=!1;for(;l<s.length;){let _=s[l];if("string"==typeof _)if(2&u){const A=s[++l];d+="["+_+(A.length>0?'="'+A+'"':"")+"]"}else 8&u?d+="."+_:4&u&&(d+=" "+_);else""!==d&&!wa(_)&&(o+=G0(p,d),d=""),u=_,p=p||!wa(u);l++}return""!==d&&(o+=G0(p,d)),o}const un={};function Dx(s){kx(dn(),yt(),$i()+s,Ja())}function kx(s,o,l,u){if(!u)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&nl(o,p,l)}else{const p=s.preOrderHooks;null!==p&&oc(o,p,0,l)}sc(l)}function y_(s,o){return s<<17|o<<2}function Ca(s){return s>>17&32767}function z0(s){return 2|s}function Sc(s){return(131068&s)>>2}function W0(s,o){return-131069&s|o<<2}function q0(s){return 1|s}function ft(s,o){const l=s.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const d=l[u],p=l[u+1];if(-1!==p){const _=s.data[p];tc(d),_.contentQueries(2,o[p],p)}}}function mu(s,o,l,u,d,p,_,A,E,z){const le=o.blueprint.slice();return le[0]=d,le[2]=140|u,Qa(le),le[3]=le[15]=s,le[8]=l,le[10]=_||s&&s[10],le[11]=A||s&&s[11],le[12]=E||s&&s[12]||null,le[9]=z||s&&s[9]||null,le[6]=p,le[16]=2==o.type?s[16]:le,le}function Cf(s,o,l,u,d){let p=s.data[o];if(null===p)p=function(s,o,l,u,d){const p=nh(),_=Jc(),E=s.data[o]=function(s,o,l,u,d,p){return{type:l,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,l,o,u,d);return null===s.firstChild&&(s.firstChild=E),null!==p&&(_?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}(s,o,l,u,d),Kt.lFrame.inI18n&&(p.flags|=64);else if(64&p.type){p.type=l,p.value=u,p.attrs=d;const _=function(){const s=Kt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return Br(p,!0),p}function pl(s,o,l,u){if(0===l)return-1;const d=o.length;for(let p=0;p<l;p++)o.push(u),s.blueprint.push(u),s.data.push(null);return d}function Pg(s,o,l){rc(o);try{const u=s.viewQuery;null!==u&&jg(1,u,l);const d=s.template;null!==d&&CM(s,o,d,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&ft(s,o),s.staticViewQueries&&jg(2,s.viewQuery,l);const p=s.components;null!==p&&function(s,o){for(let l=0;l<o.length;l++)ib(s,o[l])}(o,p)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,ca()}}function Ef(s,o,l,u){const d=o[2];if(256==(256&d))return;rc(o);const p=Ja();try{Qa(o),function(s){Kt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&CM(s,o,l,2,u);const _=3==(3&d);if(!p)if(_){const z=s.preOrderCheckHooks;null!==z&&nl(o,z,null)}else{const z=s.preOrderHooks;null!==z&&oc(o,z,0,null),_i(o,0)}if(function(s){for(let o=o_(s);null!==o;o=gx(o)){if(!o[2])continue;const l=o[9];for(let u=0;u<l.length;u++){const d=l[u],p=d[3];0==(1024&d[2])&&Po(p,1),d[2]|=1024}}}(o),function(s){for(let o=o_(s);null!==o;o=gx(o))for(let l=10;l<o.length;l++){const u=o[l],d=u[1];eh(u)&&Ef(d,u,d.template,u[8])}}(o),null!==s.contentQueries&&ft(s,o),!p)if(_){const z=s.contentCheckHooks;null!==z&&nl(o,z)}else{const z=s.contentHooks;null!==z&&oc(o,z,1),_i(o,1)}!function(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let u=0;u<l.length;u++){const d=l[u];if(d<0)sc(~d);else{const p=d,_=l[++u],A=l[++u];ih(_,p),A(2,o[p])}}}finally{sc(-1)}}(s,o);const A=s.components;null!==A&&function(s,o){for(let l=0;l<o.length;l++)xf(s,o[l])}(o,A);const E=s.viewQuery;if(null!==E&&jg(2,E,u),!p)if(_){const z=s.viewCheckHooks;null!==z&&nl(o,z)}else{const z=s.viewHooks;null!==z&&oc(o,z,2),_i(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Po(o[3],-1))}finally{ca()}}function ps(s,o,l,u){const d=o[10],p=!Ja(),_=Ql(o);try{p&&!_&&d.begin&&d.begin(),_&&Pg(s,o,u),Ef(s,o,l,u)}finally{p&&!_&&d.end&&d.end()}}function CM(s,o,l,u,d){const p=$i(),_=2&u;try{sc(-1),_&&o.length>20&&kx(s,o,20,Ja()),l(u,d)}finally{sc(p)}}function X0(s,o,l){if(Zc(o)){const d=o.directiveEnd;for(let p=o.directiveStart;p<d;p++){const _=s.data[p];_.contentQueries&&_.contentQueries(1,l[p],p)}}}function fo(s,o,l){!Jl()||(function(s,o,l,u){const d=l.directiveStart,p=l.directiveEnd;s.firstCreatePass||oo(l,o),er(u,o);const _=l.initialInputs;for(let A=d;A<p;A++){const E=s.data[A],z=cr(E);z&&zx(o,l,E);const le=jn(o,s,A,l);er(le,o),null!==_&&Wx(0,A-d,le,E,0,_),z&&(ur(l.index,o)[8]=le)}}(s,o,l,Ki(l,o)),128==(128&l.flags)&&function(s,o,l){const u=l.directiveStart,d=l.directiveEnd,_=l.index,A=Kt.lFrame.currentDirectiveIndex;try{sc(_);for(let E=u;E<d;E++){const z=s.data[E],le=o[E];rh(E),(null!==z.hostBindings||0!==z.hostVars||null!==z.hostAttrs)&&tb(z,le)}}finally{sc(-1),rh(A)}}(s,o,l))}function Ea(s,o,l=Ki){const u=o.localNames;if(null!==u){let d=o.index+1;for(let p=0;p<u.length;p+=2){const _=u[p+1],A=-1===_?l(o,s):s[_];s[d++]=A}}}function qo(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Pe(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Pe(s,o,l,u,d,p,_,A,E,z){const le=20+u,De=le+d,Me=function(s,o){const l=[];for(let u=0;u<o;u++)l.push(u<s?null:un);return l}(le,De),Ye="function"==typeof z?z():z;return Me[1]={type:s,blueprint:Me,template:l,queries:null,viewQuery:A,declTNode:o,data:Me.slice().fill(null,le),bindingStartIndex:le,expandoStartIndex:De,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:E,consts:Ye,incompleteFirstPass:!1}}function ln(s,o,l,u){const d=Yx(o);null===l?d.push(u):(d.push(l),s.firstCreatePass&&Mr(s).push(u,d.length-1))}function E_(s,o,l){for(let u in s)if(s.hasOwnProperty(u)){const d=s[u];(l=null===l?{}:l).hasOwnProperty(u)?l[u].push(o,d):l[u]=[o,d]}return l}function gs(s,o,l,u,d,p,_,A){const E=Ki(o,l);let le,z=o.inputs;!A&&null!=z&&(le=z[u])?(If(s,l,le,u,d),Ga(o)&&function(s,o){const l=ur(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(u=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),d=null!=_?_(d,o.value||"",u):d,Nn(p)?p.setProperty(E,u,d):Ns(u)||(E.setProperty?E.setProperty(u,d):E[u]=d))}function eb(s,o,l,u){let d=!1;if(Jl()){const p=function(s,o,l){const u=s.directiveRegistry;let d=null;if(u)for(let p=0;p<u.length;p++){const _=u[p];Sx(l,_.selectors,!1)&&(d||(d=[]),cn(oo(l,o),s,_.type),cr(_)?(Lg(s,l),d.unshift(_)):d.push(_))}return d}(s,o,l),_=null===u?null:{"":-1};if(null!==p){d=!0,x_(l,s.data.length,p.length);for(let le=0;le<p.length;le++){const De=p[le];De.providersResolver&&De.providersResolver(De)}let A=!1,E=!1,z=pl(s,o,p.length,null);for(let le=0;le<p.length;le++){const De=p[le];l.mergedAttrs=ro(l.mergedAttrs,De.hostAttrs),Wr(s,l,o,z,De),ms(z,De,_),null!==De.contentQueries&&(l.flags|=8),(null!==De.hostBindings||null!==De.hostAttrs||0!==De.hostVars)&&(l.flags|=128);const Me=De.type.prototype;!A&&(Me.ngOnChanges||Me.ngOnInit||Me.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),A=!0),!E&&(Me.ngOnChanges||Me.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),E=!0),z++}!function(s,o){const u=o.directiveEnd,d=s.data,p=o.attrs,_=[];let A=null,E=null;for(let z=o.directiveStart;z<u;z++){const le=d[z],De=le.inputs,Me=null===p||j0(o)?null:qx(De,p);_.push(Me),A=E_(De,z,A),E=E_(le.outputs,z,E)}null!==A&&(A.hasOwnProperty("class")&&(o.flags|=16),A.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=A,o.outputs=E}(s,l)}_&&function(s,o,l){if(o){const u=s.localNames=[];for(let d=0;d<o.length;d+=2){const p=l[o[d+1]];if(null==p)throw new q("301",`Export of name '${o[d+1]}' not found!`);u.push(o[d],p)}}}(l,u,_)}return l.mergedAttrs=ro(l.mergedAttrs,l.attrs),d}function Ux(s,o,l,u,d,p){const _=p.hostBindings;if(_){let A=s.hostBindingOpCodes;null===A&&(A=s.hostBindingOpCodes=[]);const E=~o.index;(function(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(A)!=E&&A.push(E),A.push(u,d,_)}}function tb(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Lg(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function ms(s,o,l){if(l){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)l[o.exportAs[u]]=s;cr(o)&&(l[""]=s)}}function x_(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function Wr(s,o,l,u,d){s.data[u]=d;const p=d.factory||(d.factory=eo(d.type)),_=new Xc(p,cr(d),null);s.blueprint[u]=_,l[u]=_,Ux(s,o,0,u,pl(s,l,d.hostVars,un),d)}function zx(s,o,l){const u=Ki(o,s),d=qo(l),p=s[10],_=T_(s,mu(s,d,null,l.onPush?64:16,u,o,p,p.createRenderer(u,l),null,null));s[o.index]=_}function xa(s,o,l,u,d,p){const _=Ki(s,o);!function(s,o,l,u,d,p,_){if(null==p)Nn(s)?s.removeAttribute(o,d,l):o.removeAttribute(d);else{const A=null==_?R(p):_(p,u||"",d);Nn(s)?s.setAttribute(o,d,A,l):l?o.setAttributeNS(l,d,A):o.setAttribute(d,A)}}(o[11],_,p,s.value,l,u,d)}function Wx(s,o,l,u,d,p){const _=p[o];if(null!==_){const A=u.setInput;for(let E=0;E<_.length;){const z=_[E++],le=_[E++],De=_[E++];null!==A?u.setInput(l,De,z,le):l[le]=De}}}function qx(s,o){let l=null,u=0;for(;u<o.length;){const d=o[u];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===l&&(l=[]),l.push(d,s[d],o[u+1])),u+=2}else u+=2;else u+=4}return l}function S_(s,o,l,u){return new Array(s,!0,!1,o,null,0,u,l,null,null)}function xf(s,o){const l=ur(o,s);if(eh(l)){const u=l[1];80&l[2]?Ef(u,l,u.template,l[8]):l[5]>0&&I_(l)}}function I_(s){for(let u=o_(s);null!==u;u=gx(u))for(let d=10;d<u.length;d++){const p=u[d];if(1024&p[2]){const _=p[1];Ef(_,p,_.template,p[8])}else p[5]>0&&I_(p)}const l=s[1].components;if(null!==l)for(let u=0;u<l.length;u++){const d=ur(l[u],s);eh(d)&&d[5]>0&&I_(d)}}function ib(s,o){const l=ur(o,s),u=l[1];(function(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(u,l),Pg(u,l,l[8])}function T_(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function D_(s){for(;s;){s[2]|=64;const o=kg(s);if(mi(s)&&!o)return s;s=o}return null}function Ug(s,o,l){const u=o[10];u.begin&&u.begin();try{Ef(s,o,s.template,l)}catch(d){throw Kx(o,d),d}finally{u.end&&u.end()}}function M_(s){!function(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],u=Af(l),d=u[1];ps(d,u,d.template,l)}}(s[8])}function jg(s,o,l){tc(0),o(s,l)}const NM=(()=>Promise.resolve(null))();function Yx(s){return s[7]||(s[7]=[])}function Mr(s){return s.cleanup||(s.cleanup=[])}function Kx(s,o){const l=s[9],u=l?l.get(y,null):null;u&&u.handleError(o)}function If(s,o,l,u,d){for(let p=0;p<l.length;){const _=l[p++],A=l[p++],E=o[_],z=s.data[_];null!==z.setInput?z.setInput(E,d,u,A):E[A]=d}}function Tc(s,o,l){const u=Ro(o,s);!function(s,o,l){Nn(s)?s.setValue(o,l):o.textContent=l}(s[11],u,l)}function R_(s,o,l){let u=l?s.styles:null,d=l?s.classes:null,p=0;if(null!==o)for(let _=0;_<o.length;_++){const A=o[_];"number"==typeof A?p=A:1==p?d=he(d,A):2==p&&(u=he(u,A+": "+o[++_]+";"))}l?s.styles=u:s.stylesWithoutHost=u,l?s.classes=d:s.classesWithoutHost=d}const _u=new Wn("INJECTOR",-1);class N_{get(o,l=bn){if(l===bn){const u=new Error(`NullInjectorError: No provider for ${xe(o)}!`);throw u.name="NullInjectorError",u}return l}}const Bh=new Wn("Set Injector scope."),Tf={},$x={};let rb;function sb(){return void 0===rb&&(rb=new N_),rb}function F_(s,o=null,l=null,u){return new Xx(s,l,o||sb(),u)}class Xx{constructor(o,l,u,d=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];l&&Bs(l,A=>this.processProvider(A,o,l)),Bs([o],A=>this.processInjectorType(A,[],p)),this.records.set(_u,Ai(void 0,this));const _=this.records.get(Bh);this.scope=null!=_?_.value:null,this.source=d||("object"==typeof o?null:xe(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=bn,u=Ne.Default){this.assertNotDestroyed();const d=rn(this),p=st(void 0);try{if(!(u&Ne.SkipSelf)){let A=this.records.get(o);if(void 0===A){const E=("function"==typeof(s=o)||"object"==typeof s&&s instanceof Wn)&&Te(o);A=E&&this.injectableDefInScope(E)?Ai(ob(o),Tf):null,this.records.set(o,A)}if(null!=A)return this.hydrate(o,A)}return(u&Ne.Self?sb():this.parent).get(o,l=u&Ne.Optional&&l===bn?null:l)}catch(_){if("NullInjectorError"===_.name){if((_[ci]=_[ci]||[]).unshift(xe(o)),d)throw _;return us(_,o,"R3InjectorError",this.source)}throw _}finally{st(p),rn(d)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,d)=>o.push(xe(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,l,u){if(!(o=B(o)))return!1;let d=be(o);const p=null==d&&o.ngModule||void 0,_=void 0===p?o:p,A=-1!==u.indexOf(_);if(void 0!==p&&(d=be(p)),null==d)return!1;if(null!=d.imports&&!A){let le;u.push(_);try{Bs(d.imports,De=>{this.processInjectorType(De,l,u)&&(void 0===le&&(le=[]),le.push(De))})}finally{}if(void 0!==le)for(let De=0;De<le.length;De++){const{ngModule:Me,providers:Ye}=le[De];Bs(Ye,Qe=>this.processProvider(Qe,Me,Ye||Ue))}}this.injectorDefTypes.add(_);const E=eo(_)||(()=>new _);this.records.set(_,Ai(E,Tf));const z=d.providers;if(null!=z&&!A){const le=o;Bs(z,De=>this.processProvider(De,le,z))}return void 0!==p&&void 0!==o.providers}processProvider(o,l,u){let d=Df(o=B(o))?o:B(o&&o.provide);const p=pr(s=o)?Ai(void 0,s.useValue):Ai(L_(s),Tf);var s;if(Df(o)||!0!==o.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=Ai(void 0,Tf,!0),_.factory=()=>ul(_.multi),this.records.set(d,_)),d=o,_.multi.push(o)}this.records.set(d,p)}hydrate(o,l){return l.value===Tf&&(l.value=$x,l.value=l.factory()),"object"==typeof l.value&&l.value&&null!==(s=l.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(l.value),l.value;var s}injectableDefInScope(o){if(!o.providedIn)return!1;const l=B(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function ob(s){const o=Te(s),l=null!==o?o.factory:eo(s);if(null!==l)return l;if(s instanceof Wn)throw new Error(`Token ${xe(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const o=s.length;if(o>0){const u=co(o,"?");throw new Error(`Can't resolve all parameters for ${xe(s)}: (${u.join(", ")}).`)}const l=function(s){const o=s&&(s[Ce]||s[Oe]);if(o){const l=function(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Error("unreachable")}function L_(s,o,l){let u;if(Df(s)){const d=B(s);return eo(d)||ob(d)}if(pr(s))u=()=>B(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...ul(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))u=()=>Hn(B(s.useExisting));else{const d=B(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return eo(d)||ob(d);u=()=>new d(...ul(s.deps))}return u}function Ai(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function pr(s){return null!==s&&"object"==typeof s&&Hr in s}function Df(s){return"function"==typeof s}const nS=function(s,o,l){return function(s,o=null,l=null,u){const d=F_(s,o,l,u);return d._resolveInjectorDefTypes(),d}({name:l},o,s,l)};let $n=(()=>{class s{static create(l,u){return Array.isArray(l)?nS(l,u,""):nS(l.providers,l.parent,l.name||"")}}return s.THROW_IF_NOT_FOUND=bn,s.NULL=new N_,s.\u0275prov=X({token:s,providedIn:"any",factory:()=>Hn(_u)}),s.__NG_ELEMENT_ID__=-1,s})();function lS(s,o){tl(Af(s)[1],On())}function Uh(s){let o=function(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const u=[s];for(;o;){let d;if(cr(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Error("Directives cannot inherit Components");d=o.\u0275dir}if(d){if(l){u.push(d);const _=s;_.inputs=kf(s.inputs),_.declaredInputs=kf(s.declaredInputs),_.outputs=kf(s.outputs);const A=d.hostBindings;A&&bb(s,A);const E=d.viewQuery,z=d.contentQueries;if(E&&Qg(s,E),z&&jh(s,z),ge(s.inputs,d.inputs),ge(s.declaredInputs,d.declaredInputs),ge(s.outputs,d.outputs),cr(d)&&d.data.animation){const le=s.data;le.animation=(le.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let _=0;_<p.length;_++){const A=p[_];A&&A.ngInherit&&A(s),A===Uh&&(l=!1)}}o=Object.getPrototypeOf(o)}!function(s){let o=0,l=null;for(let u=s.length-1;u>=0;u--){const d=s[u];d.hostVars=o+=d.hostVars,d.hostAttrs=ro(d.hostAttrs,l=ro(l,d.hostAttrs))}}(u)}function kf(s){return s===We?{}:s===Ue?[]:s}function Qg(s,o){const l=s.viewQuery;s.viewQuery=l?(u,d)=>{o(u,d),l(u,d)}:o}function jh(s,o){const l=s.contentQueries;s.contentQueries=l?(u,d,p)=>{o(u,d,p),l(u,d,p)}:o}function bb(s,o){const l=s.hostBindings;s.hostBindings=l?(u,d)=>{o(u,d),l(u,d)}:o}let Rf=null;function Yo(){if(!Rf){const s=Et.Symbol;if(s&&s.iterator)Rf=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const u=o[l];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Rf=u)}}}return Rf}class Sa{constructor(o){this.wrapped=o}static wrap(o){return new Sa(o)}static unwrap(o){return Sa.isWrapped(o)?o.wrapped:o}static isWrapped(o){return o instanceof Sa}}function Ia(s){return!!Of(s)&&(Array.isArray(s)||!(s instanceof Map)&&Yo()in s)}function Of(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function po(s,o,l){return s[o]=l}function wn(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function yl(s,o,l,u){const d=wn(s,o,l);return wn(s,o+1,u)||d}function Hh(s,o,l,u){const d=yt();return wn(d,io(),o)&&(dn(),xa(yi(),d,s,o,l,u)),Hh}function Nf(s,o,l,u){return wn(s,io(),l)?o+R(l)+u:un}function q_(s,o,l,u,d,p,_,A){const E=yt(),z=dn(),le=s+20,De=z.firstCreatePass?function(s,o,l,u,d,p,_,A,E){const z=o.consts,le=Cf(o,s,4,_||null,to(z,A));eb(o,l,le,to(z,E)),tl(o,le);const De=le.tViews=Pe(2,le,u,d,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,z);return null!==o.queries&&(o.queries.template(o,le),De.queries=o.queries.embeddedTView(le)),le}(le,z,E,o,l,u,d,p,_):z.data[le];Br(De,!1);const Me=E[11].createComment("");wf(z,E,Me,De),er(Me,E),T_(E,E[le]=S_(Me,E,Me,De)),za(De)&&fo(z,E,De),null!=_&&Ea(E,De,A)}function kb(s){return ks(Kt.lFrame.contextLView,20+s)}function bu(s,o=Ne.Default){const l=yt();return null===l?Hn(s,o):fa(On(),l,B(s),o)}function eA(s,o,l){const u=yt();return wn(u,io(),o)&&gs(dn(),yi(),u,s,o,u[11],l,!1),eA}function tA(s,o,l,u,d){const _=d?"class":"style";If(s,l,o.inputs[_],_,u)}function Hb(s,o,l,u){const d=yt(),p=dn(),_=20+s,A=d[11],E=d[_]=N0(A,o,Kt.lFrame.currentNamespace),z=p.firstCreatePass?function(s,o,l,u,d,p,_){const A=o.consts,z=Cf(o,s,2,d,to(A,p));return eb(o,l,z,to(A,_)),null!==z.attrs&&R_(z,z.attrs,!1),null!==z.mergedAttrs&&R_(z,z.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,z),z}(_,p,d,0,o,l,u):p.data[_];Br(z,!0);const le=z.mergedAttrs;null!==le&&Ps(A,E,le);const De=z.classes;null!==De&&V0(A,E,De);const Me=z.styles;null!==Me&&Ex(A,E,Me),64!=(64&z.flags)&&wf(p,d,E,z),0===Kt.lFrame.elementDepthCount&&er(E,d),Kt.lFrame.elementDepthCount++,za(z)&&(fo(p,d,z),X0(p,z,d)),null!==u&&Ea(d,z)}function Gb(){let s=On();Jc()?$a():(s=s.parent,Br(s,!1));const o=s;Kt.lFrame.elementDepthCount--;const l=dn();l.firstCreatePass&&(tl(l,s),Zc(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(o)&&tA(l,o,yt(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(o)&&tA(l,o,yt(),o.stylesWithoutHost,!1)}function nA(s,o,l,u){Hb(s,o,l,u),Gb()}function iA(s,o,l){const u=yt(),d=dn(),p=s+20,_=d.firstCreatePass?function(s,o,l,u,d){const p=o.consts,_=to(p,u),A=Cf(o,s,8,"ng-container",_);return null!==_&&R_(A,_,!0),eb(o,l,A,to(p,d)),null!==o.queries&&o.queries.elementStart(o,A),A}(p,d,u,o,l):d.data[p];Br(_,!0);const A=u[p]=u[11].createComment("");wf(d,u,A,_),er(A,u),za(_)&&(fo(d,u,_),X0(d,_,u)),null!=l&&Ea(u,_)}function zb(){let s=On();const o=dn();Jc()?$a():(s=s.parent,Br(s,!1)),o.firstCreatePass&&(tl(o,s),Zc(s)&&o.queries.elementEnd(s))}function ES(){return yt()}function sA(s){return!!s&&"function"==typeof s.then}function gr(s){return!!s&&"function"==typeof s.subscribe}const wu=gr;function vl(s,o,l,u){const d=yt(),p=dn(),_=On();return function(s,o,l,u,d,p,_,A){const E=za(u),le=s.firstCreatePass&&Mr(s),De=o[8],Me=Yx(o);let Ye=!0;if(3&u.type||A){const nt=Ki(u,o),wt=A?A(nt):nt,pt=Me.length,Vt=A?tn=>A(Fn(tn[u.index])):u.index;if(Nn(l)){let tn=null;if(!A&&E&&(tn=function(s,o,l,u){const d=s.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const _=d[p];if(_===l&&d[p+1]===u){const A=o[7],E=d[p+2];return A.length>E?A[E]:null}"string"==typeof _&&(p+=2)}return null}(s,o,d,u.index)),null!==tn)(tn.__ngLastListenerFn__||tn).__ngNextListenerFn__=p,tn.__ngLastListenerFn__=p,Ye=!1;else{p=Zh(u,o,De,p,!1);const $t=l.listen(wt,d,p);Me.push(p,$t),le&&le.push(d,Vt,pt,pt+1)}}else p=Zh(u,o,De,p,!0),wt.addEventListener(d,p,_),Me.push(p),le&&le.push(d,Vt,pt,_)}else p=Zh(u,o,De,p,!1);const Qe=u.outputs;let ot;if(Ye&&null!==Qe&&(ot=Qe[d])){const nt=ot.length;if(nt)for(let wt=0;wt<nt;wt+=2){const ei=o[ot[wt]][ot[wt+1]].subscribe(p),ta=Me.length;Me.push(p,ei),le&&le.push(d,u.index,ta,-(ta+1))}}}(p,d,d[11],_,s,o,!!l,u),vl}function Li(s,o,l,u){try{return!1!==l(u)}catch(d){return Kx(s,d),!1}}function Zh(s,o,l,u,d){return function p(_){if(_===Function)return u;const A=2&s.flags?ur(s.index,o):o;0==(32&o[2])&&D_(A);let E=Li(o,0,u,_),z=p.__ngNextListenerFn__;for(;z;)E=Li(o,0,z,_)&&E,z=z.__ngNextListenerFn__;return d&&!1===E&&(_.preventDefault(),_.returnValue=!1),E}}function aA(s=1){return function(s){return(Kt.lFrame.contextLView=function(s,o){for(;s>0;)o=o[15],s--;return o}(s,Kt.lFrame.contextLView))[8]}(s)}function qt(s,o){let l=null;const u=function(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let d=0;d<o.length;d++){const p=o[d];if("*"!==p){if(null===u?Sx(s,p,!0):oF(u,p))return d}else l=d}return l}function sn(s){const o=yt()[16][6];if(!o.projection){const u=o.projection=co(s?s.length:1,null),d=u.slice();let p=o.child;for(;null!==p;){const _=s?qt(p,s):0;null!==_&&(d[_]?d[_].projectionNext=p:u[_]=p,d[_]=p),p=p.next}}}function xS(s,o=0,l){const u=yt(),d=dn(),p=Cf(d,20+s,16,null,l||null);null===p.projection&&(p.projection=o),$a(),64!=(64&p.flags)&&function(s,o,l){fu(o[11],0,o,l,_x(s,l,o),d_(l.parent||o[6],l,o))}(d,u,p)}function ut(s,o,l,u,d){const p=yt(),_=Nf(p,o,l,u);return _!==un&&gs(dn(),yi(),p,s,_,p[11],d,!1),ut}function Cn(s,o,l,u,d){const p=s[l+1],_=null===o;let A=u?Ca(p):Sc(p),E=!1;for(;0!==A&&(!1===E||_);){const le=s[A+1];Gf(s[A],o)&&(E=!0,s[A+1]=u?q0(le):z0(le)),A=u?Ca(le):Sc(le)}E&&(s[l+1]=u?z0(p):q0(p))}function Gf(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Uo(s,o)>=0}const zi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ir(s){return s.substring(zi.key,zi.keyEnd)}function Cu(s,o){const l=zi.textEnd;return l===o?-1:(o=zi.keyEnd=function(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,zi.key=o,l),Wf(s,o,l))}function Wf(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function ki(s,o,l){return Hs(s,o,l,!1),ki}function Eu(s,o){return Hs(s,o,null,!0),Eu}function qr(s,o){for(let l=function(s){return function(s){zi.key=0,zi.keyEnd=0,zi.value=0,zi.valueEnd=0,zi.textEnd=s.length}(s),Cu(s,Wf(s,0,zi.textEnd))}(o);l>=0;l=Cu(o,l))Qn(s,ir(o),!0)}function Hs(s,o,l,u){const d=yt(),p=dn(),_=Qi(2);p.firstUpdatePass&&xu(p,s,_,u),o!==un&&wn(d,_,o)&&Zb(p,p.data[$i()],d,d[11],s,d[_+1]=function(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=xe(Aa(s)))),s}(o,l),u,_)}function jt(s,o){return o>=s.expandoStartIndex}function xu(s,o,l,u){const d=s.data;if(null===d[l+1]){const p=d[$i()],_=jt(s,l);Or(p,u)&&null===o&&!_&&(o=!1),o=function(s,o,l,u){const d=function(s){const o=Kt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=u?o.residualClasses:o.residualStyles;if(null===d)0===(u?o.classBindings:o.styleBindings)&&(l=Kh(l=im(null,s,o,l,u),o.attrs,u),p=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==d)if(l=im(d,s,o,l,u),null===p){let E=function(s,o,l){const u=l?o.classBindings:o.styleBindings;if(0!==Sc(u))return s[Ca(u)]}(s,o,u);void 0!==E&&Array.isArray(E)&&(E=im(null,s,o,E[1],u),E=Kh(E,o.attrs,u),function(s,o,l,u){s[Ca(l?o.classBindings:o.styleBindings)]=u}(s,o,u,E))}else p=function(s,o,l){let u;const d=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<d;p++)u=Kh(u,s[p].hostAttrs,l);return Kh(u,o.attrs,l)}(s,o,u)}return void 0!==p&&(u?o.residualClasses=p:o.residualStyles=p),l}(d,p,o,u),function(s,o,l,u,d,p){let _=p?o.classBindings:o.styleBindings,A=Ca(_),E=Sc(_);s[u]=l;let le,z=!1;if(Array.isArray(l)){const De=l;le=De[1],(null===le||Uo(De,le)>0)&&(z=!0)}else le=l;if(d)if(0!==E){const Me=Ca(s[A+1]);s[u+1]=y_(Me,A),0!==Me&&(s[Me+1]=W0(s[Me+1],u)),s[A+1]=function(s,o){return 131071&s|o<<17}(s[A+1],u)}else s[u+1]=y_(A,0),0!==A&&(s[A+1]=W0(s[A+1],u)),A=u;else s[u+1]=y_(E,0),0===A?A=u:s[E+1]=W0(s[E+1],u),E=u;z&&(s[u+1]=z0(s[u+1])),Cn(s,le,u,!0),Cn(s,le,u,!1),function(s,o,l,u,d){const p=d?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Uo(p,o)>=0&&(l[u+1]=q0(l[u+1]))}(o,le,s,u,p),_=y_(A,E),p?o.classBindings=_:o.styleBindings=_}(d,p,o,l,_,u)}}function im(s,o,l,u,d){let p=null;const _=l.directiveEnd;let A=l.directiveStylingLast;for(-1===A?A=l.directiveStart:A++;A<_&&(p=o[A],u=Kh(u,p.hostAttrs,d),p!==s);)A++;return null!==s&&(l.directiveStylingLast=A),u}function Kh(s,o,l){const u=l?1:2;let d=-1;if(null!==o)for(let p=0;p<o.length;p++){const _=o[p];"number"==typeof _?d=_:d===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Qn(s,_,!!l||o[++p]))}return void 0===s?null:s}function Zb(s,o,l,u,d,p,_,A){if(!(3&o.type))return;const E=s.data,z=E[A+1];Qh(function(s){return 1==(1&s)}(z)?Yb(E,o,l,d,Sc(z),_):void 0)||(Qh(p)||function(s){return 2==(2&s)}(z)&&(p=Yb(E,null,l,d,A,_)),function(s,o,l,u,d){const p=Nn(s);if(o)d?p?s.addClass(l,u):l.classList.add(u):p?s.removeClass(l,u):l.classList.remove(u);else{let _=-1===u.indexOf("-")?void 0:js.DashCase;if(null==d)p?s.removeStyle(l,u,_):l.style.removeProperty(u);else{const A="string"==typeof d&&d.endsWith("!important");A&&(d=d.slice(0,-10),_|=js.Important),p?s.setStyle(l,u,d,_):l.style.setProperty(u,d,A?"important":"")}}}(u,_,Ro($i(),l),d,p))}function Yb(s,o,l,u,d,p){const _=null===o;let A;for(;d>0;){const E=s[d],z=Array.isArray(E),le=z?E[1]:E,De=null===le;let Me=l[d+1];Me===un&&(Me=De?Ue:void 0);let Ye=De?li(Me,u):le===u?Me:void 0;if(z&&!Qh(Ye)&&(Ye=li(E,u)),Qh(Ye)&&(A=Ye,_))return A;const Qe=s[d+1];d=_?Ca(Qe):Sc(Qe)}if(null!==o){let E=p?o.residualClasses:o.residualStyles;null!=E&&(A=li(E,u))}return A}function Qh(s){return void 0!==s}function Or(s,o){return 0!=(s.flags&(o?16:32))}function Kb(s,o=""){const l=yt(),u=dn(),d=s+20,p=u.firstCreatePass?Cf(u,d,1,o,null):u.data[d],_=l[d]=function(s,o){return Nn(s)?s.createText(o):s.createTextNode(o)}(l[11],o);wf(u,l,_,p),Br(p,!1)}function Jn(s){return uA("",s,""),Jn}function uA(s,o,l){const u=yt(),d=Nf(u,s,o,l);return d!==un&&Tc(u,$i(),d),uA}function hA(s,o,l,u,d){const p=yt(),_=function(s,o,l,u,d,p){const A=yl(s,Vr(),l,d);return Qi(2),A?o+R(l)+u+R(d)+p:un}(p,s,o,l,u,d);return _!==un&&Tc(p,$i(),_),hA}function jS(s,o,l){!function(s,o,l,u){const d=dn(),p=Qi(2);d.firstUpdatePass&&xu(d,null,p,u);const _=yt();if(l!==un&&wn(_,p,l)){const A=d.data[$i()];if(Or(A,u)&&!jt(d,p)){let E=u?A.classesWithoutHost:A.stylesWithoutHost;null!==E&&(l=he(E,l||"")),tA(d,A,_,l,u)}else!function(s,o,l,u,d,p,_,A){d===un&&(d=Ue);let E=0,z=0,le=0<d.length?d[0]:null,De=0<p.length?p[0]:null;for(;null!==le||null!==De;){const Me=E<d.length?d[E+1]:void 0,Ye=z<p.length?p[z+1]:void 0;let ot,Qe=null;le===De?(E+=2,z+=2,Me!==Ye&&(Qe=De,ot=Ye)):null===De||null!==le&&le<De?(E+=2,Qe=le):(z+=2,Qe=De,ot=Ye),null!==Qe&&Zb(s,o,l,u,Qe,ot,_,A),le=E<d.length?d[E]:null,De=z<p.length?p[z]:null}}(d,A,_,_[11],_[p+1],_[p+1]=function(s,o,l){if(null==l||""===l)return Ue;const u=[],d=Aa(l);if(Array.isArray(d))for(let p=0;p<d.length;p++)s(u,d[p],!0);else if("object"==typeof d)for(const p in d)d.hasOwnProperty(p)&&s(u,p,d[p]);else"string"==typeof d&&o(u,d);return u}(s,o,l),u,p)}}(Qn,qr,Nf(yt(),s,o,l),!0)}function Jh(s,o,l){const u=yt();return wn(u,io(),o)&&gs(dn(),yi(),u,s,o,u[11],l,!0),Jh}const Xh=void 0;var ZS=["en",[["a","p"],["AM","PM"],Xh],[["AM","PM"],Xh,Xh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xh,"{1} 'at' {0}",Xh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const o=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let ed={};function ew(s){const o=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=td(o);if(l)return l;const u=o.split("-")[0];if(l=td(u),l)return l;if("en"===u)return ZS;throw new Error(`Missing locale data for the locale "${s}".`)}function tw(s){return ew(s)[Qt.PluralCase]}function td(s){return s in ed||(ed[s]=Et.ng&&Et.ng.common&&Et.ng.common.locales&&Et.ng.common.locales[s]),ed[s]}var Qt=(()=>((Qt=Qt||{})[Qt.LocaleId=0]="LocaleId",Qt[Qt.DayPeriodsFormat=1]="DayPeriodsFormat",Qt[Qt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Qt[Qt.DaysFormat=3]="DaysFormat",Qt[Qt.DaysStandalone=4]="DaysStandalone",Qt[Qt.MonthsFormat=5]="MonthsFormat",Qt[Qt.MonthsStandalone=6]="MonthsStandalone",Qt[Qt.Eras=7]="Eras",Qt[Qt.FirstDayOfWeek=8]="FirstDayOfWeek",Qt[Qt.WeekendRange=9]="WeekendRange",Qt[Qt.DateFormat=10]="DateFormat",Qt[Qt.TimeFormat=11]="TimeFormat",Qt[Qt.DateTimeFormat=12]="DateTimeFormat",Qt[Qt.NumberSymbols=13]="NumberSymbols",Qt[Qt.NumberFormats=14]="NumberFormats",Qt[Qt.CurrencyCode=15]="CurrencyCode",Qt[Qt.CurrencySymbol=16]="CurrencySymbol",Qt[Qt.CurrencyName=17]="CurrencyName",Qt[Qt.Currencies=18]="Currencies",Qt[Qt.Directionality=19]="Directionality",Qt[Qt.PluralCase=20]="PluralCase",Qt[Qt.ExtraData=21]="ExtraData",Qt))();const lm="en-US";let cm=lm;function ep(s){pe(s,"Expected localeId to be defined"),"string"==typeof s&&(cm=s.toLowerCase().replace(/_/g,"-"))}function ka(s,o,l,u,d){if(s=B(s),Array.isArray(s))for(let p=0;p<s.length;p++)ka(s[p],o,l,u,d);else{const p=dn(),_=yt();let A=Df(s)?s:B(s.provide),E=L_(s);const z=On(),le=1048575&z.providerIndexes,De=z.directiveStart,Me=z.providerIndexes>>20;if(Df(s)||!s.multi){const Ye=new Xc(E,d,bu),Qe=wl(A,o,d?le:le+Me,De);-1===Qe?(cn(oo(z,_),p,A),yw(p,s,o.length),o.push(A),z.directiveStart++,z.directiveEnd++,d&&(z.providerIndexes+=1048576),l.push(Ye),_.push(Ye)):(l[Qe]=Ye,_[Qe]=Ye)}else{const Ye=wl(A,o,le+Me,De),Qe=wl(A,o,le,le+Me),ot=Ye>=0&&l[Ye],nt=Qe>=0&&l[Qe];if(d&&!nt||!d&&!ot){cn(oo(z,_),p,A);const wt=function(s,o,l,u,d){const p=new Xc(s,l,bu);return p.multi=[],p.index=o,p.componentProviders=0,Gs(p,d,u&&!l),p}(d?Yr:ri,l.length,d,u,E);!d&&nt&&(l[Qe].providerFactory=wt),yw(p,s,o.length,0),o.push(A),z.directiveStart++,z.directiveEnd++,d&&(z.providerIndexes+=1048576),l.push(wt),_.push(wt)}else yw(p,s,Ye>-1?Ye:Qe,Gs(l[d?Qe:Ye],E,!d&&u));!d&&u&&nt&&l[Qe].componentProviders++}}}function yw(s,o,l,u){const d=Df(o);if(d||function(s){return!!s.useClass}(o)){const _=(o.useClass||o).prototype.ngOnDestroy;if(_){const A=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const E=A.indexOf(l);-1===E?A.push(l,[u,_]):A[E+1].push(u,_)}else A.push(l,_)}}}function Gs(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function wl(s,o,l,u){for(let d=l;d<u;d++)if(o[d]===s)return d;return-1}function ri(s,o,l,u){return _w(this.multi,[])}function Yr(s,o,l,u){const d=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,A=jn(l,l[1],this.providerFactory.index,u);p=A.slice(0,_),_w(d,p);for(let E=_;E<A.length;E++)p.push(A[E])}else p=[],_w(d,p);return p}function _w(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function wi(s,o=[]){return l=>{l.providersResolver=(u,d)=>function(s,o,l){const u=dn();if(u.firstCreatePass){const d=cr(s);ka(l,u.data,u.blueprint,d,!0),ka(o,u.data,u.blueprint,d,!1)}}(u,d?d(s):s,o)}}class As{}const zs="ngComponent";class Rc{resolveComponentFactory(o){throw function(s){const o=Error(`No component factory found for ${xe(s)}. Did you add it to @NgModule.entryComponents?`);return o[zs]=s,o}(o)}}let Ma=(()=>{class s{}return s.NULL=new Rc,s})();function mm(...s){}function _t(s,o){return new Ws(Ki(s,o))}const I1=function(){return _t(On(),yt())};let Ws=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=I1,s})();function Du(s){return s instanceof Ws?s.nativeElement:s}class xl{}let bI=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>qs(),s})();const qs=function(){const s=yt(),l=ur(On().index,s);return function(s){return s[11]}(Is(l)?l:s)};let Sl=(()=>{class s{}return s.\u0275prov=X({token:s,providedIn:"root",factory:()=>null}),s})();class Cw{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const ym=new Cw("12.2.11");class Ew{constructor(){}supports(o){return Ia(o)}create(o){return new op(o)}}const xw=(s,o)=>o;class op{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||xw}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,u=this._removalsHead,d=0,p=null;for(;l||u;){const _=!u||l&&l.currentIndex<Sw(u,d,p)?l:u,A=Sw(_,d,p),E=_.currentIndex;if(_===u)d--,u=u._nextRemoved;else if(l=l._next,null==_.previousIndex)d++;else{p||(p=[]);const z=A-d,le=E-d;if(z!=le){for(let Me=0;Me<z;Me++){const Ye=Me<p.length?p[Me]:p[Me]=0,Qe=Ye+Me;le<=Qe&&Qe<z&&(p[Me]=Ye+1)}p[_.previousIndex]=le-z}}A!==E&&o(_,A,E)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Ia(o))throw new Error(`Error trying to diff '${xe(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,p,_,l=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let A=0;A<this.length;A++)p=o[A],_=this._trackByFn(A,p),null!==l&&Object.is(l.trackById,_)?(u&&(l=this._verifyReinsertion(l,p,_,A)),Object.is(l.item,p)||this._addIdentityChange(l,p)):(l=this._mismatch(l,p,_,A),u=!0),l=l._next}else d=0,function(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Yo()]();let u;for(;!(u=l.next()).done;)o(u.value)}}(o,A=>{_=this._trackByFn(d,A),null!==l&&Object.is(l.trackById,_)?(u&&(l=this._verifyReinsertion(l,A,_,d)),Object.is(l.item,A)||this._addIdentityChange(l,A)):(l=this._mismatch(l,A,_,d),u=!0),l=l._next,d++}),this.length=d;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,u,d){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,p,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,p,d)):o=this._addAfter(new ap(l,u),p,d),o}_verifyReinsertion(o,l,u,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?o=this._reinsertAfter(p,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,p=o._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(o,l,u),this._addToMoves(o,u),o}_moveAfter(o,l,u){return this._unlink(o),this._insertAfter(o,l,u),this._addToMoves(o,u),o}_addAfter(o,l,u){return this._insertAfter(o,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,u){const d=null===l?this._itHead:l._next;return o._next=d,o._prev=l,null===d?this._itTail=o:d._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new cp),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,u=o._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cp),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class ap{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lp{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const l=o._prevDup,u=o._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class cp{constructor(){this.map=new Map}put(o){const l=o.trackById;let u=this.map.get(l);u||(u=new lp,this.map.set(l,u)),u.add(o)}get(o,l){const d=this.map.get(o);return d?d.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Sw(s,o,l){const u=s.previousIndex;if(null===u)return u;let d=0;return l&&u<l.length&&(d=l[u]),u+o+d}class SA{constructor(){}supports(o){return o instanceof Map||Of(o)}create(){return new k1}}class k1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Of(o)))throw new Error(`Error trying to diff '${xe(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,d)=>{if(l&&l.key===d)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const p=this._getOrCreateRecordForKey(d,u);l=this._insertBeforeOrAppend(l,p)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const u=o._prev;return l._next=o,l._prev=u,o._prev=l,u&&(u._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,l);const p=d._prev,_=d._next;return p&&(p._next=_),_&&(_._prev=p),d._next=null,d._prev=null,d}const u=new wI(o);return this._records.set(o,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(u=>l(o[u],u))}}class wI{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Iw(){return new IA([new Ew])}let IA=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(null!=u){const d=u.factories.slice();l=l.concat(d)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||Iw()),deps:[[s,new Ji,new jo]]}}find(l){const u=this.factories.find(d=>d.supports(l));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${l}' of type '${function(s){return s.name||typeof s}(l)}'`)}}return s.\u0275prov=X({token:s,providedIn:"root",factory:Iw}),s})();function CI(){return new _m([new SA])}let _m=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(u){const d=u.factories.slice();l=l.concat(d)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||CI()),deps:[[s,new Ji,new jo]]}}find(l){const u=this.factories.find(d=>d.supports(l));if(u)return u;throw new Error(`Cannot find a differ supporting object '${l}'`)}}return s.\u0275prov=X({token:s,providedIn:"root",factory:CI}),s})();function Am(s,o,l,u,d=!1){for(;null!==l;){const p=o[l.index];if(null!==p&&u.push(Fn(p)),Yi(p))for(let A=10;A<p.length;A++){const E=p[A],z=E[1].firstChild;null!==z&&Am(E[1],E,z,u)}const _=l.type;if(8&_)Am(s,o,l.child,u);else if(32&_){const A=s_(l,o);let E;for(;E=A();)u.push(E)}else if(16&_){const A=L0(o,l);if(Array.isArray(A))u.push(...A);else{const E=kg(o[16]);Am(E[1],E,A,u,!0)}}l=d?l.projectionNext:l.next}return u}class _r{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return Am(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Yi(o)){const l=o[8],u=l?l.indexOf(this):-1;u>-1&&(c_(o,u),Tr(l,u))}this._attachedToViewContainer=!1}yx(this._lView[1],this._lView)}onDestroy(o){ln(this._lView[1],this._lView,null,o)}markForCheck(){D_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ug(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,o,l){Xa(!0);try{Ug(s,o,l)}finally{Xa(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var o;this._appRef=null,Lh(this._lView[1],o=this._lView,o[11],2,null,null)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class EI extends _r{constructor(o){super(o),this._view=o}detectChanges(){M_(this._view)}checkNoChanges(){!function(s){Xa(!0);try{M_(s)}finally{Xa(!1)}}(this._view)}get context(){return null}}const SI=function(s){return function(s,o,l){if(Ga(s)&&!l){const u=ur(s.index,o);return new _r(u,u)}return 47&s.type?new _r(o[16],o):null}(On(),yt(),16==(16&s))};let ku=(()=>{class s{}return s.__NG_ELEMENT_ID__=SI,s})();const sd=[new SA],hp=new IA([new Ew]),TI=new _m(sd),Dw=function(){return DA(On(),yt())};let fp=(()=>{class s{}return s.__NG_ELEMENT_ID__=Dw,s})();const R1=fp,O1=class extends R1{constructor(o,l,u){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=u}createEmbeddedView(o){const l=this._declarationTContainer.tViews,u=mu(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(u[19]=p.createEmbeddedView(l)),Pg(l,u,o),new _r(u)}};function DA(s,o){return 4&s.type?new O1(o,s,_t(s,o)):null}class Il{}class od{}const N1=function(){return MA(On(),yt())};let vm=(()=>{class s{}return s.__NG_ELEMENT_ID__=N1,s})();const kA=vm,kI=class extends kA{constructor(o,l,u){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=u}get element(){return _t(this._hostTNode,this._hostLView)}get injector(){return new Lo(this._hostTNode,this._hostLView)}get parentInjector(){const o=Rt(this._hostTNode,this._hostLView);if(Yn(o)){const l=ha(o,this._hostLView),u=so(o);return new Lo(l[1].data[u+8],l)}return new Lo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=kw(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,u){const d=o.createEmbeddedView(l||{});return this.insert(d,u),d}createComponent(o,l,u,d,p){const _=u||this.parentInjector;if(!p&&null==o.ngModule&&_){const E=_.get(Il,null);E&&(p=E)}const A=o.create(_,d,void 0,p);return this.insert(A.hostView,l),A}insert(o,l){const u=o._lView,d=u[1];if(Yi(u[3])){const le=this.indexOf(o);if(-1!==le)this.detach(le);else{const De=u[3],Me=new kI(De,De[6],De[3]);Me.detach(Me.indexOf(o))}}const p=this._adjustIndex(l),_=this._lContainer;!function(s,o,l,u){const d=10+u,p=l.length;u>0&&(l[d-1][4]=o),u<p-10?(o[4]=l[d],pa(l,10+u,o)):(l.push(o),o[4]=null),o[3]=l;const _=o[17];null!==_&&l!==_&&function(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(_,o);const A=o[19];null!==A&&A.insertView(s),o[2]|=128}(d,u,_,p);const A=g_(p,_),E=u[11],z=u_(E,_[7]);return null!==z&&function(s,o,l,u,d,p){u[0]=d,u[6]=o,Lh(s,u,l,1,d,p)}(d,_[6],E,u,z,A),o.attachToViewContainerRef(),pa(bm(_),p,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=kw(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),u=c_(this._lContainer,l);u&&(Tr(bm(this._lContainer),l),yx(u[1],u))}detach(o){const l=this._adjustIndex(o,-1),u=c_(this._lContainer,l);return u&&null!=Tr(bm(this._lContainer),l)?new _r(u):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function kw(s){return s[8]}function bm(s){return s[8]||(s[8]=[])}function MA(s,o){let l;const u=o[s.index];if(Yi(u))l=u;else{let d;if(8&s.type)d=Fn(u);else{const p=o[11];d=p.createComment("");const _=Ki(s,o);du(p,u_(p,_),d,function(s,o){return Nn(s)?s.nextSibling(o):o.nextSibling}(p,_),!1)}o[s.index]=l=S_(u,o,d,s),T_(o,l)}return new kI(l,s,o)}const Cp={};class rC extends Ma{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=Ni(o);return new WI(l,this.ngModule)}}function sC(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}const X1=new Wn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ig});class WI extends As{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=o.selectors.map(Tx).join(","),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return sC(this.componentDef.inputs)}get outputs(){return sC(this.componentDef.outputs)}create(o,l,u,d){const p=(d=d||this.ngModule)?function(s,o){return{get:(l,u,d)=>{const p=s.get(l,Cp,d);return p!==Cp||u===Cp?p:o.get(l,u,d)}}}(o,d.injector):o,_=p.get(xl,ss),A=p.get(Sl,null),E=_.createRenderer(null,this.componentDef),z=this.componentDef.selectors[0][0]||"div",le=u?function(s,o,l){if(Nn(s))return s.selectRootElement(o,l===je.ShadowDom);let u="string"==typeof o?s.querySelector(o):o;return u.textContent="",u}(E,u,this.componentDef.encapsulation):N0(_.createRenderer(null,this.componentDef),z,function(s){const o=s.toLowerCase();return"svg"===o?oa:"math"===o?"http://www.w3.org/1998/MathML/":null}(z)),De=this.componentDef.onPush?576:528,Me=function(s,o){return{components:[],scheduler:s||Ig,clean:NM,playerHandler:o||null,flags:0}}(),Ye=Pe(0,null,null,1,0,null,null,null,null,null),Qe=mu(null,Ye,Me,De,null,null,_,E,A,p);let ot,nt;rc(Qe);try{const wt=function(s,o,l,u,d,p){const _=l[1];l[20]=s;const E=Cf(_,20,2,"#host",null),z=E.mergedAttrs=o.hostAttrs;null!==z&&(R_(E,z,!0),null!==s&&(Ps(d,s,z),null!==E.classes&&V0(d,s,E.classes),null!==E.styles&&Ex(d,s,E.styles)));const le=u.createRenderer(s,o),De=mu(l,qo(o),null,o.onPush?64:16,l[20],E,u,le,p||null,null);return _.firstCreatePass&&(cn(oo(E,l),_,o.type),Lg(_,E),x_(E,l.length,1)),T_(l,De),l[20]=De}(le,this.componentDef,Qe,_,E);if(le)if(u)Ps(E,le,["ng-version",ym.full]);else{const{attrs:pt,classes:Vt}=function(s){const o=[],l=[];let u=1,d=2;for(;u<s.length;){let p=s[u];if("string"==typeof p)2===d?""!==p&&o.push(p,s[++u]):8===d&&l.push(p);else{if(!wa(d))break;d=p}u++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);pt&&Ps(E,le,pt),Vt&&Vt.length>0&&V0(E,le,Vt.join(" "))}if(nt=Qc(Ye,20),void 0!==l){const pt=nt.projection=[];for(let Vt=0;Vt<this.ngContentSelectors.length;Vt++){const tn=l[Vt];pt.push(null!=tn?Array.from(tn):null)}}ot=function(s,o,l,u,d){const p=l[1],_=function(s,o,l){const u=On();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),Wr(s,u,o,pl(s,o,1,null),l));const d=jn(o,s,u.directiveStart,u);er(d,o);const p=Ki(u,o);return p&&er(p,o),d}(p,l,o);if(u.components.push(_),s[8]=_,d&&d.forEach(E=>E(_,o)),o.contentQueries){const E=On();o.contentQueries(1,_,E.directiveStart)}const A=On();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(sc(A.index),Ux(l[1],A,0,A.directiveStart,A.directiveEnd,o),tb(o,_)),_}(wt,this.componentDef,Qe,Me,[lS]),Pg(Ye,Qe,null)}finally{ca()}return new oC(this.componentType,ot,_t(nt,Qe),Qe,nt)}}class oC extends class{}{constructor(o,l,u,d,p){super(),this.location=u,this._rootLView=d,this._tNode=p,this.instance=l,this.hostView=this.changeDetectorRef=new EI(d),this.componentType=o}get injector(){return new Lo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}const Ep=new Map;class KI extends Il{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new rC(this);const u=ts(o),d=o[Bt]||null;d&&ep(d),this._bootstrapComponents=ho(u.bootstrap),this._r3Injector=F_(o,l,[{provide:Il,useValue:this},{provide:Ma,useValue:this.componentFactoryResolver}],xe(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=$n.THROW_IF_NOT_FOUND,u=Ne.Default){return o===$n||o===Il||o===_u?this:this._r3Injector.get(o,l,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class cC extends od{constructor(o){super(),this.moduleType=o,null!==ts(o)&&function(s){const o=new Set;!function l(u){const d=ts(u,!0),p=d.id;null!==p&&(function(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${xe(o)} vs ${xe(o.name)}`)}(p,Ep.get(p),u),Ep.set(p,u));const _=ho(d.imports);for(const A of _)o.has(A)||(o.add(A),l(A))}(s)}(o)}create(o){return new KI(this.moduleType,o)}}function QA(s,o,l){const u=oi()+s,d=yt();return d[u]===un?po(d,u,l?o.call(l):o()):function(s,o){return s[o]}(d,u)}function QI(s,o,l,u){return function(s,o,l,u,d,p){const _=o+l;return wn(s,_,d)?po(s,_+1,p?u.call(p,d):u(d)):Sp(s,_+1)}(yt(),oi(),s,o,l,u)}function $A(s,o,l,u,d){return JI(yt(),oi(),s,o,l,u,d)}function $I(s,o,l,u,d,p){return function(s,o,l,u,d,p,_,A){const E=o+l;return function(s,o,l,u,d){const p=yl(s,o,l,u);return wn(s,o+2,d)||p}(s,E,d,p,_)?po(s,E+3,A?u.call(A,d,p,_):u(d,p,_)):Sp(s,E+3)}(yt(),oi(),s,o,l,u,d,p)}function Sp(s,o){const l=s[o];return l===un?void 0:l}function JI(s,o,l,u,d,p,_){const A=o+l;return yl(s,A,d,p)?po(s,A+2,_?u.call(_,d,p):u(d,p)):Sp(s,A+2)}function XI(s,o){const l=dn();let u;const d=s+20;l.firstCreatePass?(u=function(s,o){if(o)for(let l=o.length-1;l>=0;l--){const u=o[l];if(s===u.name)return u}throw new q("302",`The pipe '${s}' could not be found!`)}(o,l.pipeRegistry),l.data[d]=u,u.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(d,u.onDestroy)):u=l.data[d];const p=u.factory||(u.factory=eo(u.type)),_=st(bu);try{const A=il(!1),E=p();return il(A),function(s,o,l,u){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=u}(l,yt(),d,E),E}finally{st(_)}}function eT(s,o,l,u){const d=s+20,p=yt(),_=ks(p,d);return function(s,o){Sa.isWrapped(o)&&(o=Sa.unwrap(o),s[Vr()]=un);return o}(p,function(s,o){return s[1].data[o].pure}(p,d)?JI(p,oi(),o,_.transform,l,u,_):_.transform(l,u))}function Pm(s){return o=>{setTimeout(s,void 0,o)}}const Oa=class extends c.xQ{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,u){var d,p,_;let A=o,E=l||(()=>null),z=u;if(o&&"object"==typeof o){const De=o;A=null===(d=De.next)||void 0===d?void 0:d.bind(De),E=null===(p=De.error)||void 0===p?void 0:p.bind(De),z=null===(_=De.complete)||void 0===_?void 0:_.bind(De)}this.__isAsync&&(E=Pm(E),A&&(A=Pm(A)),z&&(z=Pm(z)));const le=super.subscribe({next:A,error:E,complete:z});return o instanceof Je.w&&o.add(le),le}};function yC(){return this._results[Yo()]()}class Ip{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Yo(),u=Ip.prototype;u[l]||(u[l]=yC)}get changes(){return this._changes||(this._changes=new Oa)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const u=this;u.dirty=!1;const d=cs(o);(this._changesDetected=!function(s,o,l){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let d=s[u],p=o[u];if(l&&(d=l(d),p=l(p)),p!==d)return!1}return!0}(u._results,d,l))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class _C{constructor(o){this.queryList=o,this.matches=null}clone(){return new _C(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nm{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const u=null!==o.contentQueries?o.contentQueries[0]:l.length,d=[];for(let p=0;p<u;p++){const _=l.getByIndex(p);d.push(this.queries[_.indexInDeclarationView].clone())}return new Nm(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==iv(o,l).matches&&this.queries[l].setDirty()}}class tv{constructor(o,l,u=null){this.predicate=o,this.flags=l,this.read=u}}class Fm{constructor(o=[]){this.queries=o}elementStart(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let u=0;u<this.length;u++){const d=null!==l?l.length:0,p=this.getByIndex(u).embeddedTView(o,d);p&&(p.indexInDeclarationView=u,null!==l?l.push(p):l=[p])}return null!==l?new Fm(l):null}template(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class AC{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new AC(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const p=u[d];this.matchTNodeWithReadOption(o,l,nT(l,p)),this.matchTNodeWithReadOption(o,l,Fo(l,o,p,!1,!1))}else u===fp?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,Fo(l,o,u,!1,!1))}matchTNodeWithReadOption(o,l,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===Ws||d===vm||d===fp&&4&l.type)this.addMatch(l.index,-2);else{const p=Fo(l,o,d,!1,!1);null!==p&&this.addMatch(l.index,p)}else this.addMatch(l.index,u)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function nT(s,o){const l=s.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===o)return l[u+1];return null}function cR(s,o,l,u){return-1===l?function(s,o){return 11&s.type?_t(s,o):4&s.type?DA(s,o):null}(o,s):-2===l?function(s,o,l){return l===Ws?_t(o,s):l===fp?DA(o,s):l===vm?MA(o,s):void 0}(s,o,u):jn(s,s[1],l,o)}function bC(s,o,l,u){const d=o[19].queries[u];if(null===d.matches){const p=s.data,_=l.matches,A=[];for(let E=0;E<_.length;E+=2){const z=_[E];A.push(z<0?null:cR(o,p[z],_[E+1],l.metadata.read))}d.matches=A}return d.matches}function Tp(s,o,l,u){const d=s.queries.getByIndex(l),p=d.matches;if(null!==p){const _=bC(s,o,d,l);for(let A=0;A<p.length;A+=2){const E=p[A];if(E>0)u.push(_[A/2]);else{const z=p[A+1],le=o[-E];for(let De=10;De<le.length;De++){const Me=le[De];Me[17]===Me[3]&&Tp(Me[1],Me,z,u)}if(null!==le[9]){const De=le[9];for(let Me=0;Me<De.length;Me++){const Ye=De[Me];Tp(Ye[1],Ye,z,u)}}}}}return u}function rT(s){const o=yt(),l=dn(),u=Gd();tc(u+1);const d=iv(l,u);if(s.dirty&&Ql(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const p=d.crossesNgTemplate?Tp(l,o,u,[]):bC(l,o,d,u);s.reset(p,Du),s.notifyOnChanges()}return!0}return!1}function sT(s,o,l){const u=dn();u.firstCreatePass&&(wC(u,new tv(s,o,l),-1),2==(2&o)&&(u.staticViewQueries=!0)),nv(u,yt(),o)}function oT(s,o,l,u){const d=dn();if(d.firstCreatePass){const p=On();wC(d,new tv(o,l,u),p.index),function(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(d,s),2==(2&l)&&(d.staticContentQueries=!0)}nv(d,yt(),l)}function aT(){return s=yt(),o=Gd(),s[19].queries[o].queryList;var s,o}function nv(s,o,l){const u=new Ip(4==(4&l));ln(s,o,u,u.destroy),null===o[19]&&(o[19]=new Nm),o[19].queries.push(new _C(u))}function wC(s,o,l){null===s.queries&&(s.queries=new Fm),s.queries.track(new AC(o,l))}function iv(s,o){return s.queries.getByIndex(o)}const uv=new Wn("Application Initializer");let Xo=(()=>{class s{constructor(l){this.appInits=l,this.resolve=mm,this.reject=mm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d})}runInitializers(){if(this.initialized)return;const l=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(sA(p))l.push(p);else if(wu(p)){const _=new Promise((A,E)=>{p.subscribe({complete:A,error:E})});l.push(_)}}Promise.all(l).then(()=>{u()}).catch(d=>{this.reject(d)}),0===l.length&&u(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(Hn(uv,8))},s.\u0275prov=X({token:s,factory:s.\u0275fac}),s})();const FC=new Wn("AppId"),LC={provide:FC,useFactory:function(){return`${Vm()}${Vm()}${Vm()}`},deps:[]};function Vm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const TT=new Wn("Platform Initializer"),hv=new Wn("Platform ID"),Um=new Wn("appBootstrapListener");let Rp=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=X({token:s,factory:s.\u0275fac}),s})();const dv=new Wn("LocaleId"),jm=new Wn("DefaultCurrencyCode");class DT{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}const BC=function(s){return new cC(s)},wR=BC,kT=function(s){return Promise.resolve(BC(s))},MT=function(s){const o=BC(s),u=ho(ts(s).declarations).reduce((d,p)=>{const _=Ni(p);return _&&d.push(new WI(_)),d},[]);return new DT(o,u)},RT=MT,OT=function(s){return Promise.resolve(MT(s))};let Gm=(()=>{class s{constructor(){this.compileModuleSync=wR,this.compileModuleAsync=kT,this.compileModuleAndAllComponentsSync=RT,this.compileModuleAndAllComponentsAsync=OT}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=X({token:s,factory:s.\u0275fac}),s})();const NT=(()=>Promise.resolve(0))();function gv(s){"undefined"==typeof Zone?NT.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class vs{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oa(!1),this.onMicrotaskEmpty=new Oa(!1),this.onStable=new Oa(!1),this.onError=new Oa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&l,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let s=Et.requestAnimationFrame,o=Et.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function(s){const o=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Et,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,UC(s),s.isCheckStableRunning=!0,VC(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),UC(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,d,p,_,A)=>{try{return Uu(s),l.invokeTask(d,p,_,A)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),BT(s)}},onInvoke:(l,u,d,p,_,A,E)=>{try{return Uu(s),l.invoke(d,p,_,A,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),BT(s)}},onHasTask:(l,u,d,p)=>{l.hasTask(d,p),u===d&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,UC(s),VC(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(l,u,d,p)=>(l.handleError(d,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(vs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,u){return this._inner.run(o,l,u)}runTask(o,l,u,d){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+d,o,mv,mm,mm);try{return p.runTask(_,l,u)}finally{p.cancelTask(_)}}runGuarded(o,l,u){return this._inner.runGuarded(o,l,u)}runOutsideAngular(o){return this._outer.run(o)}}const mv={};function VC(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function UC(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Uu(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function BT(s){s._nesting--,VC(s)}class ER{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oa,this.onMicrotaskEmpty=new Oa,this.onStable=new Oa,this.onError=new Oa}run(o,l,u){return o.apply(l,u)}runGuarded(o,l,u){return o.apply(l,u)}runOutsideAngular(o){return o()}runTask(o,l,u,d){return o.apply(l,u)}}let VT=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vs.assertNotInAngularZone(),gv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gv(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(l)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,u,d){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),l(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:l,timeoutId:p,updateCb:d})}whenStable(l,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,u,d){return[]}}return s.\u0275fac=function(l){return new(l||s)(Hn(vs))},s.\u0275prov=X({token:s,factory:s.\u0275fac}),s})(),UT=(()=>{class s{constructor(){this._applications=new Map,yv.addToWindow(this)}registerApplication(l,u){this._applications.set(l,u)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,u=!0){return yv.findTestabilityInTree(this,l,u)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=X({token:s,factory:s.\u0275fac}),s})();class xR{addToWindow(o){}findTestabilityInTree(o,l,u){return null}}function jT(s){yv=s}let yv=new xR,HT=!0,GT=!1;function _v(){return GT=!0,HT}function SR(){if(GT)throw new Error("Cannot enable prod mode after platform setup.");HT=!1}let Qr;const zT=new Wn("AllowMultipleToken");class MR{constructor(o,l){this.name=o,this.token=l}}function Av(s,o,l=[]){const u=`Platform: ${o}`,d=new Wn(u);return(p=[])=>{let _=Pp();if(!_||_.injector.get(zT,!1))if(s)s(l.concat(p).concat({provide:d,useValue:!0}));else{const A=l.concat(p).concat({provide:d,useValue:!0},{provide:Bh,useValue:"platform"});!function(s){if(Qr&&!Qr.destroyed&&!Qr.injector.get(zT,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Qr=s.get(vv);const o=s.get(TT,null);o&&o.forEach(l=>l())}($n.create({providers:A,name:u}))}return function(s){const o=Pp();if(!o)throw new Error("No platform exists!");if(!o.injector.get(s,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return o}(d)}}function Pp(){return Qr&&!Qr.destroyed?Qr:null}let vv=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,u){const A=function(s,o){let l;return l="noop"===s?new ER:("zone.js"===s?void 0:s)||new vs({enableLongStackTrace:_v(),shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),E=[{provide:vs,useValue:A}];return A.run(()=>{const z=$n.create({providers:E,parent:this.injector,name:l.moduleType.name}),le=l.create(z),De=le.injector.get(y,null);if(!De)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return A.runOutsideAngular(()=>{const Me=A.onError.subscribe({next:Ye=>{De.handleError(Ye)}});le.onDestroy(()=>{GC(this._modules,le),Me.unsubscribe()})}),function(s,o,l){try{const u=l();return sA(u)?u.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(De,A,()=>{const Me=le.injector.get(Xo);return Me.runInitializers(),Me.donePromise.then(()=>(ep(le.injector.get(dv,lm)||lm),this._moduleDoBootstrap(le),le))})})}bootstrapModule(l,u=[]){const d=HC({},u);return function(s,o,l){const u=new cC(l);return Promise.resolve(u)}(0,0,l).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(l){const u=l.injector.get(ju);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!l.instance.ngDoBootstrap)throw new Error(`The module ${xe(l.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);l.instance.ngDoBootstrap(u)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(Hn($n))},s.\u0275prov=X({token:s,factory:s.\u0275fac}),s})();function HC(s,o){return Array.isArray(o)?o.reduce(HC,s):Object.assign(Object.assign({},s),o)}let ju=(()=>{class s{constructor(l,u,d,p,_){this._zone=l,this._injector=u,this._exceptionHandler=d,this._componentFactoryResolver=p,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const A=new Se.y(z=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{z.next(this._stable),z.complete()})}),E=new Se.y(z=>{let le;this._zone.runOutsideAngular(()=>{le=this._zone.onStable.subscribe(()=>{vs.assertNotInAngularZone(),gv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,z.next(!0))})})});const De=this._zone.onUnstable.subscribe(()=>{vs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{z.next(!1)}))});return()=>{le.unsubscribe(),De.unsubscribe()}});this.isStable=(0,me.T)(A,E.pipe((0,ae.B)()))}bootstrap(l,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=l instanceof As?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(d.componentType);const p=function(s){return s.isBoundToModule}(d)?void 0:this._injector.get(Il),A=d.create($n.NULL,[],u||d.selector,p),E=A.location.nativeElement,z=A.injector.get(VT,null),le=z&&A.injector.get(UT);return z&&le&&le.registerApplication(E,z),A.onDestroy(()=>{this.detachView(A.hostView),GC(this.components,A),le&&le.unregisterApplication(E)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const u=l;this._views.push(u),u.attachToAppRef(this)}detachView(l){const u=l;GC(this._views,u),u.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(Um,[]).concat(this._bootstrapListeners).forEach(d=>d(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(Hn(vs),Hn($n),Hn(y),Hn(Ma),Hn(Xo))},s.\u0275prov=X({token:s,factory:s.\u0275fac}),s})();function GC(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}class md{}class bs{}const LR={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let qC=(()=>{class s{constructor(l,u){this._compiler=l,this._config=u||LR}load(l){return this.loadAndCompile(l)}loadAndCompile(l){let[u,d]=l.split("#");return void 0===d&&(d="default"),Fe(8255)(u).then(p=>p[d]).then(p=>yd(p,u,d)).then(p=>this._compiler.compileModuleAsync(p))}loadFactory(l){let[u,d]=l.split("#"),p="NgFactory";return void 0===d&&(d="default",p=""),Fe(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(_=>_[d+p]).then(_=>yd(_,u,d))}}return s.\u0275fac=function(l){return new(l||s)(Hn(Gm),Hn(bs,8))},s.\u0275prov=X({token:s,factory:s.\u0275fac}),s})();function yd(s,o,l){if(!s)throw new Error(`Cannot find '${l}' in '${o}'`);return s}const HR=function(s){return null},uL=Av(null,"core",[{provide:hv,useValue:"unknown"},{provide:vv,deps:[$n]},{provide:UT,deps:[]},{provide:Rp,deps:[]}]),Rl=[{provide:ju,useClass:ju,deps:[vs,$n,y,Ma,Xo]},{provide:X1,deps:[vs],useFactory:function(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(l){o.push(l)}}},{provide:Xo,useClass:Xo,deps:[[new jo,uv]]},{provide:Gm,useClass:Gm,deps:[]},LC,{provide:IA,useFactory:function(){return hp},deps:[]},{provide:_m,useFactory:function(){return TI},deps:[]},{provide:dv,useFactory:function(s){return ep(s=s||"undefined"!=typeof $localize&&$localize.locale||lm),s},deps:[[new fc(dv),new jo,new Ji]]},{provide:jm,useValue:"USD"}];let KT=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(Hn(ju))},s.\u0275mod=Ua({type:s}),s.\u0275inj=ye({providers:Rl}),s})()},8939:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{hO:()=>Q,xv:()=>he,Dh:()=>xe,GT:()=>ce,cc:()=>W,on:()=>ie,pX:()=>ae});var c=Fe(7716),Je=Fe(7841),Se=Fe(6643);Nt=Fe.hmd(Nt);const me=["ngOnDestroy"],ae=(R,V,$,L={})=>new Proxy(R,{get:(J,Y)=>$.runOutsideAngular(()=>{var se;if(R[Y])return(null===(se=null==L?void 0:L.spy)||void 0===se?void 0:se.get)&&L.spy.get(Y,R[Y]),R[Y];if(me.indexOf(Y)>-1)return()=>{};const ee=V.toPromise().then(O=>{const T=O&&O[Y];return"function"==typeof T?T.bind(O):T&&T.then?T.then(w=>$.run(()=>w)):$.run(()=>T)});return new Proxy(()=>{},{get:(O,T)=>ee[T],apply:(O,T,w)=>ee.then(k=>{var C;const U=k&&k(...w);return(null===(C=null==L?void 0:L.spy)||void 0===C?void 0:C.apply)&&L.spy.apply(Y,w,U),U})})})}),ce=(R,V)=>{V.forEach($=>{Object.getOwnPropertyNames($.prototype||$).forEach(L=>{Object.defineProperty(R.prototype,L,Object.getOwnPropertyDescriptor($.prototype||$,L))})})};class ge{constructor(V){return V}}const xe=new c.OlP("angularfire2.app.options"),he=new c.OlP("angularfire2.app.name");function ie(R,V,$){const J="object"==typeof $&&$||{};J.name=J.name||"string"==typeof $&&$||"[DEFAULT]";const se=Je.Z.apps.filter(ee=>ee&&ee.name===J.name)[0]||V.runOutsideAngular(()=>Je.Z.initializeApp(R,J));try{JSON.stringify(R)!==JSON.stringify(se.options)&&re("error",`${se.name} Firebase App already initialized with different options${Nt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ee){}return new ge(se)}const re=(R,...V)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[R](...V)},B={provide:ge,useFactory:ie,deps:[xe,c.R0b,[new c.FiY,he]]};let Q=(()=>{class R{constructor($){Je.Z.registerVersion("angularfire",Se.q4.full,"core"),Je.Z.registerVersion("angularfire",Se.q4.full,"app-compat"),Je.Z.registerVersion("angular",c.q4F.full,$.toString())}static initializeApp($,L){return{ngModule:R,providers:[{provide:xe,useValue:$},{provide:he,useValue:L}]}}}return R.\u0275fac=function($){return new($||R)(c.LFG(c.Lbi))},R.\u0275mod=c.oAB({type:R}),R.\u0275inj=c.cJS({providers:[B]}),R})();function W(R,V,$,L,J){const[,Y,se]=globalThis.\u0275AngularfireInstanceCache.find(ee=>ee[0]===R)||[];if(Y)return function(R,V){try{return R.toString()===V.toString()}catch($){return R===V}}(J,se)||(I("error",`${V} was already initialized on the ${$} Firebase App with different settings.${M?" You may need to reload as Firebase is not HMR aware.":""}`),I("warn",{is:J,was:se})),Y;{const ee=L();return globalThis.\u0275AngularfireInstanceCache.push([R,ee,J]),ee}}const M=!!Nt.hot,I=(R,...V)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[R](...V)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6643:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{q4:()=>Fy,iC:()=>li,HU:()=>iu,vb:()=>pa,JM:()=>Bs});var c=Fe(7716),Je=Fe(2329),Se=Fe(8239),me=Fe(5452),ae=Fe(3854),ce=Fe(6034),ge=Fe(5601),xe=Fe(6676);const he="@firebase/installations",B="w:0.5.2",Q="FIS_v2",V=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function $(G){return G instanceof ae.ZR&&G.code.includes("request-failed")}function L({projectId:G}){return`https://firebaseinstallations.googleapis.com/v1/projects/${G}/installations`}function J(G){return{token:G.token,requestStatus:2,expiresIn:k(G.expiresIn),creationTime:Date.now()}}function Y(G,ne){return se.apply(this,arguments)}function se(){return(se=(0,Se.Z)(function*(G,ne){const Ge=(yield ne.json()).error;return V.create("request-failed",{requestName:G,serverCode:Ge.code,serverMessage:Ge.message,serverStatus:Ge.status})})).apply(this,arguments)}function ee({apiKey:G}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":G})}function O(G,{refreshToken:ne}){const Ee=ee(G);return Ee.append("Authorization",function(G){return`${Q} ${G}`}(ne)),Ee}function T(G){return w.apply(this,arguments)}function w(){return(w=(0,Se.Z)(function*(G){const ne=yield G();return ne.status>=500&&ne.status<600?G():ne})).apply(this,arguments)}function k(G){return Number(G.replace("s","000"))}function U(G,ne){return j.apply(this,arguments)}function j(){return(j=(0,Se.Z)(function*(G,{fid:ne}){const Ee=L(G),at={method:"POST",headers:ee(G),body:JSON.stringify({fid:ne,authVersion:Q,appId:G.appId,sdkVersion:B})},vt=yield T(()=>fetch(Ee,at));if(vt.ok){const Ot=yield vt.json();return{fid:Ot.fid||ne,registrationStatus:2,refreshToken:Ot.refreshToken,authToken:J(Ot.authToken)}}throw yield Y("Create Installation",vt)})).apply(this,arguments)}function S(G){return new Promise(ne=>{setTimeout(ne,G)})}const oe=/^[cdef][\w-]{21}$/;function pe(){try{const G=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(G),G[0]=112+G[0]%16;const Ee=function(G){return function(G){return btoa(String.fromCharCode(...G)).replace(/\+/g,"-").replace(/\//g,"_")}(G).substr(0,22)}(G);return oe.test(Ee)?Ee:""}catch(G){return""}}function Ae(G){return`${G.appName}!${G.appId}`}const D=new Map;function P(G,ne){const Ee=Ae(G);ye(Ee,ne),function(G,ne){const Ee=(!N&&"BroadcastChannel"in self&&(N=new BroadcastChannel("[Firebase] FID Change"),N.onmessage=G=>{ye(G.data.key,G.data.fid)}),N);Ee&&Ee.postMessage({key:G,fid:ne}),0===D.size&&N&&(N.close(),N=null)}(Ee,ne)}function ye(G,ne){const Ee=D.get(G);if(Ee)for(const Ge of Ee)Ge(ne)}let N=null;const Le="firebase-installations-store";let Oe=null;function ze(){return Oe||(Oe=(0,xe.openDb)("firebase-installations-database",1,G=>{switch(G.oldVersion){case 0:G.createObjectStore(Le)}})),Oe}function Ne(G,ne){return it.apply(this,arguments)}function it(){return(it=(0,Se.Z)(function*(G,ne){const Ee=Ae(G),Xe=(yield ze()).transaction(Le,"readwrite"),at=Xe.objectStore(Le),vt=yield at.get(Ee);return yield at.put(ne,Ee),yield Xe.complete,(!vt||vt.fid!==ne.fid)&&P(G,ne.fid),ne})).apply(this,arguments)}function lt(G){return st.apply(this,arguments)}function st(){return(st=(0,Se.Z)(function*(G){const ne=Ae(G),Ge=(yield ze()).transaction(Le,"readwrite");yield Ge.objectStore(Le).delete(ne),yield Ge.complete})).apply(this,arguments)}function Ke(G,ne){return Be.apply(this,arguments)}function Be(){return(Be=(0,Se.Z)(function*(G,ne){const Ee=Ae(G),Xe=(yield ze()).transaction(Le,"readwrite"),at=Xe.objectStore(Le),vt=yield at.get(Ee),Ot=ne(vt);return void 0===Ot?yield at.delete(Ee):yield at.put(Ot,Ee),yield Xe.complete,Ot&&(!vt||vt.fid!==Ot.fid)&&P(G,Ot.fid),Ot})).apply(this,arguments)}function fe(G){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,Se.Z)(function*(G){let ne;const Ee=yield Ke(G,Ge=>{const Xe=Ve(Ge),at=Ze(G,Xe);return ne=at.registrationPromise,at.installationEntry});return""===Ee.fid?{installationEntry:yield ne}:{installationEntry:Ee,registrationPromise:ne}})).apply(this,arguments)}function Ve(G){return Et(G||{fid:pe(),registrationStatus:0})}function Ze(G,ne){if(0===ne.registrationStatus){if(!navigator.onLine)return{installationEntry:ne,registrationPromise:Promise.reject(V.create("app-offline"))};const Ee={fid:ne.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:Ee,registrationPromise:function(G,ne){return et.apply(this,arguments)}(G,Ee)}}return 1===ne.registrationStatus?{installationEntry:ne,registrationPromise:mt(G)}:{installationEntry:ne}}function et(){return(et=(0,Se.Z)(function*(G,ne){try{return Ne(G,yield U(G,ne))}catch(Ee){throw $(Ee)&&409===Ee.customData.serverCode?yield lt(G):yield Ne(G,{fid:ne.fid,registrationStatus:0}),Ee}})).apply(this,arguments)}function mt(G){return It.apply(this,arguments)}function It(){return(It=(0,Se.Z)(function*(G){let ne=yield Lt(G);for(;1===ne.registrationStatus;)yield S(100),ne=yield Lt(G);if(0===ne.registrationStatus){const{installationEntry:Ee,registrationPromise:Ge}=yield fe(G);return Ge||Ee}return ne})).apply(this,arguments)}function Lt(G){return Ke(G,ne=>{if(!ne)throw V.create("installation-not-found");return Et(ne)})}function Et(G){return function(G){return 1===G.registrationStatus&&G.registrationTime+1e4<Date.now()}(G)?{fid:G.fid,registrationStatus:0}:G}function en(G,ne){return We.apply(this,arguments)}function We(){return(We=(0,Se.Z)(function*({appConfig:G,platformLoggerProvider:ne},Ee){const Ge=Ue(G,Ee),Xe=O(G,Ee),at=ne.getImmediate({optional:!0});at&&Xe.append("x-firebase-client",at.getPlatformInfoString());const Ot={method:"POST",headers:Xe,body:JSON.stringify({installation:{sdkVersion:B}})},Pt=yield T(()=>fetch(Ge,Ot));if(Pt.ok)return J(yield Pt.json());throw yield Y("Generate Auth Token",Pt)})).apply(this,arguments)}function Ue(G,{fid:ne}){return`${L(G)}/${ne}/authTokens:generate`}function He(G){return ct.apply(this,arguments)}function ct(){return(ct=(0,Se.Z)(function*(G,ne=!1){let Ee;const Ge=yield Ke(G.appConfig,at=>{if(!_n(at))throw V.create("not-registered");const vt=at.authToken;if(!ne&&ti(vt))return at;if(1===vt.requestStatus)return Ee=tt(G,ne),at;{if(!navigator.onLine)throw V.create("app-offline");const Ot=xi(at);return Ee=nn(G,Ot),Ot}});return Ee?yield Ee:Ge.authToken})).apply(this,arguments)}function tt(G,ne){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,Se.Z)(function*(G,ne){let Ee=yield Bt(G.appConfig);for(;1===Ee.authToken.requestStatus;)yield S(100),Ee=yield Bt(G.appConfig);const Ge=Ee.authToken;return 0===Ge.requestStatus?He(G,ne):Ge})).apply(this,arguments)}function Bt(G){return Ke(G,ne=>{if(!_n(ne))throw V.create("not-registered");return function(G){return 1===G.requestStatus&&G.requestTime+1e4<Date.now()}(ne.authToken)?Object.assign(Object.assign({},ne),{authToken:{requestStatus:0}}):ne})}function nn(G,ne){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,Se.Z)(function*(G,ne){try{const Ee=yield en(G,ne),Ge=Object.assign(Object.assign({},ne),{authToken:Ee});return yield Ne(G.appConfig,Ge),Ee}catch(Ee){if(!$(Ee)||401!==Ee.customData.serverCode&&404!==Ee.customData.serverCode){const Ge=Object.assign(Object.assign({},ne),{authToken:{requestStatus:0}});yield Ne(G.appConfig,Ge)}else yield lt(G.appConfig);throw Ee}})).apply(this,arguments)}function _n(G){return void 0!==G&&2===G.registrationStatus}function ti(G){return 2===G.requestStatus&&!function(G){const ne=Date.now();return ne<G.creationTime||G.creationTime+G.expiresIn<ne+36e5}(G)}function xi(G){const ne={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},G),{authToken:ne})}function Ua(){return(Ua=(0,Se.Z)(function*(G){const ne=G,{installationEntry:Ee,registrationPromise:Ge}=yield fe(ne.appConfig);return Ge?Ge.catch(console.error):He(ne).catch(console.error),Ee.fid})).apply(this,arguments)}function jl(){return(jl=(0,Se.Z)(function*(G,ne=!1){const Ee=G;return yield Wc(Ee.appConfig),(yield He(Ee,ne)).token})).apply(this,arguments)}function Wc(G){return xo.apply(this,arguments)}function xo(){return(xo=(0,Se.Z)(function*(G){const{registrationPromise:ne}=yield fe(G);ne&&(yield ne)})).apply(this,arguments)}function Dn(G){return V.create("missing-app-config-values",{valueName:G})}const lr="installations";(0,me._registerComponent)(new ce.wA(lr,G=>{const ne=G.getProvider("app").getImmediate();return{app:ne,appConfig:function(G){if(!G||!G.options)throw Dn("App Configuration");if(!G.name)throw Dn("App Name");const ne=["projectId","apiKey","appId"];for(const Ee of ne)if(!G.options[Ee])throw Dn(Ee);return{appName:G.name,projectId:G.options.projectId,apiKey:G.options.apiKey,appId:G.options.appId}}(ne),platformLoggerProvider:(0,me._getProvider)(ne,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,me._registerComponent)(new ce.wA("installations-internal",G=>{const ne=G.getProvider("app").getImmediate(),Ee=(0,me._getProvider)(ne,lr).getImmediate();return{getId:()=>function(G){return Ua.apply(this,arguments)}(Ee),getToken:Xe=>function(G){return jl.apply(this,arguments)}(Ee,Xe)}},"PRIVATE")),(0,me.registerVersion)(he,"0.5.2"),(0,me.registerVersion)(he,"0.5.2","esm2017");const ra="@firebase/remote-config",Si=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class za{constructor(ne,Ee,Ge,Xe){this.client=ne,this.storage=Ee,this.storageCache=Ge,this.logger=Xe}isCachedDataFresh(ne,Ee){if(!Ee)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ge=Date.now()-Ee,Xe=Ge<=ne;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ge}. Cache max age millis (minimumFetchIntervalMillis setting): ${ne}. Is cache hit: ${Xe}.`),Xe}fetch(ne){var Ee=this;return(0,Se.Z)(function*(){const[Ge,Xe]=yield Promise.all([Ee.storage.getLastSuccessfulFetchTimestampMillis(),Ee.storage.getLastSuccessfulFetchResponse()]);if(Xe&&Ee.isCachedDataFresh(ne.cacheMaxAgeMillis,Ge))return Xe;ne.eTag=Xe&&Xe.eTag;const at=yield Ee.client.fetch(ne),vt=[Ee.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===at.status&&vt.push(Ee.storage.setLastSuccessfulFetchResponse(at)),yield Promise.all(vt),at})()}}function cr(G=navigator){return G.languages&&G.languages[0]||G.language}class mi{constructor(ne,Ee,Ge,Xe,at,vt){this.firebaseInstallations=ne,this.sdkVersion=Ee,this.namespace=Ge,this.projectId=Xe,this.apiKey=at,this.appId=vt}fetch(ne){var Ee=this;return(0,Se.Z)(function*(){const[Ge,Xe]=yield Promise.all([Ee.firebaseInstallations.getId(),Ee.firebaseInstallations.getToken()]),vt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Ee.projectId}/namespaces/${Ee.namespace}:fetch?key=${Ee.apiKey}`,Ot={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":ne.eTag||"*"},Pt={sdk_version:Ee.sdkVersion,app_instance_id:Ge,app_instance_id_token:Xe,app_id:Ee.appId,language_code:cr()},bn={method:"POST",headers:Ot,body:JSON.stringify(Pt)},kn=fetch(vt,bn),ci=new Promise((Hr,kr)=>{ne.signal.addEventListener(()=>{const rn=new Error("The operation was aborted.");rn.name="AbortError",kr(rn)})});let Dr;try{yield Promise.race([kn,ci]),Dr=yield kn}catch(Hr){let kr="fetch-client-network";throw"AbortError"===Hr.name&&(kr="fetch-timeout"),Si.create(kr,{originalErrorMessage:Hr.message})}let Ti=Dr.status;const ll=Dr.headers.get("ETag")||void 0;let dc,cl;if(200===Dr.status){let Hr;try{Hr=yield Dr.json()}catch(kr){throw Si.create("fetch-client-parse",{originalErrorMessage:kr.message})}dc=Hr.entries,cl=Hr.state}if("INSTANCE_STATE_UNSPECIFIED"===cl?Ti=500:"NO_CHANGE"===cl?Ti=304:("NO_TEMPLATE"===cl||"EMPTY_CONFIG"===cl)&&(dc={}),304!==Ti&&200!==Ti)throw Si.create("fetch-status",{httpStatus:Ti});return{status:Ti,eTag:ll,config:dc}})()}}class Ts{constructor(ne,Ee){this.client=ne,this.storage=Ee}fetch(ne){var Ee=this;return(0,Se.Z)(function*(){const Ge=(yield Ee.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Ee.attemptFetch(ne,Ge)})()}attemptFetch(ne,{throttleEndTimeMillis:Ee,backoffCount:Ge}){var Xe=this;return(0,Se.Z)(function*(){yield function(G,ne){return new Promise((Ee,Ge)=>{const Xe=Math.max(ne-Date.now(),0),at=setTimeout(Ee,Xe);G.addEventListener(()=>{clearTimeout(at),Ge(Si.create("fetch-throttle",{throttleEndTimeMillis:ne}))})})}(ne.signal,Ee);try{const at=yield Xe.client.fetch(ne);return yield Xe.storage.deleteThrottleMetadata(),at}catch(at){if(!function(G){if(!(G instanceof ae.ZR&&G.customData))return!1;const ne=Number(G.customData.httpStatus);return 429===ne||500===ne||503===ne||504===ne}(at))throw at;const vt={throttleEndTimeMillis:Date.now()+(0,ae.$s)(Ge),backoffCount:Ge+1};return yield Xe.storage.setThrottleMetadata(vt),Xe.attemptFetch(ne,vt)}})()}}class Sy{constructor(ne,Ee,Ge,Xe,at){this.app=ne,this._client=Ee,this._storageCache=Ge,this._storage=Xe,this._logger=at,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Gl(G,ne){const Ee=G.target.error||void 0;return Si.create(ne,{originalErrorMessage:Ee&&Ee.message})}const Wa="app_namespace_store";class Ld{constructor(ne,Ee,Ge,Xe=function(){return new Promise((G,ne)=>{try{const Ee=indexedDB.open("firebase_remote_config",1);Ee.onerror=Ge=>{ne(Gl(Ge,"storage-open"))},Ee.onsuccess=Ge=>{G(Ge.target.result)},Ee.onupgradeneeded=Ge=>{const Xe=Ge.target.result;switch(Ge.oldVersion){case 0:Xe.createObjectStore(Wa,{keyPath:"compositeKey"})}}}catch(Ee){ne(Si.create("storage-open",{originalErrorMessage:Ee}))}})}()){this.appId=ne,this.appName=Ee,this.namespace=Ge,this.openDbPromise=Xe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(ne){return this.set("last_fetch_status",ne)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(ne){return this.set("last_successful_fetch_timestamp_millis",ne)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(ne){return this.set("last_successful_fetch_response",ne)}getActiveConfig(){return this.get("active_config")}setActiveConfig(ne){return this.set("active_config",ne)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(ne){return this.set("active_config_etag",ne)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(ne){return this.set("throttle_metadata",ne)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(ne){var Ee=this;return(0,Se.Z)(function*(){const Ge=yield Ee.openDbPromise;return new Promise((Xe,at)=>{const Ot=Ge.transaction([Wa],"readonly").objectStore(Wa),Pt=Ee.createCompositeKey(ne);try{const bn=Ot.get(Pt);bn.onerror=kn=>{at(Gl(kn,"storage-get"))},bn.onsuccess=kn=>{const ci=kn.target.result;Xe(ci?ci.value:void 0)}}catch(bn){at(Si.create("storage-get",{originalErrorMessage:bn&&bn.message}))}})})()}set(ne,Ee){var Ge=this;return(0,Se.Z)(function*(){const Xe=yield Ge.openDbPromise;return new Promise((at,vt)=>{const Pt=Xe.transaction([Wa],"readwrite").objectStore(Wa),bn=Ge.createCompositeKey(ne);try{const kn=Pt.put({compositeKey:bn,value:Ee});kn.onerror=ci=>{vt(Gl(ci,"storage-set"))},kn.onsuccess=()=>{at()}}catch(kn){vt(Si.create("storage-set",{originalErrorMessage:kn&&kn.message}))}})})()}delete(ne){var Ee=this;return(0,Se.Z)(function*(){const Ge=yield Ee.openDbPromise;return new Promise((Xe,at)=>{const Ot=Ge.transaction([Wa],"readwrite").objectStore(Wa),Pt=Ee.createCompositeKey(ne);try{const bn=Ot.delete(Pt);bn.onerror=kn=>{at(Gl(kn,"storage-delete"))},bn.onsuccess=()=>{Xe()}}catch(bn){at(Si.create("storage-delete",{originalErrorMessage:bn&&bn.message}))}})})()}createCompositeKey(ne){return[this.appId,this.appName,this.namespace,ne].join()}}class qa{constructor(ne){this.storage=ne}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var ne=this;return(0,Se.Z)(function*(){const Ee=ne.storage.getLastFetchStatus(),Ge=ne.storage.getLastSuccessfulFetchTimestampMillis(),Xe=ne.storage.getActiveConfig(),at=yield Ee;at&&(ne.lastFetchStatus=at);const vt=yield Ge;vt&&(ne.lastSuccessfulFetchTimestampMillis=vt);const Ot=yield Xe;Ot&&(ne.activeConfig=Ot)})()}setLastFetchStatus(ne){return this.lastFetchStatus=ne,this.storage.setLastFetchStatus(ne)}setLastSuccessfulFetchTimestampMillis(ne){return this.lastSuccessfulFetchTimestampMillis=ne,this.storage.setLastSuccessfulFetchTimestampMillis(ne)}setActiveConfig(ne){return this.activeConfig=ne,this.storage.setActiveConfig(ne)}}function Dy(){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,Se.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(G){return!1}})).apply(this,arguments)}(0,me._registerComponent)(new ce.wA("remote-config",function(ne,{instanceIdentifier:Ee}){const Ge=ne.getProvider("app").getImmediate(),Xe=ne.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Si.create("registration-window");if(!(0,ae.hl)())throw Si.create("indexed-db-unavailable");const{projectId:at,apiKey:vt,appId:Ot}=Ge.options;if(!at)throw Si.create("registration-project-id");if(!vt)throw Si.create("registration-api-key");if(!Ot)throw Si.create("registration-app-id");const Pt=new Ld(Ot,Ge.name,Ee=Ee||"firebase"),bn=new qa(Pt),kn=new ge.Yd(ra);kn.logLevel=ge.in.ERROR;const ci=new mi(Xe,me.SDK_VERSION,Ee,at,vt,Ot),Dr=new Ts(ci,Pt),Ti=new za(Dr,Pt,bn,kn),ll=new Sy(Ge,Ti,bn,Pt,kn);return function(G){const ne=(0,ae.m9)(G);ne._initializePromise||(ne._initializePromise=ne._storageCache.loadFromStorage().then(()=>{ne._isInitializationComplete=!0}))}(ll),ll},"PUBLIC").setMultipleInstances(!0)),(0,me.registerVersion)(ra,"0.3.1"),(0,me.registerVersion)(ra,"0.3.1","esm2017");const Ds="/firebase-messaging-sw.js",zl="/firebase-cloud-messaging-push-scope",To="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",eo="google.c.a.c_id",Bd="google.c.a.c_l",sa="google.c.a.ts",Do="google.c.a.e";var ko=(()=>{return(G=ko||(ko={})).PUSH_RECEIVED="push-received",G.NOTIFICATION_CLICKED="notification-clicked",ko;var G})();function is(G){const ne=new Uint8Array(G);return btoa(String.fromCharCode(...ne)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Yc(G){const Ee=(G+"=".repeat((4-G.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ge=atob(Ee),Xe=new Uint8Array(Ge.length);for(let at=0;at<Ge.length;++at)Xe[at]=Ge.charCodeAt(at);return Xe}const Ka="fcm_token_details_db",Vd="fcm_token_object_Store";function rs(G){return oa.apply(this,arguments)}function oa(){return(oa=(0,Se.Z)(function*(G){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(at=>at.name).includes(Ka))return null;let ne=null;return(yield(0,xe.openDb)(Ka,5,function(){var Ge=(0,Se.Z)(function*(Xe){var at;if(Xe.oldVersion<2||!Xe.objectStoreNames.contains(Vd))return;const vt=Xe.transaction.objectStore(Vd),Ot=yield vt.index("fcmSenderId").get(G);if(yield vt.clear(),Ot)if(2===Xe.oldVersion){const Pt=Ot;if(!Pt.auth||!Pt.p256dh||!Pt.endpoint)return;ne={token:Pt.fcmToken,createTime:null!==(at=Pt.createTime)&&void 0!==at?at:Date.now(),subscriptionOptions:{auth:Pt.auth,p256dh:Pt.p256dh,endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:"string"==typeof Pt.vapidKey?Pt.vapidKey:is(Pt.vapidKey)}}}else if(3===Xe.oldVersion){const Pt=Ot;ne={token:Pt.fcmToken,createTime:Pt.createTime,subscriptionOptions:{auth:is(Pt.auth),p256dh:is(Pt.p256dh),endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:is(Pt.vapidKey)}}}else if(4===Xe.oldVersion){const Pt=Ot;ne={token:Pt.fcmToken,createTime:Pt.createTime,subscriptionOptions:{auth:is(Pt.auth),p256dh:is(Pt.p256dh),endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:is(Pt.vapidKey)}}}});return function(Xe){return Ge.apply(this,arguments)}}())).close(),yield(0,xe.deleteDb)(Ka),yield(0,xe.deleteDb)("fcm_vapid_details_db"),yield(0,xe.deleteDb)("undefined"),Wl(ne)?ne:null})).apply(this,arguments)}function Wl(G){if(!G||!G.subscriptionOptions)return!1;const{subscriptionOptions:ne}=G;return"number"==typeof G.createTime&&G.createTime>0&&"string"==typeof G.token&&G.token.length>0&&"string"==typeof ne.auth&&ne.auth.length>0&&"string"==typeof ne.p256dh&&ne.p256dh.length>0&&"string"==typeof ne.endpoint&&ne.endpoint.length>0&&"string"==typeof ne.swScope&&ne.swScope.length>0&&"string"==typeof ne.vapidKey&&ne.vapidKey.length>0}const Mo="firebase-messaging-store";let Zl=null;function Nn(){return Zl||(Zl=(0,xe.openDb)("firebase-messaging-database",1,G=>{switch(G.oldVersion){case 0:G.createObjectStore(Mo)}})),Zl}function Yl(G){return ss.apply(this,arguments)}function ss(){return(ss=(0,Se.Z)(function*(G){const ne=Ro(G),Ge=yield(yield Nn()).transaction(Mo).objectStore(Mo).get(ne);if(Ge)return Ge;{const Xe=yield rs(G.appConfig.senderId);if(Xe)return yield Kl(G,Xe),Xe}})).apply(this,arguments)}function Kl(G,ne){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,Se.Z)(function*(G,ne){const Ee=Ro(G),Xe=(yield Nn()).transaction(Mo,"readwrite");return yield Xe.objectStore(Mo).put(ne,Ee),yield Xe.complete,ne})).apply(this,arguments)}function Xu(G){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,Se.Z)(function*(G){const ne=Ro(G),Ge=(yield Nn()).transaction(Mo,"readwrite");yield Ge.objectStore(Mo).delete(ne),yield Ge.complete})).apply(this,arguments)}function Ro({appConfig:G}){return G.appId}const ni=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Qc(G,ne){return ks.apply(this,arguments)}function ks(){return(ks=(0,Se.Z)(function*(G,ne){const Ee=yield Qa(G),Ge=Kt(ne),Xe={method:"POST",headers:Ee,body:JSON.stringify(Ge)};let at;try{at=yield(yield fetch(to(G.appConfig),Xe)).json()}catch(vt){throw ni.create("token-subscribe-failed",{errorInfo:vt})}if(at.error)throw ni.create("token-subscribe-failed",{errorInfo:at.error.message});if(!at.token)throw ni.create("token-subscribe-no-token");return at.token})).apply(this,arguments)}function ur(G,ne){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,Se.Z)(function*(G,ne){const Ee=yield Qa(G),Ge=Kt(ne.subscriptionOptions),Xe={method:"PATCH",headers:Ee,body:JSON.stringify(Ge)};let at;try{at=yield(yield fetch(`${to(G.appConfig)}/${ne.token}`,Xe)).json()}catch(vt){throw ni.create("token-update-failed",{errorInfo:vt})}if(at.error)throw ni.create("token-update-failed",{errorInfo:at.error.message});if(!at.token)throw ni.create("token-update-no-token");return at.token})).apply(this,arguments)}function eh(G,ne){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,Se.Z)(function*(G,ne){const Ge={method:"DELETE",headers:yield Qa(G)};try{const at=yield(yield fetch(`${to(G.appConfig)}/${ne}`,Ge)).json();if(at.error)throw ni.create("token-unsubscribe-failed",{errorInfo:at.error.message})}catch(Xe){throw ni.create("token-unsubscribe-failed",{errorInfo:Xe})}})).apply(this,arguments)}function to({projectId:G}){return`https://fcmregistrations.googleapis.com/v1/projects/${G}/registrations`}function Qa(G){return Po.apply(this,arguments)}function Po(){return(Po=(0,Se.Z)(function*({appConfig:G,installations:ne}){const Ee=yield ne.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":G.apiKey,"x-goog-firebase-installations-auth":`FIS ${Ee}`})})).apply(this,arguments)}function Kt({p256dh:G,auth:ne,endpoint:Ee,vapidKey:Ge}){const Xe={web:{endpoint:Ee,auth:ne,p256dh:G}};return Ge!==To&&(Xe.web.applicationPubKey=Ge),Xe}const $c=6048e5;function sg(G){return $l.apply(this,arguments)}function $l(){return($l=(0,Se.Z)(function*(G){const ne=yield th(G.swRegistration,G.vapidKey),Ee={vapidKey:G.vapidKey,swScope:G.swRegistration.scope,endpoint:ne.endpoint,auth:is(ne.getKey("auth")),p256dh:is(ne.getKey("p256dh"))},Ge=yield Yl(G.firebaseDependencies);if(Ge){if(nh(Ge.subscriptionOptions,Ee))return Date.now()>=Ge.createTime+$c?og(G,{token:Ge.token,createTime:Date.now(),subscriptionOptions:Ee}):Ge.token;try{yield eh(G.firebaseDependencies,Ge.token)}catch(Xe){console.warn(Xe)}return yt(G.firebaseDependencies,Ee)}return yt(G.firebaseDependencies,Ee)})).apply(this,arguments)}function jd(G){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,Se.Z)(function*(G){const ne=yield Yl(G.firebaseDependencies);ne&&(yield eh(G.firebaseDependencies,ne.token),yield Xu(G.firebaseDependencies));const Ee=yield G.swRegistration.pushManager.getSubscription();return!Ee||Ee.unsubscribe()})).apply(this,arguments)}function og(G,ne){return no.apply(this,arguments)}function no(){return(no=(0,Se.Z)(function*(G,ne){try{const Ee=yield ur(G.firebaseDependencies,ne),Ge=Object.assign(Object.assign({},ne),{token:Ee,createTime:Date.now()});return yield Kl(G.firebaseDependencies,Ge),Ee}catch(Ee){throw yield jd(G),Ee}})).apply(this,arguments)}function yt(G,ne){return dn.apply(this,arguments)}function dn(){return(dn=(0,Se.Z)(function*(G,ne){const Ge={token:yield Qc(G,ne),createTime:Date.now(),subscriptionOptions:ne};return yield Kl(G,Ge),Ge.token})).apply(this,arguments)}function th(G,ne){return On.apply(this,arguments)}function On(){return(On=(0,Se.Z)(function*(G,ne){return(yield G.pushManager.getSubscription())||G.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Yc(ne)})})).apply(this,arguments)}function nh(G,ne){return ne.vapidKey===G.vapidKey&&ne.endpoint===G.endpoint&&ne.auth===G.auth&&ne.p256dh===G.p256dh}function Ms(G){const ne={from:G.from,collapseKey:G.collapse_key,messageId:G.fcm_message_id};return function(G,ne){if(!ne.notification)return;G.notification={};const Ee=ne.notification.title;Ee&&(G.notification.title=Ee);const Ge=ne.notification.body;Ge&&(G.notification.body=Ge);const Xe=ne.notification.image;Xe&&(G.notification.image=Xe)}(ne,G),function(G,ne){!ne.data||(G.data=ne.data)}(ne,G),function(G,ne){if(!ne.fcmOptions)return;G.fcmOptions={};const Ee=ne.fcmOptions.link;Ee&&(G.fcmOptions.link=Ee);const Ge=ne.fcmOptions.analytics_label;Ge&&(G.fcmOptions.analyticsLabel=Ge)}(ne,G),ne}function My(G){return"object"==typeof G&&!!G&&eo in G}function Hd(G,ne){const Ee=[];for(let Ge=0;Ge<G.length;Ge++)Ee.push(G.charAt(Ge)),Ge<ne.length&&Ee.push(ne.charAt(Ge));return Ee.join("")}function Xa(G){return ni.create("missing-app-config-values",{valueName:G})}Hd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Hd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class oi{constructor(ne,Ee,Ge){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Xe=function(G){if(!G||!G.options)throw Xa("App Configuration Object");if(!G.name)throw Xa("App Name");const ne=["projectId","apiKey","appId","messagingSenderId"],{options:Ee}=G;for(const Ge of ne)if(!Ee[Ge])throw Xa(Ge);return{appName:G.name,projectId:Ee.projectId,apiKey:Ee.apiKey,appId:Ee.appId,senderId:Ee.messagingSenderId}}(ne);this.firebaseDependencies={app:ne,appConfig:Xe,installations:Ee,analyticsProvider:Ge}}_delete(){return Promise.resolve()}}function Vr(G){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,Se.Z)(function*(G){try{G.swRegistration=yield navigator.serviceWorker.register(Ds,{scope:zl}),G.swRegistration.update().catch(()=>{})}catch(ne){throw ni.create("failed-service-worker-registration",{browserErrorMessage:ne.message})}})).apply(this,arguments)}function io(G,ne){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,Se.Z)(function*(G,ne){if(!ne&&!G.swRegistration&&(yield Vr(G)),ne||!G.swRegistration){if(!(ne instanceof ServiceWorkerRegistration))throw ni.create("invalid-sw-registration");G.swRegistration=ne}})).apply(this,arguments)}function Ry(G,ne){return el.apply(this,arguments)}function el(){return(el=(0,Se.Z)(function*(G,ne){ne?G.vapidKey=ne:G.vapidKey||(G.vapidKey=To)})).apply(this,arguments)}function ec(){return(ec=(0,Se.Z)(function*(G,ne){if(!navigator)throw ni.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ni.create("permission-blocked");return yield Ry(G,null==ne?void 0:ne.vapidKey),yield io(G,null==ne?void 0:ne.serviceWorkerRegistration),sg(G)})).apply(this,arguments)}function rh(G,ne,Ee){return aa.apply(this,arguments)}function aa(){return(aa=(0,Se.Z)(function*(G,ne,Ee){const Ge=Gd(ne);(yield G.firebaseDependencies.analyticsProvider.get()).logEvent(Ge,{message_id:Ee[eo],message_name:Ee[Bd],message_time:Ee[sa],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Gd(G){switch(G){case ko.NOTIFICATION_CLICKED:return"notification_open";case ko.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function nc(){return(nc=(0,Se.Z)(function*(G,ne){const Ee=ne.data;if(!Ee.isFirebaseMessaging)return;G.onMessageHandler&&Ee.messageType===ko.PUSH_RECEIVED&&("function"==typeof G.onMessageHandler?G.onMessageHandler(Ms(Ee)):G.onMessageHandler.next(Ms(Ee)));const Ge=Ee.data;My(Ge)&&"1"===Ge[Do]&&(yield rh(G,Ee.messageType,Ge))})).apply(this,arguments)}const ic="@firebase/messaging";function qd(){return ca.apply(this,arguments)}function ca(){return(ca=(0,Se.Z)(function*(){return"undefined"!=typeof window&&(0,ae.hl)()&&(yield(0,ae.eu)())&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,me._registerComponent)(new ce.wA("messaging",G=>{const ne=new oi(G.getProvider("app").getImmediate(),G.getProvider("installations-internal").getImmediate(),G.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Ee=>function(G,ne){return nc.apply(this,arguments)}(ne,Ee)),ne},"PUBLIC")),(0,me._registerComponent)(new ce.wA("messaging-internal",G=>{const ne=G.getProvider("messaging").getImmediate();return{getToken:Ge=>function(G,ne){return ec.apply(this,arguments)}(ne,Ge)}},"PRIVATE")),(0,me.registerVersion)(ic,"0.9.2"),(0,me.registerVersion)(ic,"0.9.2","esm2017");const oh="analytics",ah="firebase_id",nl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",oc="https://www.googletagmanager.com/gtag/js",_i=new ge.Yd("@firebase/analytics");function lh(G){return Promise.all(G.map(ne=>ne.catch(Ee=>Ee)))}function ch(G,ne){const Ee=document.createElement("script");Ee.src=`${oc}?l=${G}&id=${ne}`,Ee.async=!0,document.head.appendChild(Ee)}function Xc(G,ne,Ee,Ge,Xe,at){return ac.apply(this,arguments)}function ac(){return(ac=(0,Se.Z)(function*(G,ne,Ee,Ge,Xe,at){const vt=Ge[Xe];try{if(vt)yield ne[vt];else{const Pt=(yield lh(Ee)).find(bn=>bn.measurementId===Xe);Pt&&(yield ne[Pt.appId])}}catch(Ot){_i.error(Ot)}G("config",Xe,at)})).apply(this,arguments)}function Yd(G,ne,Ee,Ge,Xe){return ua.apply(this,arguments)}function ua(){return(ua=(0,Se.Z)(function*(G,ne,Ee,Ge,Xe){try{let at=[];if(Xe&&Xe.send_to){let vt=Xe.send_to;Array.isArray(vt)||(vt=[vt]);const Ot=yield lh(Ee);for(const Pt of vt){const bn=Ot.find(ci=>ci.measurementId===Pt),kn=bn&&ne[bn.appId];if(!kn){at=[];break}at.push(kn)}}0===at.length&&(at=Object.values(ne)),yield Promise.all(at),G("event",Ge,Xe||{})}catch(at){_i.error(at)}})).apply(this,arguments)}function y0(){const G=window.document.getElementsByTagName("script");for(const ne of Object.values(G))if(ne.src&&ne.src.includes(oc))return ne;return null}const Os=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ro=new class{constructor(ne={},Ee=1e3){this.throttleMetadata=ne,this.intervalMillis=Ee}getThrottleMetadata(ne){return this.throttleMetadata[ne]}setThrottleMetadata(ne,Ee){this.throttleMetadata[ne]=Ee}deleteThrottleMetadata(ne){delete this.throttleMetadata[ne]}};function Qd(G){return new Headers({Accept:"application/json","x-goog-api-key":G})}function Yn(G){return so.apply(this,arguments)}function so(){return(so=(0,Se.Z)(function*(G){var ne;const{appId:Ee,apiKey:Ge}=G,Xe={method:"GET",headers:Qd(Ge)},at=nl.replace("{app-id}",Ee),vt=yield fetch(at,Xe);if(200!==vt.status&&304!==vt.status){let Ot="";try{const Pt=yield vt.json();(null===(ne=Pt.error)||void 0===ne?void 0:ne.message)&&(Ot=Pt.error.message)}catch(Pt){}throw Os.create("config-fetch-failed",{httpStatus:vt.status,responseMessage:Ot})}return vt.json()})).apply(this,arguments)}function $d(G){return ha.apply(this,arguments)}function ha(){return(ha=(0,Se.Z)(function*(G,ne=ro,Ee){const{appId:Ge,apiKey:Xe,measurementId:at}=G.options;if(!Ge)throw Os.create("no-app-id");if(!Xe){if(at)return{measurementId:at,appId:Ge};throw Os.create("no-api-key")}const vt=ne.getThrottleMetadata(Ge)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ot=new lg;return setTimeout((0,Se.Z)(function*(){Ot.abort()}),void 0!==Ee?Ee:6e4),lc({appId:Ge,apiKey:Xe,measurementId:at},vt,Ot,ne)})).apply(this,arguments)}function lc(G,ne,Ee){return il.apply(this,arguments)}function il(){return(il=(0,Se.Z)(function*(G,{throttleEndTimeMillis:ne,backoffCount:Ee},Ge,Xe=ro){const{appId:at,measurementId:vt}=G;try{yield _0(Ge,ne)}catch(Ot){if(vt)return _i.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vt} provided in the "measurementId" field in the local Firebase config. [${Ot.message}]`),{appId:at,measurementId:vt};throw Ot}try{const Ot=yield Yn(G);return Xe.deleteThrottleMetadata(at),Ot}catch(Ot){if(!fh(Ot)){if(Xe.deleteThrottleMetadata(at),vt)return _i.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vt} provided in the "measurementId" field in the local Firebase config. [${Ot.message}]`),{appId:at,measurementId:vt};throw Ot}const Pt=503===Number(Ot.customData.httpStatus)?(0,ae.$s)(Ee,Xe.intervalMillis,30):(0,ae.$s)(Ee,Xe.intervalMillis),bn={throttleEndTimeMillis:Date.now()+Pt,backoffCount:Ee+1};return Xe.setThrottleMetadata(at,bn),_i.debug(`Calling attemptFetch again in ${Pt} millis`),lc(G,bn,Ge,Xe)}})).apply(this,arguments)}function _0(G,ne){return new Promise((Ee,Ge)=>{const Xe=Math.max(ne-Date.now(),0),at=setTimeout(Ee,Xe);G.addEventListener(()=>{clearTimeout(at),Ge(Os.create("fetch-throttle",{throttleEndTimeMillis:ne}))})})}function fh(G){if(!(G instanceof ae.ZR&&G.customData))return!1;const ne=Number(G.customData.httpStatus);return 429===ne||500===ne||503===ne||504===ne}class lg{constructor(){this.listeners=[]}addEventListener(ne){this.listeners.push(ne)}abort(){this.listeners.forEach(ne=>ne())}}function ph(){return gh.apply(this,arguments)}function gh(){return(gh=(0,Se.Z)(function*(){if(!(0,ae.hl)())return _i.warn(Os.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(G){return _i.warn(Os.create("indexeddb-unavailable",{errorInfo:G}).message),!1}return!0})).apply(this,arguments)}function da(){return(da=(0,Se.Z)(function*(G,ne,Ee,Ge,Xe,at,vt){var Ot;const Pt=$d(G);Pt.then(Ti=>{Ee[Ti.measurementId]=Ti.appId,G.options.measurementId&&Ti.measurementId!==G.options.measurementId&&_i.warn(`The measurement ID in the local Firebase config (${G.options.measurementId}) does not match the measurement ID fetched from the server (${Ti.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ti=>_i.error(Ti)),ne.push(Pt);const bn=ph().then(Ti=>{if(Ti)return Ge.getId()}),[kn,ci]=yield Promise.all([Pt,bn]);y0()||ch(at,kn.measurementId),Xe("js",new Date);const Dr=null!==(Ot=null==vt?void 0:vt.config)&&void 0!==Ot?Ot:{};return Dr.origin="firebase",Dr.update=!0,null!=ci&&(Dr[ah]=ci),Xe("config",kn.measurementId,Dr),kn.measurementId})).apply(this,arguments)}class Un{constructor(ne){this.app=ne}_delete(){return delete Rt[this.app.options.appId],Promise.resolve()}}let Rt={},cn=[];const cc={};let fa,ai,Hi="dataLayer",eu=!1;function jn(G,ne,Ee){!function(){const G=[];if((0,ae.ru)()&&G.push("This is a browser extension environment."),(0,ae.zI)()||G.push("Cookies are not available."),G.length>0){const ne=G.map((Ge,Xe)=>`(${Xe+1}) ${Ge}`).join(" "),Ee=Os.create("invalid-analytics-context",{errorInfo:ne});_i.warn(Ee.message)}}();const Ge=G.options.appId;if(!Ge)throw Os.create("no-app-id");if(!G.options.apiKey){if(!G.options.measurementId)throw Os.create("no-api-key");_i.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${G.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Rt[Ge])throw Os.create("already-exists",{id:Ge});if(!eu){!function(G){let ne=[];Array.isArray(window[G])?ne=window[G]:window[G]=ne}(Hi);const{wrappedGtag:at,gtagCore:vt}=function(G,ne,Ee,Ge,Xe){let at=function(...vt){window[Ge].push(arguments)};return window[Xe]&&"function"==typeof window[Xe]&&(at=window[Xe]),window[Xe]=function(G,ne,Ee,Ge){function at(){return(at=(0,Se.Z)(function*(vt,Ot,Pt){try{"event"===vt?yield Yd(G,ne,Ee,Ot,Pt):"config"===vt?yield Xc(G,ne,Ee,Ge,Ot,Pt):G("set",Ot)}catch(bn){_i.error(bn)}})).apply(this,arguments)}return function(vt,Ot,Pt){return at.apply(this,arguments)}}(at,G,ne,Ee),{gtagCore:at,wrappedGtag:window[Xe]}}(Rt,cn,cc,Hi,"gtag");ai=at,fa=vt,eu=!0}return Rt[Ge]=function(G,ne,Ee,Ge,Xe,at,vt){return da.apply(this,arguments)}(G,cn,cc,ne,fa,Hi,Ee),new Un(G)}function tu(){return(tu=(0,Se.Z)(function*(G,ne,Ee,Ge,Xe){if(Xe&&Xe.global)G("event",Ee,Ge);else{const at=yield ne;G("event",Ee,Object.assign(Object.assign({},Ge),{send_to:at}))}})).apply(this,arguments)}function as(){return ef.apply(this,arguments)}function ef(){return(ef=(0,Se.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(G){return!1}})).apply(this,arguments)}const cg="@firebase/analytics";(0,me._registerComponent)(new ce.wA(oh,(ne,{options:Ee})=>jn(ne.getProvider("app").getImmediate(),ne.getProvider("installations-internal").getImmediate(),Ee),"PUBLIC")),(0,me._registerComponent)(new ce.wA("analytics-internal",function(ne){try{const Ee=ne.getProvider(oh).getImmediate();return{logEvent:(Ge,Xe,at)=>function(G,ne,Ee,Ge){G=(0,ae.m9)(G),function(G,ne,Ee,Ge,Xe){return tu.apply(this,arguments)}(ai,Rt[G.app.options.appId],ne,Ee,Ge).catch(Xe=>_i.error(Xe))}(Ee,Ge,Xe,at)}}catch(Ee){throw Os.create("interop-component-reg-failed",{reason:Ee})}},"PRIVATE")),(0,me.registerVersion)(cg,"0.7.2"),(0,me.registerVersion)(cg,"0.7.2","esm2017");var tf=Fe(7771),Ny=Fe(3637),jr=Fe(3342),ol=Fe(9673),nf=Fe(6136);const Fy=new c.GfV("7.1.1"),hc="__angularfire_symbol__analyticsIsSupported",lo="__angularfire_symbol__remoteConfigIsSupported",Ls="__angularfire_symbol__messagingIsSupported";function Bs(G,ne,Ee){if(ne){if(1===ne.length)return ne[0];const at=ne.filter(vt=>vt.app===Ee);if(1===at.length)return at[0]}return Ee.container.getProvider(G).getImmediate({optional:!0})}globalThis[hc]||(globalThis[hc]=as().then(G=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=G)),globalThis[Ls]||(globalThis[Ls]=qd().then(G=>globalThis.__angularfire_symbol__messagingIsSupportedValue=G)),globalThis[lo]||(globalThis[lo]=Dy().then(G=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=G));const pa=(G,ne)=>{const Ee=ne?[ne]:(0,Je.C6)(),Ge=[];return Ee.forEach(Xe=>{Xe.container.getProvider(G).instances.forEach(vt=>{Ge.includes(vt)||Ge.push(vt)})}),Ge};function Tr(){}class co{constructor(ne,Ee=tf.N){this.zone=ne,this.delegate=Ee}now(){return this.delegate.now()}schedule(ne,Ee,Ge){const Xe=this.zone;return this.delegate.schedule(function(vt){Xe.runGuarded(()=>{ne.apply(this,[vt])})},Ee,Ge)}}class sf{constructor(ne){this.zone=ne,this.task=null}call(ne,Ee){const Ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Tr,{},Tr,Tr)),Ee.pipe((0,jr.b)({next:Ge,complete:Ge,error:Ge})).subscribe(ne).add(Ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let iu=(()=>{class G{constructor(Ee){this.ngZone=Ee,this.outsideAngular=Ee.runOutsideAngular(()=>new co(Zone.current)),this.insideAngular=Ee.run(()=>new co(Zone.current,Ny.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return G.\u0275fac=function(Ee){return new(Ee||G)(c.LFG(c.R0b))},G.\u0275prov=c.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})();function ga(){const G=globalThis.\u0275AngularFireScheduler;if(!G)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return G}function li(G){return ga(),function(G){return function(Ee){return(Ee=Ee.lift(new sf(G.ngZone))).pipe((0,ol.R)(G.outsideAngular),(0,nf.QV)(G.insideAngular))}}(ga())(G)}},4486:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{Z:()=>q});var c=Fe(3854),Je=Fe(6034),Se=Fe(5452),me=Fe(5601);class ae{constructor(I,R){this._delegate=I,this.firebase=R,(0,Se._addComponent)(I,new Je.wA("app-compat",()=>this,"PUBLIC")),this.container=I.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(I){this._delegate.automaticDataCollectionEnabled=I}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(I=>{this._delegate.checkDestroyed(),I()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Se.deleteApp)(this._delegate)))}_getService(I,R=Se._DEFAULT_ENTRY_NAME){var V;this._delegate.checkDestroyed();const $=this._delegate.container.getProvider(I);return!$.isInitialized()&&"EXPLICIT"===(null===(V=$.getComponent())||void 0===V?void 0:V.instantiationMode)&&$.initialize(),$.getImmediate({identifier:R})}_removeServiceInstance(I,R=Se._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(I).clearInstance(R)}_addComponent(I){(0,Se._addComponent)(this._delegate,I)}_addOrOverwriteComponent(I){(0,Se._addOrOverwriteComponent)(this._delegate,I)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ie=function he(){const M=function(M){const I={},R={__esModule:!0,initializeApp:function(ee,O={}){const T=Se.initializeApp(ee,O);if((0,c.r3)(I,T.name))return I[T.name];const w=new M(T,R);return I[T.name]=w,w},app:$,registerVersion:Se.registerVersion,setLogLevel:Se.setLogLevel,onLog:Se.onLog,apps:null,SDK_VERSION:Se.SDK_VERSION,INTERNAL:{registerComponent:function(ee){const O=ee.name,T=O.replace("-compat","");if(Se._registerComponent(ee)&&"PUBLIC"===ee.type){const w=(k=$())=>{if("function"!=typeof k[T])throw ge.create("invalid-app-argument",{appName:O});return k[T]()};void 0!==ee.serviceProps&&(0,c.ZB)(w,ee.serviceProps),R[T]=w,M.prototype[T]=function(...k){return this._getService.bind(this,O).apply(this,ee.multipleInstances?k:[])}}return"PUBLIC"===ee.type?R[T]:null},removeApp:function(ee){delete I[ee]},useAsService:function(ee,O){return"serverAuth"===O?null:O},modularAPIs:Se}};function $(ee){if(!(0,c.r3)(I,ee=ee||Se._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:ee});return I[ee]}return R.default=R,Object.defineProperty(R,"apps",{get:function(){return Object.keys(I).map(ee=>I[ee])}}),$.App=M,R}(ae);return M.INTERNAL=Object.assign(Object.assign({},M.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function(R){(0,c.ZB)(M,R)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),M}(),re=new me.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){re.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const M=self.firebase.SDK_VERSION;M&&M.indexOf("LITE")>=0&&re.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const q=ie;(0,Se.registerVersion)("@firebase/app-compat","0.1.5",undefined)},5452:(Nt,gt,Fe)=>{"use strict";Fe.r(gt),Fe.d(gt,{FirebaseError:()=>me.ZR,SDK_VERSION:()=>te,_DEFAULT_ENTRY_NAME:()=>oe,_addComponent:()=>Ae,_addOrOverwriteComponent:()=>D,_apps:()=>pe,_clearComponents:()=>ye,_components:()=>Z,_getProvider:()=>X,_registerComponent:()=>P,_removeServiceInstance:()=>_e,deleteApp:()=>Oe,getApp:()=>Ce,getApps:()=>Le,initializeApp:()=>be,onLog:()=>it,registerVersion:()=>Ne,setLogLevel:()=>lt});var c=Fe(8239),Je=Fe(6034),Se=Fe(5601),me=Fe(3854);class ae{constructor(Be){this.container=Be}getPlatformInfoString(){return this.container.getProviders().map(fe=>{if(function(Ke){const Be=Ke.getComponent();return"VERSION"===(null==Be?void 0:Be.type)}(fe)){const Ie=fe.getImmediate();return`${Ie.library}/${Ie.version}`}return null}).filter(fe=>fe).join(" ")}}const ge="@firebase/app",he=new Se.Yd("@firebase/app"),oe="[DEFAULT]",ve={[ge]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pe=new Map,Z=new Map;function Ae(Ke,Be){try{Ke.container.addComponent(Be)}catch(fe){he.debug(`Component ${Be.name} failed to register with FirebaseApp ${Ke.name}`,fe)}}function D(Ke,Be){Ke.container.addOrOverwriteComponent(Be)}function P(Ke){const Be=Ke.name;if(Z.has(Be))return he.debug(`There were multiple attempts to register component ${Be}.`),!1;Z.set(Be,Ke);for(const fe of pe.values())Ae(fe,Ke);return!0}function X(Ke,Be){return Ke.container.getProvider(Be)}function _e(Ke,Be,fe=oe){X(Ke,Be).clearInstance(fe)}function ye(){Z.clear()}const N=new me.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class de{constructor(Be,fe,Ie){this._isDeleted=!1,this._options=Object.assign({},Be),this._config=Object.assign({},fe),this._name=fe.name,this._automaticDataCollectionEnabled=fe.automaticDataCollectionEnabled,this._container=Ie,this.container.addComponent(new Je.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Be){this.checkDestroyed(),this._automaticDataCollectionEnabled=Be}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Be){this._isDeleted=Be}checkDestroyed(){if(this.isDeleted)throw N.create("app-deleted",{appName:this._name})}}const te="9.1.3";function be(Ke,Be={}){"object"!=typeof Be&&(Be={name:Be});const fe=Object.assign({name:oe,automaticDataCollectionEnabled:!1},Be),Ie=fe.name;if("string"!=typeof Ie||!Ie)throw N.create("bad-app-name",{appName:String(Ie)});const Ve=pe.get(Ie);if(Ve){if((0,me.vZ)(Ke,Ve.options)&&(0,me.vZ)(fe,Ve.config))return Ve;throw N.create("duplicate-app",{appName:Ie})}const Ze=new Je.H0(Ie);for(const et of Z.values())Ze.addComponent(et);const je=new de(Ke,fe,Ze);return pe.set(Ie,je),je}function Ce(Ke=oe){const Be=pe.get(Ke);if(!Be)throw N.create("no-app",{appName:Ke});return Be}function Le(){return Array.from(pe.values())}function Oe(Ke){return ze.apply(this,arguments)}function ze(){return(ze=(0,c.Z)(function*(Ke){const Be=Ke.name;pe.has(Be)&&(pe.delete(Be),yield Promise.all(Ke.container.getProviders().map(fe=>fe.delete())),Ke.isDeleted=!0)})).apply(this,arguments)}function Ne(Ke,Be,fe){var Ie;let Ve=null!==(Ie=ve[Ke])&&void 0!==Ie?Ie:Ke;fe&&(Ve+=`-${fe}`);const Ze=Ve.match(/\s|\//),je=Be.match(/\s|\//);if(Ze||je){const et=[`Unable to register library "${Ve}" with version "${Be}":`];return Ze&&et.push(`library name "${Ve}" contains illegal characters (whitespace or "/")`),Ze&&je&&et.push("and"),je&&et.push(`version name "${Be}" contains illegal characters (whitespace or "/")`),void he.warn(et.join(" "))}P(new Je.wA(`${Ve}-version`,()=>({library:Ve,version:Be}),"VERSION"))}function it(Ke,Be){if(null!==Ke&&"function"!=typeof Ke)throw N.create("invalid-log-argument");(0,Se.Am)(Ke,Be)}function lt(Ke){(0,Se.Ub)(Ke)}P(new Je.wA("platform-logger",Be=>new ae(Be),"PRIVATE")),Ne(ge,"0.7.4",""),Ne(ge,"0.7.4","esm2017"),Ne("fire-js","")},6034:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{wA:()=>Se,H0:()=>xe,zt:()=>ae});var c=Fe(4762),Je=Fe(3854),Se=function(){function he(ie,re,B){this.name=ie,this.instanceFactory=re,this.type=B,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return he.prototype.setInstantiationMode=function(ie){return this.instantiationMode=ie,this},he.prototype.setMultipleInstances=function(ie){return this.multipleInstances=ie,this},he.prototype.setServiceProps=function(ie){return this.serviceProps=ie,this},he.prototype.setInstanceCreatedCallback=function(ie){return this.onInstanceCreated=ie,this},he}(),me="[DEFAULT]",ae=function(){function he(ie,re){this.name=ie,this.container=re,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return he.prototype.get=function(ie){var re=this.normalizeInstanceIdentifier(ie);if(!this.instancesDeferred.has(re)){var B=new Je.BH;if(this.instancesDeferred.set(re,B),this.isInitialized(re)||this.shouldAutoInitialize())try{var Q=this.getOrInitializeService({instanceIdentifier:re});Q&&B.resolve(Q)}catch(W){}}return this.instancesDeferred.get(re).promise},he.prototype.getImmediate=function(ie){var re,B=this.normalizeInstanceIdentifier(null==ie?void 0:ie.identifier),Q=null!==(re=null==ie?void 0:ie.optional)&&void 0!==re&&re;if(!this.isInitialized(B)&&!this.shouldAutoInitialize()){if(Q)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:B})}catch(W){if(Q)return null;throw W}},he.prototype.getComponent=function(){return this.component},he.prototype.setComponent=function(ie){var re,B;if(ie.name!==this.name)throw Error("Mismatching Component "+ie.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=ie,this.shouldAutoInitialize()){if(function(he){return"EAGER"===he.instantiationMode}(ie))try{this.getOrInitializeService({instanceIdentifier:me})}catch($){}try{for(var Q=(0,c.XA)(this.instancesDeferred.entries()),W=Q.next();!W.done;W=Q.next()){var q=(0,c.CR)(W.value,2),I=q[1],R=this.normalizeInstanceIdentifier(q[0]);try{var V=this.getOrInitializeService({instanceIdentifier:R});I.resolve(V)}catch($){}}}catch($){re={error:$}}finally{try{W&&!W.done&&(B=Q.return)&&B.call(Q)}finally{if(re)throw re.error}}}},he.prototype.clearInstance=function(ie){void 0===ie&&(ie=me),this.instancesDeferred.delete(ie),this.instancesOptions.delete(ie),this.instances.delete(ie)},he.prototype.delete=function(){return(0,c.mG)(this,void 0,void 0,function(){var ie;return(0,c.Jh)(this,function(re){switch(re.label){case 0:return ie=Array.from(this.instances.values()),[4,Promise.all((0,c.ev)((0,c.ev)([],(0,c.CR)(ie.filter(function(B){return"INTERNAL"in B}).map(function(B){return B.INTERNAL.delete()}))),(0,c.CR)(ie.filter(function(B){return"_delete"in B}).map(function(B){return B._delete()}))))];case 1:return re.sent(),[2]}})})},he.prototype.isComponentSet=function(){return null!=this.component},he.prototype.isInitialized=function(ie){return void 0===ie&&(ie=me),this.instances.has(ie)},he.prototype.getOptions=function(ie){return void 0===ie&&(ie=me),this.instancesOptions.get(ie)||{}},he.prototype.initialize=function(ie){var re,B;void 0===ie&&(ie={});var Q=ie.options,W=void 0===Q?{}:Q,q=this.normalizeInstanceIdentifier(ie.instanceIdentifier);if(this.isInitialized(q))throw Error(this.name+"("+q+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var M=this.getOrInitializeService({instanceIdentifier:q,options:W});try{for(var I=(0,c.XA)(this.instancesDeferred.entries()),R=I.next();!R.done;R=I.next()){var V=(0,c.CR)(R.value,2),L=V[1];q===this.normalizeInstanceIdentifier(V[0])&&L.resolve(M)}}catch(Y){re={error:Y}}finally{try{R&&!R.done&&(B=I.return)&&B.call(I)}finally{if(re)throw re.error}}return M},he.prototype.onInit=function(ie,re){var B,Q=this.normalizeInstanceIdentifier(re),W=null!==(B=this.onInitCallbacks.get(Q))&&void 0!==B?B:new Set;W.add(ie),this.onInitCallbacks.set(Q,W);var q=this.instances.get(Q);return q&&ie(q,Q),function(){W.delete(ie)}},he.prototype.invokeOnInitCallbacks=function(ie,re){var B,Q,W=this.onInitCallbacks.get(re);if(W)try{for(var q=(0,c.XA)(W),M=q.next();!M.done;M=q.next()){var I=M.value;try{I(ie,re)}catch(R){}}}catch(R){B={error:R}}finally{try{M&&!M.done&&(Q=q.return)&&Q.call(q)}finally{if(B)throw B.error}}},he.prototype.getOrInitializeService=function(ie){var re=ie.instanceIdentifier,B=ie.options,Q=void 0===B?{}:B,W=this.instances.get(re);if(!W&&this.component&&(W=this.component.instanceFactory(this.container,{instanceIdentifier:ce(re),options:Q}),this.instances.set(re,W),this.instancesOptions.set(re,Q),this.invokeOnInitCallbacks(W,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,W)}catch(q){}return W||null},he.prototype.normalizeInstanceIdentifier=function(ie){return void 0===ie&&(ie=me),this.component?this.component.multipleInstances?ie:me:ie},he.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},he}();function ce(he){return he===me?void 0:he}var xe=function(){function he(ie){this.name=ie,this.providers=new Map}return he.prototype.addComponent=function(ie){var re=this.getProvider(ie.name);if(re.isComponentSet())throw new Error("Component "+ie.name+" has already been registered with "+this.name);re.setComponent(ie)},he.prototype.addOrOverwriteComponent=function(ie){this.getProvider(ie.name).isComponentSet()&&this.providers.delete(ie.name),this.addComponent(ie)},he.prototype.getProvider=function(ie){if(this.providers.has(ie))return this.providers.get(ie);var re=new ae(ie,this);return this.providers.set(ie,re),re},he.prototype.getProviders=function(){return Array.from(this.providers.values())},he}()},5601:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{in:()=>Je,Yd:()=>ge,Ub:()=>xe,Am:()=>he});const c=[];var Je=(()=>{return(ie=Je||(Je={}))[ie.DEBUG=0]="DEBUG",ie[ie.VERBOSE=1]="VERBOSE",ie[ie.INFO=2]="INFO",ie[ie.WARN=3]="WARN",ie[ie.ERROR=4]="ERROR",ie[ie.SILENT=5]="SILENT",Je;var ie})();const Se={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},me=Je.INFO,ae={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},ce=(ie,re,...B)=>{if(re<ie.logLevel)return;const Q=(new Date).toISOString(),W=ae[re];if(!W)throw new Error(`Attempted to log a message with an invalid logType (value: ${re})`);console[W](`[${Q}]  ${ie.name}:`,...B)};class ge{constructor(re){this.name=re,this._logLevel=me,this._logHandler=ce,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(re){if(!(re in Je))throw new TypeError(`Invalid value "${re}" assigned to \`logLevel\``);this._logLevel=re}setLogLevel(re){this._logLevel="string"==typeof re?Se[re]:re}get logHandler(){return this._logHandler}set logHandler(re){if("function"!=typeof re)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=re}get userLogHandler(){return this._userLogHandler}set userLogHandler(re){this._userLogHandler=re}debug(...re){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...re),this._logHandler(this,Je.DEBUG,...re)}log(...re){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...re),this._logHandler(this,Je.VERBOSE,...re)}info(...re){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...re),this._logHandler(this,Je.INFO,...re)}warn(...re){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...re),this._logHandler(this,Je.WARN,...re)}error(...re){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...re),this._logHandler(this,Je.ERROR,...re)}}function xe(ie){c.forEach(re=>{re.setLogLevel(ie)})}function he(ie,re){for(const B of c){let Q=null;re&&re.level&&(Q=Se[re.level]),B.userLogHandler=null===ie?null:(W,q,...M)=>{const I=M.map(R=>{if(null==R)return null;if("string"==typeof R)return R;if("number"==typeof R||"boolean"==typeof R)return R.toString();if(R instanceof Error)return R.message;try{return JSON.stringify(R)}catch(V){return null}}).filter(R=>R).join(" ");q>=(null!=Q?Q:W.logLevel)&&ie({level:Je[q].toLowerCase(),message:I,args:M,type:W.name})}}}},3854:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{BH:()=>Q,LL:()=>j,ZR:()=>U,gQ:()=>Le,zI:()=>w,hu:()=>Je,g5:()=>Se,US:()=>ce,tV:()=>he,h$:()=>ge,$s:()=>Lt,r3:()=>X,Sg:()=>W,ne:()=>Oe,p$:()=>ie,vZ:()=>N,ZB:()=>re,gK:()=>Ke,pd:()=>Ce,m9:()=>en,z$:()=>q,GJ:()=>P,jU:()=>R,ru:()=>V,d:()=>L,xb:()=>ye,w1:()=>J,hl:()=>O,uI:()=>M,UG:()=>I,Yr:()=>se,b$:()=>$,G6:()=>ee,Mn:()=>Y,w9:()=>D,cI:()=>oe,UI:()=>Te,xO:()=>te,zd:()=>be,DV:()=>_e,ug:()=>Ze,dS:()=>Ve,Pz:()=>ve,Dv:()=>st,Wj:()=>fe,lb:()=>Ie,eu:()=>T});const Je=function(We,Ue){if(!We)throw Se(Ue)},Se=function(We){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+We)},me=function(We){const Ue=[];let He=0;for(let ct=0;ct<We.length;ct++){let tt=We.charCodeAt(ct);tt<128?Ue[He++]=tt:tt<2048?(Ue[He++]=tt>>6|192,Ue[He++]=63&tt|128):55296==(64512&tt)&&ct+1<We.length&&56320==(64512&We.charCodeAt(ct+1))?(tt=65536+((1023&tt)<<10)+(1023&We.charCodeAt(++ct)),Ue[He++]=tt>>18|240,Ue[He++]=tt>>12&63|128,Ue[He++]=tt>>6&63|128,Ue[He++]=63&tt|128):(Ue[He++]=tt>>12|224,Ue[He++]=tt>>6&63|128,Ue[He++]=63&tt|128)}return Ue},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(We,Ue){if(!Array.isArray(We))throw Error("encodeByteArray takes an array as a parameter");this.init_();const He=Ue?this.byteToCharMapWebSafe_:this.byteToCharMap_,ct=[];for(let tt=0;tt<We.length;tt+=3){const Ct=We[tt],Bt=tt+1<We.length,nn=Bt?We[tt+1]:0,Zt=tt+2<We.length,_n=Zt?We[tt+2]:0;let xi=(15&nn)<<2|_n>>6,Cr=63&_n;Zt||(Cr=64,Bt||(xi=64)),ct.push(He[Ct>>2],He[(3&Ct)<<4|nn>>4],He[xi],He[Cr])}return ct.join("")},encodeString(We,Ue){return this.HAS_NATIVE_SUPPORT&&!Ue?btoa(We):this.encodeByteArray(me(We),Ue)},decodeString(We,Ue){return this.HAS_NATIVE_SUPPORT&&!Ue?atob(We):function(We){const Ue=[];let He=0,ct=0;for(;He<We.length;){const tt=We[He++];if(tt<128)Ue[ct++]=String.fromCharCode(tt);else if(tt>191&&tt<224){const Ct=We[He++];Ue[ct++]=String.fromCharCode((31&tt)<<6|63&Ct)}else if(tt>239&&tt<365){const Zt=((7&tt)<<18|(63&We[He++])<<12|(63&We[He++])<<6|63&We[He++])-65536;Ue[ct++]=String.fromCharCode(55296+(Zt>>10)),Ue[ct++]=String.fromCharCode(56320+(1023&Zt))}else{const Ct=We[He++],Bt=We[He++];Ue[ct++]=String.fromCharCode((15&tt)<<12|(63&Ct)<<6|63&Bt)}}return Ue.join("")}(this.decodeStringToByteArray(We,Ue))},decodeStringToByteArray(We,Ue){this.init_();const He=Ue?this.charToByteMapWebSafe_:this.charToByteMap_,ct=[];for(let tt=0;tt<We.length;){const Ct=He[We.charAt(tt++)],nn=tt<We.length?He[We.charAt(tt)]:0;++tt;const _n=tt<We.length?He[We.charAt(tt)]:64;++tt;const An=tt<We.length?He[We.charAt(tt)]:64;if(++tt,null==Ct||null==nn||null==_n||null==An)throw Error();ct.push(Ct<<2|nn>>4),64!==_n&&(ct.push(nn<<4&240|_n>>2),64!==An&&ct.push(_n<<6&192|An))}return ct},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let We=0;We<this.ENCODED_VALS.length;We++)this.byteToCharMap_[We]=this.ENCODED_VALS.charAt(We),this.charToByteMap_[this.byteToCharMap_[We]]=We,this.byteToCharMapWebSafe_[We]=this.ENCODED_VALS_WEBSAFE.charAt(We),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[We]]=We,We>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(We)]=We,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(We)]=We)}}},ge=function(We){const Ue=me(We);return ce.encodeByteArray(Ue,!0)},xe=function(We){return ge(We).replace(/\./g,"")},he=function(We){try{return ce.decodeString(We,!0)}catch(Ue){console.error("base64Decode failed: ",Ue)}return null};function ie(We){return re(void 0,We)}function re(We,Ue){if(!(Ue instanceof Object))return Ue;switch(Ue.constructor){case Date:return new Date(Ue.getTime());case Object:void 0===We&&(We={});break;case Array:We=[];break;default:return Ue}for(const He in Ue)!Ue.hasOwnProperty(He)||!B(He)||(We[He]=re(We[He],Ue[He]));return We}function B(We){return"__proto__"!==We}class Q{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ue,He)=>{this.resolve=Ue,this.reject=He})}wrapCallback(Ue){return(He,ct)=>{He?this.reject(He):this.resolve(ct),"function"==typeof Ue&&(this.promise.catch(()=>{}),1===Ue.length?Ue(He):Ue(He,ct))}}}function W(We,Ue){if(We.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ct=Ue||"demo-project",tt=We.iat||0,Ct=We.sub||We.user_id;if(!Ct)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Bt=Object.assign({iss:`https://securetoken.google.com/${ct}`,aud:ct,iat:tt,exp:tt+3600,auth_time:tt,sub:Ct,user_id:Ct,firebase:{sign_in_provider:"custom",identities:{}}},We);return[xe(JSON.stringify({alg:"none",type:"JWT"})),xe(JSON.stringify(Bt)),""].join(".")}function q(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function M(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(q())}function I(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(We){return!1}}function R(){return"object"==typeof self&&self.self===self}function V(){const We="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof We&&void 0!==We.id}function $(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function L(){return q().indexOf("Electron/")>=0}function J(){const We=q();return We.indexOf("MSIE ")>=0||We.indexOf("Trident/")>=0}function Y(){return q().indexOf("MSAppHost/")>=0}function se(){return!1}function ee(){return!I()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O(){return"object"==typeof indexedDB}function T(){return new Promise((We,Ue)=>{try{let He=!0;const ct="validate-browser-context-for-indexeddb-analytics-module",tt=self.indexedDB.open(ct);tt.onsuccess=()=>{tt.result.close(),He||self.indexedDB.deleteDatabase(ct),We(!0)},tt.onupgradeneeded=()=>{He=!1},tt.onerror=()=>{var Ct;Ue((null===(Ct=tt.error)||void 0===Ct?void 0:Ct.message)||"")}}catch(He){Ue(He)}})}function w(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class U extends Error{constructor(Ue,He,ct){super(He),this.code=Ue,this.customData=ct,this.name="FirebaseError",Object.setPrototypeOf(this,U.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,j.prototype.create)}}class j{constructor(Ue,He,ct){this.service=Ue,this.serviceName=He,this.errors=ct}create(Ue,...He){const ct=He[0]||{},tt=`${this.service}/${Ue}`,Ct=this.errors[Ue],Bt=Ct?function(We,Ue){return We.replace(H,(He,ct)=>{const tt=Ue[ct];return null!=tt?String(tt):`<${ct}?>`})}(Ct,ct):"Error";return new U(tt,`${this.serviceName}: ${Bt} (${tt}).`,ct)}}const H=/\{\$([^}]+)}/g;function oe(We){return JSON.parse(We)}function ve(We){return JSON.stringify(We)}const pe=function(We){let Ue={},He={},ct={},tt="";try{const Ct=We.split(".");Ue=oe(he(Ct[0])||""),He=oe(he(Ct[1])||""),tt=Ct[2],ct=He.d||{},delete He.d}catch(Ct){}return{header:Ue,claims:He,data:ct,signature:tt}},D=function(We){const He=pe(We).claims;return!!He&&"object"==typeof He&&He.hasOwnProperty("iat")},P=function(We){const Ue=pe(We).claims;return"object"==typeof Ue&&!0===Ue.admin};function X(We,Ue){return Object.prototype.hasOwnProperty.call(We,Ue)}function _e(We,Ue){if(Object.prototype.hasOwnProperty.call(We,Ue))return We[Ue]}function ye(We){for(const Ue in We)if(Object.prototype.hasOwnProperty.call(We,Ue))return!1;return!0}function Te(We,Ue,He){const ct={};for(const tt in We)Object.prototype.hasOwnProperty.call(We,tt)&&(ct[tt]=Ue.call(He,We[tt],tt,We));return ct}function N(We,Ue){if(We===Ue)return!0;const He=Object.keys(We),ct=Object.keys(Ue);for(const tt of He){if(!ct.includes(tt))return!1;const Ct=We[tt],Bt=Ue[tt];if(de(Ct)&&de(Bt)){if(!N(Ct,Bt))return!1}else if(Ct!==Bt)return!1}for(const tt of ct)if(!He.includes(tt))return!1;return!0}function de(We){return null!==We&&"object"==typeof We}function te(We){const Ue=[];for(const[He,ct]of Object.entries(We))Array.isArray(ct)?ct.forEach(tt=>{Ue.push(encodeURIComponent(He)+"="+encodeURIComponent(tt))}):Ue.push(encodeURIComponent(He)+"="+encodeURIComponent(ct));return Ue.length?"&"+Ue.join("&"):""}function be(We){const Ue={};return We.replace(/^\?/,"").split("&").forEach(ct=>{if(ct){const[tt,Ct]=ct.split("=");Ue[decodeURIComponent(tt)]=decodeURIComponent(Ct)}}),Ue}function Ce(We){const Ue=We.indexOf("?");if(!Ue)return"";const He=We.indexOf("#",Ue);return We.substring(Ue,He>0?He:void 0)}class Le{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Ue=1;Ue<this.blockSize;++Ue)this.pad_[Ue]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Ue,He){He||(He=0);const ct=this.W_;if("string"==typeof Ue)for(let An=0;An<16;An++)ct[An]=Ue.charCodeAt(He)<<24|Ue.charCodeAt(He+1)<<16|Ue.charCodeAt(He+2)<<8|Ue.charCodeAt(He+3),He+=4;else for(let An=0;An<16;An++)ct[An]=Ue[He]<<24|Ue[He+1]<<16|Ue[He+2]<<8|Ue[He+3],He+=4;for(let An=16;An<80;An++){const xi=ct[An-3]^ct[An-8]^ct[An-14]^ct[An-16];ct[An]=4294967295&(xi<<1|xi>>>31)}let _n,ti,tt=this.chain_[0],Ct=this.chain_[1],Bt=this.chain_[2],nn=this.chain_[3],Zt=this.chain_[4];for(let An=0;An<80;An++){An<40?An<20?(_n=nn^Ct&(Bt^nn),ti=1518500249):(_n=Ct^Bt^nn,ti=1859775393):An<60?(_n=Ct&Bt|nn&(Ct|Bt),ti=2400959708):(_n=Ct^Bt^nn,ti=3395469782);const xi=(tt<<5|tt>>>27)+_n+Zt+ti+ct[An]&4294967295;Zt=nn,nn=Bt,Bt=4294967295&(Ct<<30|Ct>>>2),Ct=tt,tt=xi}this.chain_[0]=this.chain_[0]+tt&4294967295,this.chain_[1]=this.chain_[1]+Ct&4294967295,this.chain_[2]=this.chain_[2]+Bt&4294967295,this.chain_[3]=this.chain_[3]+nn&4294967295,this.chain_[4]=this.chain_[4]+Zt&4294967295}update(Ue,He){if(null==Ue)return;void 0===He&&(He=Ue.length);const ct=He-this.blockSize;let tt=0;const Ct=this.buf_;let Bt=this.inbuf_;for(;tt<He;){if(0===Bt)for(;tt<=ct;)this.compress_(Ue,tt),tt+=this.blockSize;if("string"==typeof Ue){for(;tt<He;)if(Ct[Bt]=Ue.charCodeAt(tt),++Bt,++tt,Bt===this.blockSize){this.compress_(Ct),Bt=0;break}}else for(;tt<He;)if(Ct[Bt]=Ue[tt],++Bt,++tt,Bt===this.blockSize){this.compress_(Ct),Bt=0;break}}this.inbuf_=Bt,this.total_+=He}digest(){const Ue=[];let He=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let tt=this.blockSize-1;tt>=56;tt--)this.buf_[tt]=255&He,He/=256;this.compress_(this.buf_);let ct=0;for(let tt=0;tt<5;tt++)for(let Ct=24;Ct>=0;Ct-=8)Ue[ct]=this.chain_[tt]>>Ct&255,++ct;return Ue}}function Oe(We,Ue){const He=new ze(We,Ue);return He.subscribe.bind(He)}class ze{constructor(Ue,He){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=He,this.task.then(()=>{Ue(this)}).catch(ct=>{this.error(ct)})}next(Ue){this.forEachObserver(He=>{He.next(Ue)})}error(Ue){this.forEachObserver(He=>{He.error(Ue)}),this.close(Ue)}complete(){this.forEachObserver(Ue=>{Ue.complete()}),this.close()}subscribe(Ue,He,ct){let tt;if(void 0===Ue&&void 0===He&&void 0===ct)throw new Error("Missing Observer.");tt=function(We,Ue){if("object"!=typeof We||null===We)return!1;for(const He of["next","error","complete"])if(He in We&&"function"==typeof We[He])return!0;return!1}(Ue)?Ue:{next:Ue,error:He,complete:ct},void 0===tt.next&&(tt.next=lt),void 0===tt.error&&(tt.error=lt),void 0===tt.complete&&(tt.complete=lt);const Ct=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?tt.error(this.finalError):tt.complete()}catch(Bt){}}),this.observers.push(tt),Ct}unsubscribeOne(Ue){void 0===this.observers||void 0===this.observers[Ue]||(delete this.observers[Ue],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ue){if(!this.finalized)for(let He=0;He<this.observers.length;He++)this.sendOne(He,Ue)}sendOne(Ue,He){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ue])try{He(this.observers[Ue])}catch(ct){"undefined"!=typeof console&&console.error&&console.error(ct)}})}close(Ue){this.finalized||(this.finalized=!0,void 0!==Ue&&(this.finalError=Ue),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lt(){}const st=function(We,Ue,He,ct){let tt;if(ct<Ue?tt="at least "+Ue:ct>He&&(tt=0===He?"none":"no more than "+He),tt)throw new Error(We+" failed: Was called with "+ct+(1===ct?" argument.":" arguments.")+" Expects "+tt+".")};function Ke(We,Ue){return`${We} failed: ${Ue} argument `}function fe(We,Ue,He,ct){if((!ct||He)&&"function"!=typeof He)throw new Error(Ke(We,Ue)+"must be a valid function.")}function Ie(We,Ue,He,ct){if((!ct||He)&&("object"!=typeof He||null===He))throw new Error(Ke(We,Ue)+"must be a valid context object.")}const Ve=function(We){const Ue=[];let He=0;for(let ct=0;ct<We.length;ct++){let tt=We.charCodeAt(ct);if(tt>=55296&&tt<=56319){const Ct=tt-55296;ct++,Je(ct<We.length,"Surrogate pair missing trail surrogate."),tt=65536+(Ct<<10)+(We.charCodeAt(ct)-56320)}tt<128?Ue[He++]=tt:tt<2048?(Ue[He++]=tt>>6|192,Ue[He++]=63&tt|128):tt<65536?(Ue[He++]=tt>>12|224,Ue[He++]=tt>>6&63|128,Ue[He++]=63&tt|128):(Ue[He++]=tt>>18|240,Ue[He++]=tt>>12&63|128,Ue[He++]=tt>>6&63|128,Ue[He++]=63&tt|128)}return Ue},Ze=function(We){let Ue=0;for(let He=0;He<We.length;He++){const ct=We.charCodeAt(He);ct<128?Ue++:ct<2048?Ue+=2:ct>=55296&&ct<=56319?(Ue+=4,He++):Ue+=3}return Ue};function Lt(We,Ue=1e3,He=2){const ct=Ue*Math.pow(He,We),tt=Math.round(.5*ct*(Math.random()-.5)*2);return Math.min(144e5,ct+tt)}function en(We){return We&&We._delegate?We._delegate:We}},2329:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{Mq:()=>c.getApp,C6:()=>c.getApps});var c=Fe(5452);(0,c.registerVersion)("firebase","9.1.3","app")},7841:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{Z:()=>c.Z});var c=Fe(4486);c.Z.registerVersion("firebase","9.1.3","app-compat")},4671:(Nt,gt,Fe)=>{"use strict";Fe.r(gt);var c=Fe(8239),Je=Fe(4486),Se=Fe(3854),me=Fe(5452),ae=Fe(4762),ce=Fe(5601),ge=Fe(6034);const q=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},M=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},I=new Se.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),V=new ce.Yd("@firebase/auth");function $(v,...g){V.logLevel<=ce.in.ERROR&&V.error(`Auth (${me.SDK_VERSION}): ${v}`,...g)}function L(v,...g){throw ee(v,...g)}function J(v,...g){return ee(v,...g)}function Y(v,g,y){const x=Object.assign(Object.assign({},M()),{[g]:y});return new Se.LL("auth","Firebase",x).create(g,{appName:v.name})}function se(v,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&L(v,"argument-error"),Y(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ee(v,...g){if("string"!=typeof v){const y=g[0],x=[...g.slice(1)];return x[0]&&(x[0].appName=v.name),v._errorFactory.create(y,...x)}return I.create(v,...g)}function O(v,g,...y){if(!v)throw ee(g,...y)}function T(v){const g="INTERNAL ASSERTION FAILED: "+v;throw $(g),new Error(g)}function w(v,g){v||T(g)}const k=new Map;function C(v){w(v instanceof Function,"Expected a class definition");let g=k.get(v);return g?(w(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,k.set(v,g),g)}function S(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function H(){return"http:"===oe()||"https:"===oe()}function oe(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Z{constructor(g,y){this.shortDelay=g,this.longDelay=y,w(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,Se.uI)()||(0,Se.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(H()||(0,Se.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ae(v,g){w(v.emulator,"Emulator should always be set here");const{url:y}=v.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class D{static initialize(g,y,x){this.fetchImpl=g,y&&(this.headersImpl=y),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void T("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void T("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void T("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const P={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},X=new Z(3e4,6e4);function _e(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function ye(v,g,y,x){return Te.apply(this,arguments)}function Te(){return(Te=(0,c.Z)(function*(v,g,y,x,ue={}){return N(v,ue,()=>{let ke={},$e={};x&&("GET"===g?$e=x:ke={body:JSON.stringify(x)});const dt=(0,Se.xO)(Object.assign({key:v.config.apiKey},$e)).slice(1),Tt=new(D.headers());return Tt.set("Content-Type","application/json"),Tt.set("X-Client-Version",v._getSdkClientVersion()),v.languageCode&&Tt.set("X-Firebase-Locale",v.languageCode),D.fetch()(Ce(v,v.config.apiHost,y,dt),Object.assign({method:g,headers:Tt,referrerPolicy:"no-referrer"},ke))})})).apply(this,arguments)}function N(v,g,y){return de.apply(this,arguments)}function de(){return(de=(0,c.Z)(function*(v,g,y){v._canInitEmulator=!1;const x=Object.assign(Object.assign({},P),g);try{const ue=new Le(v),ke=yield Promise.race([y(),ue.promise]);ue.clearNetworkTimeout();const $e=yield ke.json();if("needConfirmation"in $e)throw Oe(v,"account-exists-with-different-credential",$e);if(ke.ok&&!("errorMessage"in $e))return $e;{const dt=ke.ok?$e.errorMessage:$e.error.message,[Tt,Mt]=dt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Tt)throw Oe(v,"credential-already-in-use",$e);if("EMAIL_EXISTS"===Tt)throw Oe(v,"email-already-in-use",$e);const Jt=x[Tt]||Tt.toLowerCase().replace(/[_\s]+/g,"-");if(Mt)throw Y(v,Jt,Mt);L(v,Jt)}}catch(ue){if(ue instanceof Se.ZR)throw ue;L(v,"network-request-failed")}})).apply(this,arguments)}function te(v,g,y,x){return be.apply(this,arguments)}function be(){return(be=(0,c.Z)(function*(v,g,y,x,ue={}){const ke=yield ye(v,g,y,x,ue);return"mfaPendingCredential"in ke&&L(v,"multi-factor-auth-required",{serverResponse:ke}),ke})).apply(this,arguments)}function Ce(v,g,y,x){const ue=`${g}${y}?${x}`;return v.config.emulator?Ae(v.config,ue):`${v.config.apiScheme}://${ue}`}class Le{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,x)=>{this.timer=setTimeout(()=>x(J(this.auth,"timeout")),X.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Oe(v,g,y){const x={appName:v.name};y.email&&(x.email=y.email),y.phoneNumber&&(x.phoneNumber=y.phoneNumber);const ue=J(v,g,x);return ue.customData._tokenResponse=y,ue}function Ne(){return(Ne=(0,c.Z)(function*(v,g){return ye(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function it(v,g){return lt.apply(this,arguments)}function lt(){return(lt=(0,c.Z)(function*(v,g){return ye(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function st(v,g){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,c.Z)(function*(v,g){return ye(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Be(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Ve(){return(Ve=(0,c.Z)(function*(v,g=!1){const y=(0,Se.m9)(v),x=yield y.getIdToken(g),ue=je(x);O(ue&&ue.exp&&ue.auth_time&&ue.iat,y.auth,"internal-error");const ke="object"==typeof ue.firebase?ue.firebase:void 0,$e=null==ke?void 0:ke.sign_in_provider;return{claims:ue,token:x,authTime:Be(Ze(ue.auth_time)),issuedAtTime:Be(Ze(ue.iat)),expirationTime:Be(Ze(ue.exp)),signInProvider:$e||null,signInSecondFactor:(null==ke?void 0:ke.sign_in_second_factor)||null}})).apply(this,arguments)}function Ze(v){return 1e3*Number(v)}function je(v){const[g,y,x]=v.split(".");if(void 0===g||void 0===y||void 0===x)return $("JWT malformed, contained fewer than 3 sections"),null;try{const ue=(0,Se.tV)(y);return ue?JSON.parse(ue):($("Failed to decode base64 JWT payload"),null)}catch(ue){return $("Caught error parsing JWT payload as JSON",ue),null}}function mt(v,g){return It.apply(this,arguments)}function It(){return(It=(0,c.Z)(function*(v,g,y=!1){if(y)return g;try{return yield g}catch(x){throw x instanceof Se.ZR&&Lt(x)&&v.auth.currentUser===v&&(yield v.auth.signOut()),x}})).apply(this,arguments)}function Lt({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Et{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const ue=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,ue)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const x=this.getInterval(g);this.timerId=setTimeout((0,c.Z)(function*(){yield y.iteration()}),x)}iteration(){var g=this;return(0,c.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y.code&&g.schedule(!0))}g.schedule()})()}}class At{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Be(this.lastLoginAt),this.creationTime=Be(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function en(v){return We.apply(this,arguments)}function We(){return(We=(0,c.Z)(function*(v){var g;const y=v.auth,x=yield v.getIdToken(),ue=yield mt(v,st(y,{idToken:x}));O(null==ue?void 0:ue.users.length,y,"internal-error");const ke=ue.users[0];v._notifyReloadListener(ke);const $e=(null===(g=ke.providerUserInfo)||void 0===g?void 0:g.length)?tt(ke.providerUserInfo):[],dt=ct(v.providerData,$e),Jt=!!v.isAnonymous&&!(v.email&&ke.passwordHash||(null==dt?void 0:dt.length)),Yt={uid:ke.localId,displayName:ke.displayName||null,photoURL:ke.photoUrl||null,email:ke.email||null,emailVerified:ke.emailVerified||!1,phoneNumber:ke.phoneNumber||null,tenantId:ke.tenantId||null,providerData:dt,metadata:new At(ke.createdAt,ke.lastLoginAt),isAnonymous:Jt};Object.assign(v,Yt)})).apply(this,arguments)}function He(){return(He=(0,c.Z)(function*(v){const g=(0,Se.m9)(v);yield en(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function ct(v,g){return[...v.filter(x=>!g.some(ue=>ue.providerId===x.providerId)),...g]}function tt(v){return v.map(g=>{var{providerId:y}=g,x=(0,ae._T)(g,["providerId"]);return{providerId:y,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}function Bt(){return(Bt=(0,c.Z)(function*(v,g){const y=yield N(v,{},()=>{const x=(0,Se.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:ue,apiKey:ke}=v.config,$e=Ce(v,ue,"/v1/token",`key=${ke}`);return D.fetch()($e,{method:"POST",headers:{"X-Client-Version":v._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:x})});return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class nn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){O(g.idToken,"internal-error"),O(void 0!==g.idToken,"internal-error"),O(void 0!==g.refreshToken,"internal-error");const y="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function(v){const g=je(v);return O(g,"internal-error"),O(void 0!==g.exp,"internal-error"),O(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var x=this;return(0,c.Z)(function*(){return O(!x.accessToken||x.refreshToken,g,"user-token-expired"),y||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(g,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var x=this;return(0,c.Z)(function*(){const{accessToken:ue,refreshToken:ke,expiresIn:$e}=yield function(v,g){return Bt.apply(this,arguments)}(g,y);x.updateTokensAndExpiration(ue,ke,Number($e))})()}updateTokensAndExpiration(g,y,x){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(g,y){const{refreshToken:x,accessToken:ue,expirationTime:ke}=y,$e=new nn;return x&&(O("string"==typeof x,"internal-error",{appName:g}),$e.refreshToken=x),ue&&(O("string"==typeof ue,"internal-error",{appName:g}),$e.accessToken=ue),ke&&(O("number"==typeof ke,"internal-error",{appName:g}),$e.expirationTime=ke),$e}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new nn,this.toJSON())}_performRefresh(){return T("not implemented")}}function Zt(v,g){O("string"==typeof v||void 0===v,"internal-error",{appName:g})}class _n{constructor(g){var{uid:y,auth:x,stsTokenManager:ue}=g,ke=(0,ae._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Et(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=x,this.stsTokenManager=ue,this.accessToken=ue.accessToken,this.displayName=ke.displayName||null,this.email=ke.email||null,this.emailVerified=ke.emailVerified||!1,this.phoneNumber=ke.phoneNumber||null,this.photoURL=ke.photoURL||null,this.isAnonymous=ke.isAnonymous||!1,this.tenantId=ke.tenantId||null,this.metadata=new At(ke.createdAt||void 0,ke.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,c.Z)(function*(){const x=yield mt(y,y.stsTokenManager.getToken(y.auth,g));return O(x,y.auth,"internal-error"),y.accessToken!==x&&(y.accessToken=x,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),x})()}getIdTokenResult(g){return function(v){return Ve.apply(this,arguments)}(this,g)}reload(){return function(v){return He.apply(this,arguments)}(this)}_assign(g){this!==g&&(O(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new _n(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){O(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var x=this;return(0,c.Z)(function*(){let ue=!1;g.idToken&&g.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(g),ue=!0),y&&(yield en(x)),yield x.auth._persistUserIfCurrent(x),ue&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var g=this;return(0,c.Z)(function*(){const y=yield g.getIdToken();return yield mt(g,function(v,g){return Ne.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var x,ue,ke,$e,dt,Tt,Mt,Jt;const Yt=null!==(x=y.displayName)&&void 0!==x?x:void 0,hi=null!==(ue=y.email)&&void 0!==ue?ue:void 0,Us=null!==(ke=y.phoneNumber)&&void 0!==ke?ke:void 0,Ec=null!==($e=y.photoURL)&&void 0!==$e?$e:void 0,Ig=null!==(dt=y.tenantId)&&void 0!==dt?dt:void 0,bf=null!==(Tt=y._redirectEventId)&&void 0!==Tt?Tt:void 0,xc=null!==(Mt=y.createdAt)&&void 0!==Mt?Mt:void 0,i_=null!==(Jt=y.lastLoginAt)&&void 0!==Jt?Jt:void 0,{uid:fl,emailVerified:ho,isAnonymous:O0,providerData:r_,stsTokenManager:Tg}=y;O(fl&&Tg,g,"internal-error");const hx=nn.fromJSON(this.name,Tg);O("string"==typeof fl,g,"internal-error"),Zt(Yt,g.name),Zt(hi,g.name),O("boolean"==typeof ho,g,"internal-error"),O("boolean"==typeof O0,g,"internal-error"),Zt(Us,g.name),Zt(Ec,g.name),Zt(Ig,g.name),Zt(bf,g.name),Zt(xc,g.name),Zt(i_,g.name);const js=new _n({uid:fl,auth:g,email:hi,emailVerified:ho,displayName:Yt,isAnonymous:O0,photoURL:Ec,phoneNumber:Us,tenantId:Ig,stsTokenManager:hx,createdAt:xc,lastLoginAt:i_});return r_&&Array.isArray(r_)&&(js.providerData=r_.map(Dg=>Object.assign({},Dg))),bf&&(js._redirectEventId=bf),js}static _fromIdTokenResponse(g,y,x=!1){return(0,c.Z)(function*(){const ue=new nn;ue.updateFromServerResponse(y);const ke=new _n({uid:y.localId,auth:g,stsTokenManager:ue,isAnonymous:x});return yield en(ke),ke})()}}const An=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(y,x){var ue=this;return(0,c.Z)(function*(){ue.storage[y]=x})()}_get(y){var x=this;return(0,c.Z)(function*(){const ue=x.storage[y];return void 0===ue?null:ue})()}_remove(y){var x=this;return(0,c.Z)(function*(){delete x.storage[y]})()}_addListener(y,x){}_removeListener(y,x){}}return v.type="NONE",v})();function xi(v,g,y){return`firebase:${v}:${g}:${y}`}class Cr{constructor(g,y,x){this.persistence=g,this.auth=y,this.userKey=x;const{config:ue,name:ke}=this.auth;this.fullUserKey=xi(this.userKey,ue.apiKey,ke),this.fullPersistenceKey=xi("persistence",ue.apiKey,ke),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,c.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?_n._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,c.Z)(function*(){if(y.persistence===g)return;const x=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,x?y.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,x="authUser"){return(0,c.Z)(function*(){if(!y.length)return new Cr(C(An),g,x);const ue=(yield Promise.all(y.map(function(){var Mt=(0,c.Z)(function*(Jt){if(yield Jt._isAvailable())return Jt});return function(Jt){return Mt.apply(this,arguments)}}()))).filter(Mt=>Mt);let ke=ue[0]||C(An);const $e=xi(x,g.config.apiKey,g.name);let dt=null;for(const Mt of y)try{const Jt=yield Mt._get($e);if(Jt){const Yt=_n._fromJSON(g,Jt);Mt!==ke&&(dt=Yt),ke=Mt;break}}catch(Jt){}const Tt=ue.filter(Mt=>Mt._shouldAllowMigration);return ke._shouldAllowMigration&&Tt.length?(ke=Tt[0],dt&&(yield ke._set($e,dt.toJSON())),yield Promise.all(y.map(function(){var Mt=(0,c.Z)(function*(Jt){if(Jt!==ke)try{yield Jt._remove($e)}catch(Yt){}});return function(Jt){return Mt.apply(this,arguments)}}())),new Cr(ke,g,x)):new Cr(ke,g,x)})()}}function Ul(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Wc(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Ua(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Ni(g))return"Blackberry";if(ar(g))return"Webos";if(zc(g))return"Safari";if((g.includes("chrome/")||jl(g))&&!g.includes("edge/"))return"Chrome";if(xo(g))return"Android";{const x=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==x?void 0:x.length))return x[1]}return"Other"}function Ua(v=(0,Se.z$)()){return/firefox\//i.test(v)}function zc(v=(0,Se.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function jl(v=(0,Se.z$)()){return/crios\//i.test(v)}function Wc(v=(0,Se.z$)()){return/iemobile/i.test(v)}function xo(v=(0,Se.z$)()){return/android/i.test(v)}function Ni(v=(0,Se.z$)()){return/blackberry/i.test(v)}function ar(v=(0,Se.z$)()){return/webos/i.test(v)}function ji(v=(0,Se.z$)()){return/iphone|ipad|ipod/i.test(v)}function Dt(v=(0,Se.z$)()){return ji(v)||xo(v)||ar(v)||Ni(v)||/windows phone/i.test(v)||Wc(v)}function Dn(v,g=[]){let y;switch(v){case"Browser":y=Ul((0,Se.z$)());break;case"Worker":y=`${Ul((0,Se.z$)())}-${v}`;break;default:y=v}const x=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${me.SDK_VERSION}/${x}`}class lr{constructor(g,y){this.app=g,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pi(this),this.idTokenSubscription=new pi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(g,y){var x=this;return y&&(this._popupRedirectResolver=C(y)),this._initializationPromise=this.queue((0,c.Z)(function*(){var ue;x._deleted||(x.persistenceManager=yield Cr.create(x,g),!x._deleted&&((null===(ue=x._popupRedirectResolver)||void 0===ue?void 0:ue._shouldInitProactively)&&(yield x._popupRedirectResolver._initialize(x)),yield x.initializeCurrentUser(y),!x._deleted&&(x._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,c.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y)}})()}initializeCurrentUser(g){var y=this;return(0,c.Z)(function*(){var x;let ue=yield y.assertedPersistence.getCurrentUser();if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const ke=null===(x=y.redirectUser)||void 0===x?void 0:x._redirectEventId,$e=null==ue?void 0:ue._redirectEventId,dt=yield y.tryRedirectSignIn(g);(!ke||ke===$e)&&(null==dt?void 0:dt.user)&&(ue=dt.user)}return ue?ue._redirectEventId?(O(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===ue._redirectEventId?y.directlySetCurrentUser(ue):y.reloadAndSetCurrentUserOrClear(ue)):y.reloadAndSetCurrentUserOrClear(ue):y.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var y=this;return(0,c.Z)(function*(){let x=null;try{x=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch(ue){yield y._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,c.Z)(function*(){try{yield en(g)}catch(x){if("auth/network-request-failed"!==x.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,c.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,c.Z)(function*(){const x=g?(0,Se.m9)(g):null;return x&&O(x.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(x&&x._clone(y))})()}_updateCurrentUser(g){var y=this;return(0,c.Z)(function*(){if(!y._deleted)return g&&O(y.tenantId===g.tenantId,y,"tenant-id-mismatch"),y.queue((0,c.Z)(function*(){yield y.directlySetCurrentUser(g),y.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,c.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var y=this;return this.queue((0,c.Z)(function*(){yield y.assertedPersistence.setPersistence(C(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new Se.LL("auth","Firebase",g())}onAuthStateChanged(g,y,x){return this.registerStateListener(this.authStateSubscription,g,y,x)}onIdTokenChanged(g,y,x){return this.registerStateListener(this.idTokenSubscription,g,y,x)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var x=this;return(0,c.Z)(function*(){const ue=yield x.getOrInitRedirectPersistenceManager(y);return null===g?ue.removeCurrentUser():ue.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,c.Z)(function*(){if(!y.redirectPersistenceManager){const x=g&&C(g)||y._popupRedirectResolver;O(x,y,"argument-error"),y.redirectPersistenceManager=yield Cr.create(y,[C(x._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,c.Z)(function*(){var x,ue;return y._isInitialized&&(yield y.queue((0,c.Z)(function*(){}))),(null===(x=y._currentUser)||void 0===x?void 0:x._redirectEventId)===g?y._currentUser:(null===(ue=y.redirectUser)||void 0===ue?void 0:ue._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,c.Z)(function*(){if(g===y.currentUser)return y.queue((0,c.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,x,ue){if(this._deleted)return()=>{};const ke="function"==typeof y?y:y.next.bind(y),$e=this._isInitialized?Promise.resolve():this._initializationPromise;return O($e,this,"internal-error"),$e.then(()=>ke(this.currentUser)),"function"==typeof y?g.addObserver(y,x,ue):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,c.Z)(function*(){y.currentUser&&y.currentUser!==g&&(y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh()),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return O(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Dn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Vn(v){return(0,Se.m9)(v)}class pi{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,Se.ne)(y=>this.observer=y)}get next(){return O(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Zn(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function So(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class xr{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return T("not implemented")}_getIdTokenResponse(g){return T("not implemented")}_linkToIdToken(g,y){return T("not implemented")}_getReauthenticationResolver(g){return T("not implemented")}}function Io(v,g){return Si.apply(this,arguments)}function Si(){return(Si=(0,c.Z)(function*(v,g){return ye(v,"POST","/v1/accounts:resetPassword",_e(v,g))})).apply(this,arguments)}function ja(v,g){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,c.Z)(function*(v,g){return ye(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Js(v,g){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,c.Z)(function*(v,g){return ye(v,"POST","/v1/accounts:update",_e(v,g))})).apply(this,arguments)}function vn(){return(vn=(0,c.Z)(function*(v,g){return te(v,"POST","/v1/accounts:signInWithPassword",_e(v,g))})).apply(this,arguments)}function qc(v,g){return $u.apply(this,arguments)}function $u(){return($u=(0,c.Z)(function*(v,g){return ye(v,"POST","/v1/accounts:sendOobCode",_e(v,g))})).apply(this,arguments)}function Sr(v,g){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,c.Z)(function*(v,g){return qc(v,g)})).apply(this,arguments)}function Ha(v,g){return xs.apply(this,arguments)}function xs(){return(xs=(0,c.Z)(function*(v,g){return qc(v,g)})).apply(this,arguments)}function Ss(v,g){return gi.apply(this,arguments)}function gi(){return(gi=(0,c.Z)(function*(v,g){return qc(v,g)})).apply(this,arguments)}function ig(v,g){return Is.apply(this,arguments)}function Is(){return(Is=(0,c.Z)(function*(v,g){return qc(v,g)})).apply(this,arguments)}function Zc(){return(Zc=(0,c.Z)(function*(v,g){return te(v,"POST","/v1/accounts:signInWithEmailLink",_e(v,g))})).apply(this,arguments)}function za(){return(za=(0,c.Z)(function*(v,g){return te(v,"POST","/v1/accounts:signInWithEmailLink",_e(v,g))})).apply(this,arguments)}class cr extends xr{constructor(g,y,x,ue=null){super("password",x),this._email=g,this._password=y,this._tenantId=ue}static _fromEmailAndPassword(g,y){return new cr(g,y,"password")}static _fromEmailAndCode(g,y,x=null){return new cr(g,y,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,c.Z)(function*(){switch(y.signInMethod){case"password":return function(v,g){return vn.apply(this,arguments)}(g,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function(v,g){return Zc.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:L(g,"internal-error")}})()}_linkToIdToken(g,y){var x=this;return(0,c.Z)(function*(){switch(x.signInMethod){case"password":return ja(g,{idToken:y,returnSecureToken:!0,email:x._email,password:x._password});case"emailLink":return function(v,g){return za.apply(this,arguments)}(g,{idToken:y,email:x._email,oobCode:x._password});default:L(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function mi(v,g){return Od.apply(this,arguments)}function Od(){return(Od=(0,c.Z)(function*(v,g){return te(v,"POST","/v1/accounts:signInWithIdp",_e(v,g))})).apply(this,arguments)}class Ts extends xr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new Ts(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):L("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:x,signInMethod:ue}=y,ke=(0,ae._T)(y,["providerId","signInMethod"]);if(!x||!ue)return null;const $e=new Ts(x,ue);return $e.idToken=ke.idToken||void 0,$e.accessToken=ke.accessToken||void 0,$e.secret=ke.secret,$e.nonce=ke.nonce,$e.pendingToken=ke.pendingToken||null,$e}_getIdTokenResponse(g){return mi(g,this.buildRequest())}_linkToIdToken(g,y){const x=this.buildRequest();return x.idToken=y,mi(g,x)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,mi(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,Se.xO)(y)}return g}}function xy(v,g){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,c.Z)(function*(v,g){return ye(v,"POST","/v1/accounts:sendVerificationCode",_e(v,g))})).apply(this,arguments)}function Gl(){return(Gl=(0,c.Z)(function*(v,g){return te(v,"POST","/v1/accounts:signInWithPhoneNumber",_e(v,g))})).apply(this,arguments)}function Nd(){return(Nd=(0,c.Z)(function*(v,g){const y=yield te(v,"POST","/v1/accounts:signInWithPhoneNumber",_e(v,g));if(y.temporaryProof)throw Oe(v,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Fd={USER_NOT_FOUND:"user-not-found"};function Ld(){return(Ld=(0,c.Z)(function*(v,g){return te(v,"POST","/v1/accounts:signInWithPhoneNumber",_e(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Fd)})).apply(this,arguments)}class qa extends xr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new qa({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new qa({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function(v,g){return Gl.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function(v,g){return Nd.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function(v,g){return Ld.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:x,verificationCode:ue}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:x,code:ue}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:x,phoneNumber:ue,temporaryProof:ke}=g;return x||y||ue||ke?new qa({verificationId:y,verificationCode:x,phoneNumber:ue,temporaryProof:ke}):null}}class Za{constructor(g){var y,x,ue,ke,$e,dt;const Tt=(0,Se.zd)((0,Se.pd)(g)),Mt=null!==(y=Tt.apiKey)&&void 0!==y?y:null,Jt=null!==(x=Tt.oobCode)&&void 0!==x?x:null,Yt=function(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ue=Tt.mode)&&void 0!==ue?ue:null);O(Mt&&Jt&&Yt,"argument-error"),this.apiKey=Mt,this.operation=Yt,this.code=Jt,this.continueUrl=null!==(ke=Tt.continueUrl)&&void 0!==ke?ke:null,this.languageCode=null!==($e=Tt.languageCode)&&void 0!==$e?$e:null,this.tenantId=null!==(dt=Tt.tenantId)&&void 0!==dt?dt:null}static parseLink(g){const y=function(v){const g=(0,Se.zd)((0,Se.pd)(v)).link,y=g?(0,Se.zd)((0,Se.pd)(g)).deep_link_id:null,x=(0,Se.zd)((0,Se.pd)(v)).deep_link_id;return(x?(0,Se.zd)((0,Se.pd)(x)).link:null)||x||y||g||v}(g);try{return new Za(y)}catch(x){return null}}}let Ya=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(y,x){return cr._fromEmailAndPassword(y,x)}static credentialWithLink(y,x){const ue=Za.parseLink(x);return O(ue,"argument-error"),cr._fromEmailAndCode(y,ue.code,ue.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Ds{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class zl extends Ds{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class To extends zl{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return O("providerId"in y&&"signInMethod"in y,"argument-error"),Ts._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return O(g.idToken||g.accessToken,"argument-error"),Ts._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return To.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return To.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:x,oauthTokenSecret:ue,pendingToken:ke,nonce:$e,providerId:dt}=g;if(!x&&!ue&&!y&&!ke||!dt)return null;try{return new To(dt)._credential({idToken:y,accessToken:x,nonce:$e,pendingToken:ke})}catch(Tt){return null}}}let Ju=(()=>{class v extends zl{constructor(){super("facebook.com")}static credential(y){return Ts._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return v.credentialFromTaggedObject(y)}static credentialFromError(y){return v.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return v.credential(y.oauthAccessToken)}catch(x){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),eo=(()=>{class v extends zl{constructor(){super("google.com"),this.addScope("profile")}static credential(y,x){return Ts._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:x})}static credentialFromResult(y){return v.credentialFromTaggedObject(y)}static credentialFromError(y){return v.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:x,oauthAccessToken:ue}=y;if(!x&&!ue)return null;try{return v.credential(x,ue)}catch(ke){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Bd=(()=>{class v extends zl{constructor(){super("github.com")}static credential(y){return Ts._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return v.credentialFromTaggedObject(y)}static credentialFromError(y){return v.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return v.credential(y.oauthAccessToken)}catch(x){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Do extends xr{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return mi(g,this.buildRequest())}_linkToIdToken(g,y){const x=this.buildRequest();return x.idToken=y,mi(g,x)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,mi(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:x,signInMethod:ue,pendingToken:ke}=y;return x&&ue&&ke&&x===ue?new Do(x,ke):null}static _create(g,y){return new Do(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let is=(()=>{class v extends zl{constructor(){super("twitter.com")}static credential(y,x){return Ts._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:x})}static credentialFromResult(y){return v.credentialFromTaggedObject(y)}static credentialFromError(y){return v.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:x,oauthTokenSecret:ue}=y;if(!x||!ue)return null;try{return v.credential(x,ue)}catch(ke){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Yc(v,g){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,c.Z)(function*(v,g){return te(v,"POST","/v1/accounts:signUp",_e(v,g))})).apply(this,arguments)}class Ir{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,x,ue=!1){return(0,c.Z)(function*(){const ke=yield _n._fromIdTokenResponse(g,x,ue),$e=Vd(x);return new Ir({user:ke,providerId:$e,_tokenResponse:x,operationType:y})})()}static _forOperation(g,y,x){return(0,c.Z)(function*(){yield g._updateTokensIfNecessary(x,!0);const ue=Vd(x);return new Ir({user:g,providerId:ue,_tokenResponse:x,operationType:y})})()}}function Vd(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function oa(){return(oa=(0,c.Z)(function*(v){var g;const y=Vn(v);if(yield y._initializationPromise,null===(g=y.currentUser)||void 0===g?void 0:g.isAnonymous)return new Ir({user:y.currentUser,providerId:null,operationType:"signIn"});const x=yield Yc(y,{returnSecureToken:!0}),ue=yield Ir._fromIdTokenResponse(y,"signIn",x,!0);return yield y._updateCurrentUser(ue.user),ue})).apply(this,arguments)}class Wl extends Se.ZR{constructor(g,y,x,ue){var ke;super(y.code,y.message),this.operationType=x,this.user=ue,this.name="FirebaseError",Object.setPrototypeOf(this,Wl.prototype),this.appName=g.name,this.code=y.code,this.tenantId=null!==(ke=g.tenantId)&&void 0!==ke?ke:void 0,this.serverResponse=y.customData.serverResponse}static _fromErrorAndOperation(g,y,x,ue){return new Wl(g,y,x,ue)}}function ql(v,g,y,x){return("reauthenticate"===g?y._getReauthenticationResolver(v):y._getIdTokenResponse(v)).catch(ke=>{throw"auth/multi-factor-auth-required"===ke.code?Wl._fromErrorAndOperation(v,ke,g,x):ke})}function Ud(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function Zl(){return(Zl=(0,c.Z)(function*(v,g){const y=(0,Se.m9)(v);yield ss(!0,y,g);const{providerUserInfo:x}=yield it(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),ue=Ud(x||[]);return y.providerData=y.providerData.filter(ke=>ue.has(ke.providerId)),ue.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function Nn(v,g){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,c.Z)(function*(v,g,y=!1){const x=yield mt(v,g._linkToIdToken(v.auth,yield v.getIdToken()),y);return Ir._forOperation(v,"link",x)})).apply(this,arguments)}function ss(v,g,y){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,c.Z)(function*(v,g,y){yield en(g);const ue=!1===v?"provider-already-linked":"no-such-provider";O(Ud(g.providerData).has(y)===v,g.auth,ue)})).apply(this,arguments)}function Fn(v,g){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,c.Z)(function*(v,g,y=!1){const{auth:x}=v,ue="reauthenticate";try{const ke=yield mt(v,ql(x,ue,g,v),y);O(ke.idToken,x,"internal-error");const $e=je(ke.idToken);O($e,x,"internal-error");const{sub:dt}=$e;return O(v.uid===dt,x,"user-mismatch"),Ir._forOperation(v,ue,ke)}catch(ke){throw"auth/user-not-found"===(null==ke?void 0:ke.code)&&L(x,"user-mismatch"),ke}})).apply(this,arguments)}function Kc(v,g){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,c.Z)(function*(v,g,y=!1){const x="signIn",ue=yield ql(v,x,g),ke=yield Ir._fromIdTokenResponse(v,x,ue);return y||(yield v._updateCurrentUser(ke.user)),ke})).apply(this,arguments)}function Ki(v,g){return ni.apply(this,arguments)}function ni(){return(ni=(0,c.Z)(function*(v,g){return Kc(Vn(v),g)})).apply(this,arguments)}function Qc(v,g){return ks.apply(this,arguments)}function ks(){return(ks=(0,c.Z)(function*(v,g){const y=(0,Se.m9)(v);return yield ss(!1,y,g.providerId),Nn(y,g)})).apply(this,arguments)}function ur(v,g){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,c.Z)(function*(v,g){return Fn((0,Se.m9)(v),g)})).apply(this,arguments)}function eh(v,g){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,c.Z)(function*(v,g){return te(v,"POST","/v1/accounts:signInWithCustomToken",_e(v,g))})).apply(this,arguments)}function Qa(){return(Qa=(0,c.Z)(function*(v,g){const y=Vn(v),x=yield eh(y,{token:g,returnSecureToken:!0}),ue=yield Ir._fromIdTokenResponse(y,"signIn",x);return yield y._updateCurrentUser(ue.user),ue})).apply(this,arguments)}class Po{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?Kt._fromServerResponse(g,y):L(g,"internal-error")}}class Kt extends Po{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new Kt(y)}}function $c(v,g,y){var x;O((null===(x=y.url)||void 0===x?void 0:x.length)>0,v,"invalid-continue-uri"),O(void 0===y.dynamicLinkDomain||y.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(O(y.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(O(y.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function $l(){return($l=(0,c.Z)(function*(v,g,y){const x=(0,Se.m9)(v),ue={requestType:"PASSWORD_RESET",email:g};y&&$c(x,ue,y),yield Ha(x,ue)})).apply(this,arguments)}function Jl(){return(Jl=(0,c.Z)(function*(v,g,y){yield Io((0,Se.m9)(v),{oobCode:g,newPassword:y})})).apply(this,arguments)}function no(){return(no=(0,c.Z)(function*(v,g){yield Js((0,Se.m9)(v),{oobCode:g})})).apply(this,arguments)}function yt(v,g){return dn.apply(this,arguments)}function dn(){return(dn=(0,c.Z)(function*(v,g){const y=(0,Se.m9)(v),x=yield Io(y,{oobCode:g}),ue=x.requestType;switch(O(ue,y,"internal-error"),ue){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":O(x.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":O(x.mfaInfo,y,"internal-error");default:O(x.email,y,"internal-error")}let ke=null;return x.mfaInfo&&(ke=Po._fromServerResponse(Vn(y),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:ke},operation:ue}})).apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(v,g){const{data:y}=yield yt((0,Se.m9)(v),g);return y.email})).apply(this,arguments)}function Ms(){return(Ms=(0,c.Z)(function*(v,g,y){const x=Vn(v),ue=yield Yc(x,{returnSecureToken:!0,email:g,password:y}),ke=yield Ir._fromIdTokenResponse(x,"signIn",ue);return yield x._updateCurrentUser(ke.user),ke})).apply(this,arguments)}function $a(){return($a=(0,c.Z)(function*(v,g,y){const x=(0,Se.m9)(v),ue={requestType:"EMAIL_SIGNIN",email:g};O(y.handleCodeInApp,x,"argument-error"),y&&$c(x,ue,y),yield Ss(x,ue)})).apply(this,arguments)}function Ja(){return(Ja=(0,c.Z)(function*(v,g,y){const x=(0,Se.m9)(v),ue=Ya.credentialWithLink(g,y||S());return O(ue._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),Ki(x,ue)})).apply(this,arguments)}function Xa(v,g){return oi.apply(this,arguments)}function oi(){return(oi=(0,c.Z)(function*(v,g){return ye(v,"POST","/v1/accounts:createAuthUri",_e(v,g))})).apply(this,arguments)}function Xl(){return(Xl=(0,c.Z)(function*(v,g){const x={identifier:g,continueUri:H()?S():"http://localhost"},{signinMethods:ue}=yield Xa((0,Se.m9)(v),x);return ue||[]})).apply(this,arguments)}function Qi(){return(Qi=(0,c.Z)(function*(v,g){const y=(0,Se.m9)(v),ue={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&$c(y.auth,ue,g);const{email:ke}=yield Sr(y.auth,ue);ke!==v.email&&(yield v.reload())})).apply(this,arguments)}function el(){return(el=(0,c.Z)(function*(v,g,y){const x=(0,Se.m9)(v),ke={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};y&&$c(x.auth,ke,y);const{email:$e}=yield ig(x.auth,ke);$e!==v.email&&(yield v.reload())})).apply(this,arguments)}function ih(v,g){return ec.apply(this,arguments)}function ec(){return(ec=(0,c.Z)(function*(v,g){return ye(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function aa(){return(aa=(0,c.Z)(function*(v,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const x=(0,Se.m9)(v),ke={idToken:yield x.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},$e=yield mt(x,ih(x.auth,ke));x.displayName=$e.displayName||null,x.photoURL=$e.photoUrl||null;const dt=x.providerData.find(({providerId:Tt})=>"password"===Tt);dt&&(dt.displayName=x.displayName,dt.photoURL=x.photoURL),yield x._updateTokensIfNecessary($e)})).apply(this,arguments)}function nc(v,g,y){return ic.apply(this,arguments)}function ic(){return(ic=(0,c.Z)(function*(v,g,y){const{auth:x}=v,ke={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(ke.email=g),y&&(ke.password=y);const $e=yield mt(v,ja(x,ke));yield v._updateTokensIfNecessary($e,!0)})).apply(this,arguments)}class la{constructor(g,y,x={}){this.isNewUser=g,this.providerId=y,this.profile=x}}class zd extends la{constructor(g,y,x,ue){super(g,y,x),this.username=ue}}class Wd extends la{constructor(g,y){super(g,"facebook.com",y)}}class qd extends zd{constructor(g,y){super(g,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class ca extends la{constructor(g,y){super(g,"google.com",y)}}class ag extends zd{constructor(g,y,x){super(g,"twitter.com",y,x)}}function sh(v){const{user:g,_tokenResponse:y}=v;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function(v){var g,y;if(!v)return null;const{providerId:x}=v,ue=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},ke=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!x&&(null==v?void 0:v.idToken)){const $e=null===(y=null===(g=je(v.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if($e)return new la(ke,"anonymous"!==$e&&"custom"!==$e?$e:null)}if(!x)return null;switch(x){case"facebook.com":return new Wd(ke,ue);case"github.com":return new qd(ke,ue);case"google.com":return new ca(ke,ue);case"twitter.com":return new ag(ke,ue,v.screenName||null);case"custom":case"anonymous":return new la(ke,null);default:return new la(ke,x,ue)}}(y)}class hr{constructor(g,y){this.type=g,this.credential=y}static _fromIdtoken(g){return new hr("enroll",g)}static _fromMfaPendingCredential(g){return new hr("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,x;if(null==g?void 0:g.multiFactorSession){if(null===(y=g.multiFactorSession)||void 0===y?void 0:y.pendingCredential)return hr._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(x=g.multiFactorSession)||void 0===x?void 0:x.idToken)return hr._fromIdtoken(g.multiFactorSession.idToken)}return null}}class tl{constructor(g,y,x){this.session=g,this.hints=y,this.signInResolver=x}static _fromError(g,y){const x=Vn(g),ue=(y.serverResponse.mfaInfo||[]).map($e=>Po._fromServerResponse(x,$e));O(y.serverResponse.mfaPendingCredential,x,"internal-error");const ke=hr._fromMfaPendingCredential(y.serverResponse.mfaPendingCredential);return new tl(ke,ue,function(){var $e=(0,c.Z)(function*(dt){const Tt=yield dt._process(x,ke);delete y.serverResponse.mfaInfo,delete y.serverResponse.mfaPendingCredential;const Mt=Object.assign(Object.assign({},y.serverResponse),{idToken:Tt.idToken,refreshToken:Tt.refreshToken});switch(y.operationType){case"signIn":const Jt=yield Ir._fromIdTokenResponse(x,y.operationType,Mt);return yield x._updateCurrentUser(Jt.user),Jt;case"reauthenticate":return O(y.user,x,"internal-error"),Ir._forOperation(y.user,y.operationType,Mt);default:L(x,"internal-error")}});return function(dt){return $e.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,c.Z)(function*(){return y.signInResolver(g)})()}}function oc(v,g){return ye(v,"POST","/v2/accounts/mfaEnrollment:start",_e(v,g))}class ch{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(x=>Po._fromServerResponse(g.auth,x)))})}static _fromUser(g){return new ch(g)}getSession(){var g=this;return(0,c.Z)(function*(){return hr._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,y){var x=this;return(0,c.Z)(function*(){const ue=g,ke=yield x.getSession(),$e=yield mt(x.user,ue._process(x.user.auth,ke,y));return yield x.user._updateTokensIfNecessary($e),x.user.reload()})()}unenroll(g){var y=this;return(0,c.Z)(function*(){const x="string"==typeof g?g:g.uid,ue=yield y.user.getIdToken(),ke=yield mt(y.user,function(v,g){return ye(v,"POST","/v2/accounts/mfaEnrollment:withdraw",_e(v,g))}(y.user.auth,{idToken:ue,mfaEnrollmentId:x}));y.enrolledFactors=y.enrolledFactors.filter(({uid:$e})=>$e!==x),yield y.user._updateTokensIfNecessary(ke);try{yield y.user.reload()}catch($e){if("auth/user-token-expired"!==$e.code)throw $e}})()}}const Rs=new WeakMap,ac="__sak";class Yd{constructor(g,y){this.storage=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(ac,"1"),this.storage.removeItem(ac),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}}const dh=(()=>{class v extends Yd{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(y,x)=>this.onStorageEvent(y,x),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const v=(0,Se.z$)();return zc(v)||ji(v)}()&&function(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Dt(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const x of Object.keys(this.listeners)){const ue=this.storage.getItem(x),ke=this.localCache[x];ue!==ke&&y(x,ke,ue)}}onStorageEvent(y,x=!1){if(!y.key)return void this.forAllChangedKeys((dt,Tt,Mt)=>{this.notifyListeners(dt,Mt)});const ue=y.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const dt=this.storage.getItem(ue);if(y.newValue!==dt)null!==y.newValue?this.storage.setItem(ue,y.newValue):this.storage.removeItem(ue);else if(this.localCache[ue]===y.newValue&&!x)return}const ke=()=>{const dt=this.storage.getItem(ue);!x&&this.localCache[ue]===dt||this.notifyListeners(ue,dt)},$e=this.storage.getItem(ue);(0,Se.w1)()&&10===document.documentMode&&$e!==y.newValue&&y.newValue!==y.oldValue?setTimeout(ke,10):ke()}notifyListeners(y,x){this.localCache[y]=x;const ue=this.listeners[y];if(ue)for(const ke of Array.from(ue))ke(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,x,ue)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:x,newValue:ue}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(x)}_removeListener(y,x){this.listeners[y]&&(this.listeners[y].delete(x),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,x){var ue=()=>super._set,ke=this;return(0,c.Z)(function*(){yield ue().call(ke,y,x),ke.localCache[y]=JSON.stringify(x)})()}_get(y){var x=()=>super._get,ue=this;return(0,c.Z)(function*(){const ke=yield x().call(ue,y);return ue.localCache[y]=JSON.stringify(ke),ke})()}_remove(y){var x=()=>super._remove,ue=this;return(0,c.Z)(function*(){yield x().call(ue,y),delete ue.localCache[y]})()}}return v.type="LOCAL",v})(),Ps=(()=>{class v extends Yd{constructor(){super(window.sessionStorage,"SESSION")}_addListener(y,x){}_removeListener(y,x){}}return v.type="SESSION",v})();let Ns=(()=>{class v{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const x=this.receivers.find(ke=>ke.isListeningto(y));if(x)return x;const ue=new v(y);return this.receivers.push(ue),ue}isListeningto(y){return this.eventTarget===y}handleEvent(y){var x=this;return(0,c.Z)(function*(){const ue=y,{eventId:ke,eventType:$e,data:dt}=ue.data,Tt=x.handlersMap[$e];if(!(null==Tt?void 0:Tt.size))return;ue.ports[0].postMessage({status:"ack",eventId:ke,eventType:$e});const Mt=Array.from(Tt).map(function(){var Yt=(0,c.Z)(function*(hi){return hi(ue.origin,dt)});return function(hi){return Yt.apply(this,arguments)}}()),Jt=yield function(v){return Promise.all(v.map(function(){var g=(0,c.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(x){return{fulfilled:!1,reason:x}}});return function(y){return g.apply(this,arguments)}}()))}(Mt);ue.ports[0].postMessage({status:"done",eventId:ke,eventType:$e,response:Jt})})()}_subscribe(y,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(x)}_unsubscribe(y,x){this.handlersMap[y]&&x&&this.handlersMap[y].delete(x),(!x||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function ro(v="",g=10){let y="";for(let x=0;x<g;x++)y+=Math.floor(10*Math.random());return v+y}class Qd{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,x=50){var ue=this;return(0,c.Z)(function*(){const ke="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ke)throw new Error("connection_unavailable");let $e,dt;return new Promise((Tt,Mt)=>{const Jt=ro("",20);ke.port1.start();const Yt=setTimeout(()=>{Mt(new Error("unsupported_event"))},x);dt={messageChannel:ke,onMessage(hi){const Us=hi;if(Us.data.eventId===Jt)switch(Us.data.status){case"ack":clearTimeout(Yt),$e=setTimeout(()=>{Mt(new Error("timeout"))},3e3);break;case"done":clearTimeout($e),Tt(Us.data.response);break;default:clearTimeout(Yt),clearTimeout($e),Mt(new Error("invalid_response"))}}},ue.handlers.add(dt),ke.port1.addEventListener("message",dt.onMessage),ue.target.postMessage({eventType:g,eventId:Jt,data:y},[ke.port2])}).finally(()=>{dt&&ue.removeMessageHandler(dt)})})()}}function Yn(){return window}function $d(){return void 0!==Yn().WorkerGlobalScope&&"function"==typeof Yn().importScripts}function lc(){return(lc=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const fh="firebaseLocalStorageDb",ph="firebaseLocalStorage",gh="fbase_key";class oo{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function da(v,g){return v.transaction([ph],g?"readwrite":"readonly").objectStore(ph)}function Rt(){const v=indexedDB.open(fh,1);return new Promise((g,y)=>{v.addEventListener("error",()=>{y(v.error)}),v.addEventListener("upgradeneeded",()=>{const x=v.result;try{x.createObjectStore(ph,{keyPath:gh})}catch(ue){y(ue)}}),v.addEventListener("success",(0,c.Z)(function*(){const x=v.result;x.objectStoreNames.contains(ph)?g(x):(x.close(),yield function(){const v=indexedDB.deleteDatabase(fh);return new oo(v).toPromise()}(),g(yield Rt()))}))})}function cn(v,g,y){return cc.apply(this,arguments)}function cc(){return(cc=(0,c.Z)(function*(v,g,y){const x=da(v,!0).put({[gh]:g,value:y});return new oo(x).toPromise()})).apply(this,arguments)}function No(){return(No=(0,c.Z)(function*(v,g){const y=da(v,!1).get(g),x=yield new oo(y).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function fa(v,g){const y=da(v,!0).delete(g);return new oo(y).toPromise()}const Fo=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,c.Z)(function*(){return y.db||(y.db=yield Rt()),y.db})()}_withRetries(y){var x=this;return(0,c.Z)(function*(){let ue=0;for(;;)try{const ke=yield x._openDb();return yield y(ke)}catch(ke){if(ue++>3)throw ke;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,c.Z)(function*(){return $d()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,c.Z)(function*(){y.receiver=Ns._getInstance($d()?self:null),y.receiver._subscribe("keyChanged",function(){var x=(0,c.Z)(function*(ue,ke){return{keyProcessed:(yield y._poll()).includes(ke.key)}});return function(ue,ke){return x.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var x=(0,c.Z)(function*(ue,ke){return["keyChanged"]});return function(ue,ke){return x.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,c.Z)(function*(){var x,ue;if(y.activeServiceWorker=yield function(){return lc.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Qd(y.activeServiceWorker);const ke=yield y.sender._send("ping",{},800);!ke||(null===(x=ke[0])||void 0===x?void 0:x.fulfilled)&&(null===(ue=ke[0])||void 0===ue?void 0:ue.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var x=this;return(0,c.Z)(function*(){if(x.sender&&x.activeServiceWorker&&function(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:y},x.serviceWorkerReceiverAvailable?800:50)}catch(ue){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Rt();return yield cn(y,ac,"1"),yield fa(y,ac),!0}catch(y){}return!1})()}_withPendingWrite(y){var x=this;return(0,c.Z)(function*(){x.pendingWrites++;try{yield y()}finally{x.pendingWrites--}})()}_set(y,x){var ue=this;return(0,c.Z)(function*(){return ue._withPendingWrite((0,c.Z)(function*(){return yield ue._withRetries(ke=>cn(ke,y,x)),ue.localCache[y]=x,ue.notifyServiceWorker(y)}))})()}_get(y){var x=this;return(0,c.Z)(function*(){const ue=yield x._withRetries(ke=>function(v,g){return No.apply(this,arguments)}(ke,y));return x.localCache[y]=ue,ue})()}_remove(y){var x=this;return(0,c.Z)(function*(){return x._withPendingWrite((0,c.Z)(function*(){return yield x._withRetries(ue=>fa(ue,y)),delete x.localCache[y],x.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,c.Z)(function*(){const x=yield y._withRetries($e=>{const dt=da($e,!1).getAll();return new oo(dt).toPromise()});if(!x)return[];if(0!==y.pendingWrites)return[];const ue=[],ke=new Set;for(const{fbase_key:$e,value:dt}of x)ke.add($e),JSON.stringify(y.localCache[$e])!==JSON.stringify(dt)&&(y.notifyListeners($e,dt),ue.push($e));for(const $e of Object.keys(y.localCache))y.localCache[$e]&&!ke.has($e)&&(y.notifyListeners($e,null),ue.push($e));return ue})()}notifyListeners(y,x){this.localCache[y]=x;const ue=this.listeners[y];if(ue)for(const ke of Array.from(ue))ke(x)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(x)}_removeListener(y,x){this.listeners[y]&&(this.listeners[y].delete(x),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function jn(v,g){return ye(v,"POST","/v2/accounts/mfaSignIn:start",_e(v,g))}function uc(){return(uc=(0,c.Z)(function*(v){return(yield ye(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function mh(v){return new Promise((g,y)=>{const x=document.createElement("script");x.setAttribute("src",v),x.onload=g,x.onerror=ue=>{const ke=J("internal-error");ke.customData=ue,y(ke)},x.type="text/javascript",x.charset="UTF-8",function(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(x)})}function rl(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Ur=1e12;class Bo{constructor(g){this.auth=g,this.counter=Ur,this._widgets=new Map}render(g,y){const x=this.counter;return this._widgets.set(x,new sl(g,this.auth.name,y||{})),this.counter++,x}reset(g){var y;const x=g||Ur;null===(y=this._widgets.get(x))||void 0===y||y.delete(),this._widgets.delete(x)}getResponse(g){var y;return(null===(y=this._widgets.get(g||Ur))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,c.Z)(function*(){var x;return null===(x=y._widgets.get(g||Ur))||void 0===x||x.execute(),""})()}}class sl{constructor(g,y,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ue="string"==typeof g?document.getElementById(g):g;O(ue,"argument-error",{appName:y}),this.container=ue,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(v){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<50;x++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}();const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch(x){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch(x){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const as=rl("rcb"),ef=new Z(3e4,6e4);class ls{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Yn().grecaptcha}load(g,y=""){return O((v=y).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v),g,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(Yn().grecaptcha):new Promise((x,ue)=>{const ke=Yn().setTimeout(()=>{ue(J(g,"network-request-failed"))},ef.get());Yn()[as]=()=>{Yn().clearTimeout(ke),delete Yn()[as];const dt=Yn().grecaptcha;if(!dt)return void ue(J(g,"internal-error"));const Tt=dt.render;dt.render=(Mt,Jt)=>{const Yt=Tt(Mt,Jt);return this.counter++,Yt},this.hostLanguage=y,x(dt)},mh(`https://www.google.com/recaptcha/api.js??${(0,Se.xO)({onload:as,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(ke),ue(J(g,"internal-error"))})});var v}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!Yn().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Py{load(g){return(0,c.Z)(function*(){return new Bo(g)})()}clearedOneInstance(){}}const Wn="recaptcha",cg={theme:"light",type:"image"};class nu{constructor(g,y=Object.assign({},cg),x){this.parameters=y,this.type=Wn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Vn(x),this.isInvisible="invisible"===this.parameters.size,O("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const ue="string"==typeof g?document.getElementById(g):g;O(ue,this.auth,"argument-error"),this.container=ue,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Py:new ls,this.validateStartingState()}verify(){var g=this;return(0,c.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),x=g.getAssertedRecaptcha();return x.getResponse(y)||new Promise(ke=>{const $e=dt=>{!dt||(g.tokenChangeListeners.delete($e),ke(dt))};g.tokenChangeListeners.add($e),g.isInvisible&&x.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){O(!this.parameters.sitekey,this.auth,"argument-error"),O(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),O("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(x=>x(y)),"function"==typeof g)g(y);else if("string"==typeof g){const x=Yn()[g];"function"==typeof x&&x(y)}}}assertNotDestroyed(){O(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,c.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const x=document.createElement("div");y.appendChild(x),y=x}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,c.Z)(function*(){O(H()&&!$d(),g.auth,"internal-error"),yield function(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function(v){return uc.apply(this,arguments)}(g.auth);O(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return O(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class tf{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=qa._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function jr(){return(jr=(0,c.Z)(function*(v,g,y){const x=Vn(v),ue=yield hc(x,g,(0,Se.m9)(y));return new tf(ue,ke=>Ki(x,ke))})).apply(this,arguments)}function nf(){return(nf=(0,c.Z)(function*(v,g,y){const x=(0,Se.m9)(v);yield ss(!1,x,"phone");const ue=yield hc(x.auth,g,(0,Se.m9)(y));return new tf(ue,ke=>Qc(x,ke))})).apply(this,arguments)}function Gi(){return(Gi=(0,c.Z)(function*(v,g,y){const x=(0,Se.m9)(v),ue=yield hc(x.auth,g,(0,Se.m9)(y));return new tf(ue,ke=>ur(x,ke))})).apply(this,arguments)}function hc(v,g,y){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,c.Z)(function*(v,g,y){var x;const ue=yield y.verify();try{let ke;if(O("string"==typeof ue,v,"argument-error"),O(y.type===Wn,v,"argument-error"),ke="string"==typeof g?{phoneNumber:g}:g,"session"in ke){const $e=ke.session;if("phoneNumber"in ke)return O("enroll"===$e.type,v,"internal-error"),(yield oc(v,{idToken:$e.credential,phoneEnrollmentInfo:{phoneNumber:ke.phoneNumber,recaptchaToken:ue}})).phoneSessionInfo.sessionInfo;{O("signin"===$e.type,v,"internal-error");const dt=(null===(x=ke.multiFactorHint)||void 0===x?void 0:x.uid)||ke.multiFactorUid;return O(dt,v,"missing-multi-factor-info"),(yield jn(v,{mfaPendingCredential:$e.credential,mfaEnrollmentId:dt,phoneSignInInfo:{recaptchaToken:ue}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$e}=yield xy(v,{phoneNumber:ke.phoneNumber,recaptchaToken:ue});return $e}}finally{y._reset()}})).apply(this,arguments)}function Kn(){return(Kn=(0,c.Z)(function*(v,g){yield Nn((0,Se.m9)(v),g)})).apply(this,arguments)}let Ls=(()=>{class v{constructor(y){this.providerId=v.PROVIDER_ID,this.auth=Vn(y)}verifyPhoneNumber(y,x){return hc(this.auth,y,(0,Se.m9)(x))}static credential(y,x){return qa._fromVerification(y,x)}static credentialFromResult(y){return v.credentialFromTaggedObject(y)}static credentialFromError(y){return v.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:x,temporaryProof:ue}=y;return x&&ue?qa._fromTokenResponse(x,ue):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Ln(v,g){return g?C(g):(O(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class al extends xr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return mi(g,this._buildIdpRequest())}_linkToIdToken(g,y){return mi(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return mi(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function rf(v){return Kc(v.auth,new al(v),v.bypassAuthState)}function cs(v){const{auth:g,user:y}=v;return O(y,g,"internal-error"),Fn(y,new al(v),v.bypassAuthState)}function Bs(v){return pa.apply(this,arguments)}function pa(){return(pa=(0,c.Z)(function*(v){const{auth:g,user:y}=v;return O(y,g,"internal-error"),Nn(y,new al(v),v.bypassAuthState)})).apply(this,arguments)}class Tr{constructor(g,y,x,ue,ke=!1){this.auth=g,this.resolver=x,this.user=ue,this.bypassAuthState=ke,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,c.Z)(function*(x,ue){g.pendingPromise={resolve:x,reject:ue};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(ke){g.reject(ke)}});return function(x,ue){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,c.Z)(function*(){const{urlResponse:x,sessionId:ue,postBody:ke,tenantId:$e,error:dt,type:Tt}=g;if(dt)return void y.reject(dt);const Mt={auth:y.auth,requestUri:x,sessionId:ue,tenantId:$e||void 0,postBody:ke||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Tt)(Mt))}catch(Jt){y.reject(Jt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return rf;case"linkViaPopup":case"linkViaRedirect":return Bs;case"reauthViaPopup":case"reauthViaRedirect":return cs;default:L(this.auth,"internal-error")}}resolve(g){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const co=new Z(2e3,1e4);function iu(){return(iu=(0,c.Z)(function*(v,g,y){const x=Vn(v);se(v,g,Ds);const ue=Ln(x,y);return new Qn(x,"signInViaPopup",g,ue).executeNotNull()})).apply(this,arguments)}function of(){return(of=(0,c.Z)(function*(v,g,y){const x=(0,Se.m9)(v);se(x.auth,g,Ds);const ue=Ln(x.auth,y);return new Qn(x.auth,"reauthViaPopup",g,ue,x).executeNotNull()})).apply(this,arguments)}function yh(){return(yh=(0,c.Z)(function*(v,g,y){const x=(0,Se.m9)(v);se(x.auth,g,Ds);const ue=Ln(x.auth,y);return new Qn(x.auth,"linkViaPopup",g,ue,x).executeNotNull()})).apply(this,arguments)}let Qn=(()=>{class v extends Tr{constructor(y,x,ue,ke,$e){super(y,x,ke,$e),this.provider=ue,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var y=this;return(0,c.Z)(function*(){const x=yield y.execute();return O(x,y.auth,"internal-error"),x})()}onExecution(){var y=this;return(0,c.Z)(function*(){w(1===y.filter.length,"Popup operations only handle one event");const x=ro();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],x),y.authWindow.associatedEvent=x,y.resolver._originValidation(y.auth).catch(ue=>{y.reject(ue)}),y.resolver._isIframeWebStorageSupported(y.auth,ue=>{ue||y.reject(J(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(J(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const y=()=>{var x,ue;this.pollId=(null===(ue=null===(x=this.authWindow)||void 0===x?void 0:x.window)||void 0===ue?void 0:ue.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(J(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,co.get())};y()}}return v.currentPopupAction=null,v})();const Uo=new Map;class Vs extends Tr{constructor(g,y,x=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,x),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,c.Z)(function*(){let x=Uo.get(y.auth._key());if(!x){try{const ke=(yield function(v,g){return G.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;x=()=>Promise.resolve(ke)}catch(ue){x=()=>Promise.reject(ue)}Uo.set(y.auth._key(),x)}return x()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,x=this;return(0,c.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(x,g);if("unknown"!==g.type){if(g.eventId){const ue=yield x.auth._redirectUserForId(g.eventId);if(ue)return x.user=ue,y().call(x,g);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function G(){return(G=(0,c.Z)(function*(v,g){const y=at(g),x="true"===(yield Xe(v)._get(y));return yield Xe(v)._remove(y),x})).apply(this,arguments)}function ne(v,g){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,c.Z)(function*(v,g){return Xe(v)._set(at(g),"true")})).apply(this,arguments)}function Xe(v){return C(v._redirectPersistence)}function at(v){return xi("pendingRedirect",v.config.apiKey,v.name)}function Pt(){return(Pt=(0,c.Z)(function*(v,g,y){const x=Vn(v);se(v,g,Ds);const ue=Ln(x,y);return yield ne(ue,x),ue._openRedirect(x,g,"signInViaRedirect")})).apply(this,arguments)}function ci(){return(ci=(0,c.Z)(function*(v,g,y){const x=(0,Se.m9)(v);se(x.auth,g,Ds);const ue=Ln(x.auth,y);yield ne(ue,x.auth);const ke=yield rn(x);return ue._openRedirect(x.auth,g,"reauthViaRedirect",ke)})).apply(this,arguments)}function ll(){return(ll=(0,c.Z)(function*(v,g,y){const x=(0,Se.m9)(v);se(x.auth,g,Ds);const ue=Ln(x.auth,y);yield ss(!1,x,g.providerId),yield ne(ue,x.auth);const ke=yield rn(x);return ue._openRedirect(x.auth,g,"linkViaRedirect",ke)})).apply(this,arguments)}function cl(){return(cl=(0,c.Z)(function*(v,g){return yield Vn(v)._initializationPromise,Hr(v,g,!1)})).apply(this,arguments)}function Hr(v,g){return kr.apply(this,arguments)}function kr(){return(kr=(0,c.Z)(function*(v,g,y=!1){const x=Vn(v),ue=Ln(x,g),$e=yield new Vs(x,ue,y).execute();return $e&&!y&&(delete $e.user._redirectEventId,yield x._persistUserIfCurrent($e.user),yield x._setRedirectUser(null,g)),$e})).apply(this,arguments)}function rn(v){return ug.apply(this,arguments)}function ug(){return(ug=(0,c.Z)(function*(v){const g=ro(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class lf{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(g,x)&&(y=!0,this.sendToConsumer(g,x),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ul(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var x;if(g.error&&!ul(g)){const ue=(null===(x=g.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";y.onError(J(this.auth,ue))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const x=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&x}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cf(g))}saveEventToCache(g){this.cachedEventUids.add(cf(g)),this.lastProcessedEventTime=Date.now()}}function cf(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function ul({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Ly(v){return us.apply(this,arguments)}function us(){return(us=(0,c.Z)(function*(v,g={}){return ye(v,"GET","/v1/projects",g)})).apply(this,arguments)}const hg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,v0=/^https?/;function jo(){return(jo=(0,c.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield Ly(v);for(const y of g)try{if(Di(y))return}catch(x){}L(v,"unauthorized-domain")})).apply(this,arguments)}function Di(v){const g=S(),{protocol:y,hostname:x}=new URL(g);if(v.startsWith("chrome-extension://")){const $e=new URL(v);return""===$e.hostname&&""===x?"chrome-extension:"===y&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&$e.hostname===x}if(!v0.test(y))return!1;if(hg.test(v))return x===v;const ue=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ue+"|"+ue+")$","i").test(x)}const Ji=new Z(3e4,6e4);function By(){const v=Yn().___jsl;if(null==v?void 0:v.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let y=0;y<v.CP.length;y++)v.CP[y]=null}let pc=null;function Ah(v){return pc=pc||function(v){return new Promise((g,y)=>{var x,ue,ke;function $e(){By(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{By(),y(J(v,"network-request-failed"))},timeout:Ji.get()})}if(null===(ue=null===(x=Yn().gapi)||void 0===x?void 0:x.iframes)||void 0===ue?void 0:ue.Iframe)g(gapi.iframes.getContext());else{if(!(null===(ke=Yn().gapi)||void 0===ke?void 0:ke.load)){const dt=rl("iframefcb");return Yn()[dt]=()=>{gapi.load?$e():y(J(v,"network-request-failed"))},mh(`https://apis.google.com/js/api.js?onload=${dt}`)}$e()}}).catch(g=>{throw pc=null,g})}(v),pc}const Uy=new Z(5e3,15e3),gc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},ru=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uf(v){const g=v.config;O(g.authDomain,v,"auth-domain-config-required");const y=g.emulator?Ae(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,x={apiKey:g.apiKey,appName:v.name,v:me.SDK_VERSION},ue=ru.get(v.config.apiHost);ue&&(x.eid=ue);const ke=v._getFrameworks();return ke.length&&(x.fw=ke.join(",")),`${y}?${(0,Se.xO)(x).slice(1)}`}function mn(){return(mn=(0,c.Z)(function*(v){const g=yield Ah(v),y=Yn().gapi;return O(y,v,"internal-error"),g.open({where:document.body,url:uf(v),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gc,dontclear:!0},x=>new Promise(function(){var ue=(0,c.Z)(function*(ke,$e){yield x.restyle({setHideOnLeave:!1});const dt=J(v,"network-request-failed"),Tt=Yn().setTimeout(()=>{$e(dt)},Uy.get());function Mt(){Yn().clearTimeout(Tt),ke(x)}x.ping(Mt).then(Mt,()=>{$e(dt)})});return function(ke,$e){return ue.apply(this,arguments)}}()))})).apply(this,arguments)}const vh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ou{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function wh(v,g,y,x,ue,ke){O(v.config.authDomain,v,"auth-domain-config-required"),O(v.config.apiKey,v,"invalid-api-key");const $e={apiKey:v.config.apiKey,appName:v.name,authType:y,redirectUrl:x,v:me.SDK_VERSION,eventId:ue};if(g instanceof Ds){g.setDefaultLanguage(v.languageCode),$e.providerId=g.providerId||"",(0,Se.xb)(g.getCustomParameters())||($e.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Tt,Mt]of Object.entries(ke||{}))$e[Tt]=Mt}if(g instanceof zl){const Tt=g.getScopes().filter(Mt=>""!==Mt);Tt.length>0&&($e.scopes=Tt.join(","))}v.tenantId&&($e.tid=v.tenantId);const dt=$e;for(const Tt of Object.keys(dt))void 0===dt[Tt]&&delete dt[Tt];return`${function({config:v}){return v.emulator?Ae(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,Se.xO)(dt).slice(1)}`}const yc="webStorageSupport";class _a extends class{constructor(g){this.factorId=g}_process(g,y,x){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,x);case"signin":return this._finalizeSignIn(g,y.credential);default:return T("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new _a(g)}_finalizeEnroll(g,y,x){return function(v,g){return ye(v,"POST","/v2/accounts/mfaEnrollment:finalize",_e(v,g))}(g,{idToken:y,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function(v,g){return ye(v,"POST","/v2/accounts/mfaSignIn:finalize",_e(v,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let C0=(()=>{class v{constructor(){}static assertion(y){return _a._fromCredential(y)}}return v.FACTOR_ID="phone",v})();var v,Gy="@firebase/auth";class E0{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,c.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(x=>{var ue;g((null===(ue=x)||void 0===ue?void 0:ue.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);!y||(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){O(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hl(){return window}function Sh(){return(Sh=(0,c.Z)(function*(v,g,y){var x;const{BuildInfo:ue}=hl();w(g.sessionId,"AuthEvent did not contain a session ID");const ke=yield qy(g.sessionId),$e={};return ji()?$e.ibi=ue.packageName:xo()?$e.apn=ue.packageName:L(v,"operation-not-supported-in-this-environment"),ue.displayName&&($e.appDisplayName=ue.displayName),$e.sessionId=ke,wh(v,y,g.type,void 0,null!==(x=g.eventId)&&void 0!==x?x:void 0,$e)})).apply(this,arguments)}function _c(){return(_c=(0,c.Z)(function*(v){const{BuildInfo:g}=hl(),y={};ji()?y.iosBundleId=g.packageName:xo()?y.androidPackageName=g.packageName:L(v,"operation-not-supported-in-this-environment"),yield Ly(v,y)})).apply(this,arguments)}function yg(){return(yg=(0,c.Z)(function*(v,g,y){const{cordova:x}=hl();let ue=()=>{};try{yield new Promise((ke,$e)=>{let dt=null;function Tt(){var Yt;ke();const hi=null===(Yt=x.plugins.browsertab)||void 0===Yt?void 0:Yt.close;"function"==typeof hi&&hi(),"function"==typeof(null==y?void 0:y.close)&&y.close()}function Mt(){dt||(dt=window.setTimeout(()=>{$e(J(v,"redirect-cancelled-by-user"))},2e3))}function Jt(){"visible"===(null==document?void 0:document.visibilityState)&&Mt()}g.addPassiveListener(Tt),document.addEventListener("resume",Mt,!1),xo()&&document.addEventListener("visibilitychange",Jt,!1),ue=()=>{g.removePassiveListener(Tt),document.removeEventListener("resume",Mt,!1),document.removeEventListener("visibilitychange",Jt,!1),dt&&window.clearTimeout(dt)}})}finally{ue()}})).apply(this,arguments)}function qy(v){return Zy.apply(this,arguments)}function Zy(){return(Zy=(0,c.Z)(function*(v){const g=ff(v),y=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(y)).map(ue=>ue.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ff(v){if(w(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const g=new ArrayBuffer(v.length),y=new Uint8Array(g);for(let x=0;x<v.length;x++)y[x]=v.charCodeAt(x);return y}v="Browser",(0,me._registerComponent)(new ge.wA("auth",(g,{options:y})=>{const x=g.getProvider("app").getImmediate(),{apiKey:ue,authDomain:ke}=x.options;return($e=>{O(ue&&!ue.includes(":"),"invalid-api-key",{appName:$e.name}),O(!(null==ke?void 0:ke.includes(":")),"argument-error",{appName:$e.name});const dt={apiKey:ue,authDomain:ke,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dn(v)},Tt=new lr($e,dt);return function(v,g){const y=(null==g?void 0:g.persistence)||[],x=(Array.isArray(y)?y:[y]).map(C);(null==g?void 0:g.errorMap)&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(x,null==g?void 0:g.popupRedirectResolver)}(Tt,y),Tt})(x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,x)=>{g.getProvider("auth-internal").initialize()})),(0,me._registerComponent)(new ge.wA("auth-internal",g=>{const y=Vn(g.getProvider("auth").getImmediate());return new E0(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,me.registerVersion)(Gy,"0.18.3",void 0),(0,me.registerVersion)(Gy,"0.18.3","esm2017");class pf extends lf{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(y=>y(g)),super.onEvent(g)}initialized(){var g=this;return(0,c.Z)(function*(){yield g.initPromise})()}}function Ih(v){return gf.apply(this,arguments)}function gf(){return(gf=(0,c.Z)(function*(v){const g=yield Yy()._get(Ky(v));return g&&(yield Yy()._remove(Ky(v))),g})).apply(this,arguments)}function S0(){const v=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<20;y++){const x=Math.floor(Math.random()*g.length);v.push(g.charAt(x))}return v.join("")}function Yy(){return C(dh)}function Ky(v){return xi("authEvent",v.config.apiKey,v.name)}function Go(v){if(!(null==v?void 0:v.includes("?")))return{};const[g,...y]=v.split("?");return(0,Se.zd)(y.join("?"))}function $y(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:J("no-auth-event")}}function dl(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function mf(v=(0,Se.z$)()){return!("file:"!==dl()&&"ionic:"!==dl()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function yf(){try{const v=self.localStorage,g=ro();if(v)return v.setItem(g,"1"),v.removeItem(g),!function(v=(0,Se.z$)()){return(0,Se.w1)()&&11===(null==document?void 0:document.documentMode)||function(v=(0,Se.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,Se.hl)()}catch(v){return kh()&&(0,Se.hl)()}return!1}function kh(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function _f(){return("http:"===dl()||"https:"===dl()||(0,Se.ru)()||mf())&&!((0,Se.b$)()||(0,Se.UG)())&&yf()&&!kh()}function t_(){return mf()&&"undefined"!=typeof document}function zo(){return(zo=(0,c.Z)(function*(){return!!t_()&&new Promise(v=>{const g=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),v(!0)})})})).apply(this,arguments)}const hs={LOCAL:"local",NONE:"none",SESSION:"session"},Wo=O,k0="persistence";function Xi(v){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,c.Z)(function*(v){yield v._initializationPromise;const g=vc(),y=xi(k0,v.config.apiKey,v.name);(null==g?void 0:g.sessionStorage)&&g.sessionStorage.setItem(y,v._getPersistence())})).apply(this,arguments)}function vc(){return"undefined"!=typeof window?window:null}const er=O;class ds{constructor(){this.browserResolver=C(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ps,this._completeRedirectFn=Hr}_openPopup(g,y,x,ue){var ke=this;return(0,c.Z)(function*(){var $e;w(null===($e=ke.eventManagers[g._key()])||void 0===$e?void 0:$e.manager,"_initialize() not called before _openPopup()");const dt=wh(g,y,x,S(),ue);return function(v,g,y,x=500,ue=600){const ke=Math.max((window.screen.availHeight-ue)/2,0).toString(),$e=Math.max((window.screen.availWidth-x)/2,0).toString();let dt="";const Tt=Object.assign(Object.assign({},vh),{width:x.toString(),height:ue.toString(),top:ke,left:$e}),Mt=(0,Se.z$)().toLowerCase();y&&(dt=jl(Mt)?"_blank":y),Ua(Mt)&&(g=g||"http://localhost",Tt.scrollbars="yes");const Jt=Object.entries(Tt).reduce((hi,[Us,Ec])=>`${hi}${Us}=${Ec},`,"");if(function(v=(0,Se.z$)()){var g;return ji(v)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(Mt)&&"_self"!==dt)return function(v,g){const y=document.createElement("a");y.href=v,y.target=g;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(x)}(g||"",dt),new ou(null);const Yt=window.open(g||"",dt,Jt);O(Yt,v,"popup-blocked");try{Yt.focus()}catch(hi){}return new ou(Yt)}(g,dt,ro())})()}_openRedirect(g,y,x,ue){var ke=this;return(0,c.Z)(function*(){return yield ke._originValidation(g),v=wh(g,y,x,S(),ue),Yn().location.href=v,new Promise(()=>{});var v})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:ue,promise:ke}=this.eventManagers[y];return ue?Promise.resolve(ue):(w(ke,"If manager is not set, promise should be"),ke)}const x=this.initAndGetManager(g);return this.eventManagers[y]={promise:x},x}initAndGetManager(g){var y=this;return(0,c.Z)(function*(){const x=yield function(v){return mn.apply(this,arguments)}(g),ue=new lf(g);return x.register("authEvent",ke=>(O(null==ke?void 0:ke.authEvent,g,"invalid-auth-event"),{status:ue.onEvent(ke.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:ue},y.iframes[g._key()]=x,ue})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(yc,{type:yc},ue=>{var ke;const $e=null===(ke=null==ue?void 0:ue[0])||void 0===ke?void 0:ke[yc];void 0!==$e&&y(!!$e),L(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function(v){return jo.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return Dt()||zc()||ji()}}),this.cordovaResolver=C(class{constructor(){this._redirectPersistence=Ps,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Hr}_initialize(g){var y=this;return(0,c.Z)(function*(){const x=g._key();let ue=y.eventManagers.get(x);return ue||(ue=new pf(g),y.eventManagers.set(x,ue),y.attachCallbackListeners(g,ue)),ue})()}_openPopup(g){L(g,"operation-not-supported-in-this-environment")}_openRedirect(g,y,x,ue){var ke=this;return(0,c.Z)(function*(){!function(v){var g,y,x,ue,ke,$e,dt,Tt,Mt,Jt;const Yt=hl();O("function"==typeof(null===(g=null==Yt?void 0:Yt.universalLinks)||void 0===g?void 0:g.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),O(void 0!==(null===(y=null==Yt?void 0:Yt.BuildInfo)||void 0===y?void 0:y.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),O("function"==typeof(null===(ke=null===(ue=null===(x=null==Yt?void 0:Yt.cordova)||void 0===x?void 0:x.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===ke?void 0:ke.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),O("function"==typeof(null===(Tt=null===(dt=null===($e=null==Yt?void 0:Yt.cordova)||void 0===$e?void 0:$e.plugins)||void 0===dt?void 0:dt.browsertab)||void 0===Tt?void 0:Tt.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),O("function"==typeof(null===(Jt=null===(Mt=null==Yt?void 0:Yt.cordova)||void 0===Mt?void 0:Mt.InAppBrowser)||void 0===Jt?void 0:Jt.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const $e=yield ke._initialize(g);yield $e.initialized(),$e.resetRedirect(),Uo.clear(),yield ke._originValidation(g);const dt=function(v,g,y=null){return{type:g,eventId:y,urlResponse:null,sessionId:S0(),postBody:null,tenantId:v.tenantId,error:J(v,"no-auth-event")}}(g,x,ue);yield function(v,g){return Yy()._set(Ky(v),g)}(g,dt);const Tt=yield function(v,g,y){return Sh.apply(this,arguments)}(g,dt,y),Mt=yield function(v){const{cordova:g}=hl();return new Promise(y=>{g.plugins.browsertab.isAvailable(x=>{let ue=null;x?g.plugins.browsertab.openUrl(v):ue=g.InAppBrowser.open(v,function(v=(0,Se.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),y(ue)})})}(Tt);return function(v,g,y){return yg.apply(this,arguments)}(g,$e,Mt)})()}_isIframeWebStorageSupported(g,y){throw new Error("Method not implemented.")}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function(v){return _c.apply(this,arguments)}(g)),this.originValidationPromises[y]}attachCallbackListeners(g,y){const{universalLinks:x,handleOpenURL:ue,BuildInfo:ke}=hl(),$e=setTimeout((0,c.Z)(function*(){yield Ih(g),y.onEvent($y())}),500),dt=function(){var Jt=(0,c.Z)(function*(Yt){clearTimeout($e);const hi=yield Ih(g);let Us=null;hi&&(null==Yt?void 0:Yt.url)&&(Us=function(v,g){var y,x;const ue=function(v){const g=Go(v),y=g.link?decodeURIComponent(g.link):void 0,x=Go(y).link,ue=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Go(ue).link||ue||x||y||v}(g);if(ue.includes("/__/auth/callback")){const ke=Go(ue),$e=ke.firebaseError?function(v){try{return JSON.parse(v)}catch(g){return null}}(decodeURIComponent(ke.firebaseError)):null,dt=null===(x=null===(y=null==$e?void 0:$e.code)||void 0===y?void 0:y.split("auth/"))||void 0===x?void 0:x[1],Tt=dt?J(dt):null;return Tt?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Tt,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:ue,postBody:null}}return null}(hi,Yt.url)),y.onEvent(Us||$y())});return function(hi){return Jt.apply(this,arguments)}}();void 0!==x&&"function"==typeof x.subscribe&&x.subscribe(null,dt);const Tt=ue,Mt=`${ke.packageName.toLowerCase()}://`;hl().handleOpenURL=function(){var Jt=(0,c.Z)(function*(Yt){if(Yt.toLowerCase().startsWith(Mt)&&dt({url:Yt}),"function"==typeof Tt)try{Tt(Yt)}catch(hi){console.error(hi)}});return function(Yt){return Jt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ps,this._completeRedirectFn=Hr}_initialize(g){var y=this;return(0,c.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,y,x,ue){var ke=this;return(0,c.Z)(function*(){return yield ke.selectUnderlyingResolver(),ke.assertedUnderlyingResolver._openPopup(g,y,x,ue)})()}_openRedirect(g,y,x,ue){var ke=this;return(0,c.Z)(function*(){return yield ke.selectUnderlyingResolver(),ke.assertedUnderlyingResolver._openRedirect(g,y,x,ue)})()}_isIframeWebStorageSupported(g,y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,y)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return t_()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return er(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,c.Z)(function*(){if(g.underlyingResolver)return;const y=yield function(){return zo.apply(this,arguments)}();g.underlyingResolver=y?g.cordovaResolver:g.browserResolver})()}}function Af(v){return v.unwrap()}function Cg(v){return Eg(v)}function Eg(v){const{_tokenResponse:g}=v instanceof Se.ZR?v.customData:v;if(!g)return null;if(!(v instanceof Se.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return Ls.credentialFromResult(v);const y=g.providerId;if(!y||"password"===y)return null;let x;switch(y){case"google.com":x=eo;break;case"facebook.com":x=Ju;break;case"github.com":x=Bd;break;case"twitter.com":x=is;break;default:const{oauthIdToken:ue,oauthAccessToken:ke,oauthTokenSecret:$e,pendingToken:dt,nonce:Tt}=g;return ke||$e||ue||dt?dt?y.startsWith("saml.")?Do._create(y,dt):Ts._fromParams({providerId:y,signInMethod:y,pendingToken:dt,idToken:ue,accessToken:ke}):new To(y).credential({idToken:ue,accessToken:ke,rawNonce:Tt}):null}return v instanceof Se.ZR?x.credentialFromError(v):x.credentialFromResult(v)}function dr(v,g){return g.catch(y=>{throw y instanceof Se.ZR&&function(v,g){var y;const x=null===(y=g.customData)||void 0===y?void 0:y._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new R0(v,function(v,g){var y;const x=(0,Se.m9)(v),ue=g;return O(g.operationType,x,"argument-error"),O(null===(y=ue.serverResponse)||void 0===y?void 0:y.mfaPendingCredential,x,"argument-error"),tl._fromError(x,ue)}(v,g));else if(x){const ue=Eg(g),ke=g;ue&&(ke.credential=ue,ke.tenantId=x.tenantId||void 0,ke.email=x.email||void 0,ke.phoneNumber=x.phoneNumber||void 0)}}(v,y),y}).then(y=>{const ue=y.user;return{operationType:y.operationType,credential:Cg(y),additionalUserInfo:sh(y),user:ba.getOrCreate(ue)}})}function uu(v,g){return bc.apply(this,arguments)}function bc(){return(bc=(0,c.Z)(function*(v,g){const y=yield g;return{verificationId:y.verificationId,confirm:x=>dr(v,y.confirm(x))}})).apply(this,arguments)}class R0{constructor(g,y){this.resolver=y,this.auth=function(v){return v.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return dr(Af(this.auth),this.resolver.resolveSignIn(g))}}class ba{constructor(g){this._delegate=g,this.multiFactor=function(v){const g=(0,Se.m9)(v);return Rs.has(g)||Rs.set(g,ch._fromUser(g)),Rs.get(g)}(g)}static getOrCreate(g){return ba.USER_MAP.has(g)||ba.USER_MAP.set(g,new ba(g)),ba.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var y=this;return(0,c.Z)(function*(){return dr(y.auth,Qc(y._delegate,g))})()}linkWithPhoneNumber(g,y){var x=this;return(0,c.Z)(function*(){return uu(x.auth,function(v,g,y){return nf.apply(this,arguments)}(x._delegate,g,y))})()}linkWithPopup(g){var y=this;return(0,c.Z)(function*(){return dr(y.auth,function(v,g,y){return yh.apply(this,arguments)}(y._delegate,g,ds))})()}linkWithRedirect(g){var y=this;return(0,c.Z)(function*(){return yield Xi(Vn(y.auth)),function(v,g,y){return function(v,g,y){return ll.apply(this,arguments)}(v,g,y)}(y._delegate,g,ds)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var y=this;return(0,c.Z)(function*(){return dr(y.auth,ur(y._delegate,g))})()}reauthenticateWithPhoneNumber(g,y){return uu(this.auth,function(v,g,y){return Gi.apply(this,arguments)}(this._delegate,g,y))}reauthenticateWithPopup(g){return dr(this.auth,function(v,g,y){return of.apply(this,arguments)}(this._delegate,g,ds))}reauthenticateWithRedirect(g){var y=this;return(0,c.Z)(function*(){return yield Xi(Vn(y.auth)),function(v,g,y){return function(v,g,y){return ci.apply(this,arguments)}(v,g,y)}(y._delegate,g,ds)})()}sendEmailVerification(g){return function(v,g){return Qi.apply(this,arguments)}(this._delegate,g)}unlink(g){var y=this;return(0,c.Z)(function*(){return yield function(v,g){return Zl.apply(this,arguments)}(y._delegate,g),y})()}updateEmail(g){return function(v,g){return nc((0,Se.m9)(v),g,null)}(this._delegate,g)}updatePassword(g){return function(v,g){return nc((0,Se.m9)(v),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function(v,g){return Kn.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function(v,g){return aa.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,y){return function(v,g,y){return el.apply(this,arguments)}(this._delegate,g,y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ba.USER_MAP=new WeakMap;const Oh=O;let xg=(()=>{class v{constructor(y,x){if(this.app=y,x.isInitialized())return this._delegate=x.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ue}=y.options;Oh(ue,"invalid-api-key",{appName:y.name});let ke=[An];if("undefined"!=typeof window){ke=function(v,g){const y=vc();if(!(null==y?void 0:y.sessionStorage))return[];const x=xi(k0,v,g);switch(y.sessionStorage.getItem(x)){case hs.NONE:return[An];case hs.LOCAL:return[Fo,Ps];case hs.SESSION:return[Ps];default:return[]}}(ue,y.name);for(const dt of[Fo,dh,Ps])ke.includes(dt)||ke.push(dt)}Oh(ue,"invalid-api-key",{appName:y.name});const $e="undefined"!=typeof window?ds:void 0;this._delegate=x.initialize({options:{persistence:ke,popupRedirectResolver:$e}}),this._delegate._updateErrorMap(q),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ba.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(y){this._delegate.languageCode=y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(y){this._delegate.tenantId=y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(y,x){!function(v,g,y){const x=Vn(v);O(x._canInitEmulator,x,"emulator-config-failed"),O(/^https?:\/\//.test(g),x,"invalid-emulator-scheme");const ue=!!(null==y?void 0:y.disableWarnings),ke=Zn(g),{host:$e,port:dt}=function(v){const g=Zn(v),y=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!y)return{host:"",port:null};const x=y[2].split("@").pop()||"",ue=/^(\[[^\]]+\])(:|$)/.exec(x);if(ue){const ke=ue[1];return{host:ke,port:So(x.substr(ke.length+1))}}{const[ke,$e]=x.split(":");return{host:ke,port:So($e)}}}(g);x.config.emulator={url:`${ke}//${$e}${null===dt?"":`:${dt}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:$e,port:dt,protocol:ke.replace(":",""),options:Object.freeze({disableWarnings:ue})}),ue||function(){function v(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,y,x)}applyActionCode(y){return function(v,g){return no.apply(this,arguments)}(this._delegate,y)}checkActionCode(y){return yt(this._delegate,y)}confirmPasswordReset(y,x){return function(v,g,y){return Jl.apply(this,arguments)}(this._delegate,y,x)}createUserWithEmailAndPassword(y,x){var ue=this;return(0,c.Z)(function*(){return dr(ue._delegate,function(v,g,y){return Ms.apply(this,arguments)}(ue._delegate,y,x))})()}fetchProvidersForEmail(y){return this.fetchSignInMethodsForEmail(y)}fetchSignInMethodsForEmail(y){return function(v,g){return Xl.apply(this,arguments)}(this._delegate,y)}isSignInWithEmailLink(y){return function(v,g){const y=Za.parseLink(g);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}(0,y)}getRedirectResult(){var y=this;return(0,c.Z)(function*(){Oh(_f(),y._delegate,"operation-not-supported-in-this-environment");const x=yield function(v,g){return cl.apply(this,arguments)}(y._delegate,ds);return x?dr(y._delegate,Promise.resolve(x)):{credential:null,user:null}})()}addFrameworkForLogging(y){!function(v,g){Vn(v)._logFramework(g)}(this._delegate,y)}onAuthStateChanged(y,x,ue){const{next:ke,error:$e,complete:dt}=wc(y,x,ue);return this._delegate.onAuthStateChanged(ke,$e,dt)}onIdTokenChanged(y,x,ue){const{next:ke,error:$e,complete:dt}=wc(y,x,ue);return this._delegate.onIdTokenChanged(ke,$e,dt)}sendSignInLinkToEmail(y,x){return function(v,g,y){return $a.apply(this,arguments)}(this._delegate,y,x)}sendPasswordResetEmail(y,x){return function(v,g,y){return $l.apply(this,arguments)}(this._delegate,y,x||void 0)}setPersistence(y){var x=this;return(0,c.Z)(function*(){let ue;switch(function(v,g){Wo(Object.values(hs).includes(g),v,"invalid-persistence-type"),(0,Se.b$)()?Wo(g!==hs.SESSION,v,"unsupported-persistence-type"):(0,Se.UG)()?Wo(g===hs.NONE,v,"unsupported-persistence-type"):kh()?Wo(g===hs.NONE||g===hs.LOCAL&&(0,Se.hl)(),v,"unsupported-persistence-type"):Wo(g===hs.NONE||yf(),v,"unsupported-persistence-type")}(x._delegate,y),y){case hs.SESSION:ue=Ps;break;case hs.LOCAL:ue=(yield C(Fo)._isAvailable())?Fo:dh;break;case hs.NONE:ue=An;break;default:return L("argument-error",{appName:x._delegate.name})}return x._delegate.setPersistence(ue)})()}signInAndRetrieveDataWithCredential(y){return this.signInWithCredential(y)}signInAnonymously(){return dr(this._delegate,function(v){return oa.apply(this,arguments)}(this._delegate))}signInWithCredential(y){return dr(this._delegate,Ki(this._delegate,y))}signInWithCustomToken(y){return dr(this._delegate,function(v,g){return Qa.apply(this,arguments)}(this._delegate,y))}signInWithEmailAndPassword(y,x){return dr(this._delegate,function(v,g,y){return Ki((0,Se.m9)(v),Ya.credential(g,y))}(this._delegate,y,x))}signInWithEmailLink(y,x){return dr(this._delegate,function(v,g,y){return Ja.apply(this,arguments)}(this._delegate,y,x))}signInWithPhoneNumber(y,x){return uu(this._delegate,function(v,g,y){return jr.apply(this,arguments)}(this._delegate,y,x))}signInWithPopup(y){var x=this;return(0,c.Z)(function*(){return Oh(_f(),x._delegate,"operation-not-supported-in-this-environment"),dr(x._delegate,function(v,g,y){return iu.apply(this,arguments)}(x._delegate,y,ds))})()}signInWithRedirect(y){var x=this;return(0,c.Z)(function*(){return Oh(_f(),x._delegate,"operation-not-supported-in-this-environment"),yield Xi(x._delegate),function(v,g,y){return function(v,g,y){return Pt.apply(this,arguments)}(v,g,y)}(x._delegate,y,ds)})()}updateCurrentUser(y){return this._delegate.updateCurrentUser(y)}verifyPasswordResetCode(y){return function(v,g){return On.apply(this,arguments)}(this._delegate,y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=hs,v})();function wc(v,g,y){let x=v;"function"!=typeof v&&({next:x,error:g,complete:y}=v);const ue=x;return{next:$e=>ue($e&&ba.getOrCreate($e)),error:g,complete:y}}class Ph{constructor(){this.providerId="phone",this._delegate=new Ls(Af(Je.Z.auth()))}static credential(g,y){return Ls.credential(g,y)}verifyPhoneNumber(g,y){return this._delegate.verifyPhoneNumber(g,y)}unwrap(){return this._delegate}}Ph.PHONE_SIGN_IN_METHOD=Ls.PHONE_SIGN_IN_METHOD,Ph.PROVIDER_ID=Ls.PROVIDER_ID;const n_=O;class vf{constructor(g,y,x=Je.Z.app()){var ue;n_(null===(ue=x.options)||void 0===ue?void 0:ue.apiKey,"invalid-api-key",{appName:x.name}),this._delegate=new nu(g,y,x.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(v){v.INTERNAL.registerComponent(new ge.wA("auth-compat",g=>{const y=g.getProvider("app-compat").getImmediate(),x=g.getProvider("auth");return new xg(y,x)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ya,FacebookAuthProvider:Ju,GithubAuthProvider:Bd,GoogleAuthProvider:eo,OAuthProvider:To,PhoneAuthProvider:Ph,PhoneMultiFactorGenerator:C0,RecaptchaVerifier:vf,TwitterAuthProvider:is,Auth:xg,AuthCredential:xr,Error:Se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.1.6")}(Je.Z)},1282:function(Nt,gt,Fe){"use strict";var c,Je,Se;Je="undefined"!=typeof window?window:this,Se=function(Je){function Se(ae,ce,ge,xe){ae.hasOwnProperty(ce)||(ae[ce]=xe.apply(null,ge))}var me={};return Se(me,"Core/Globals.js",[],function(){var ce,ge,ae=void 0!==Je?Je:"undefined"!=typeof window?window:{};return(ge=ce||(ce={})).SVG_NS="http://www.w3.org/2000/svg",ge.product="Highcharts",ge.version="9.3.1",ge.win=ae,ge.doc=ge.win.document,ge.svg=ge.doc&&ge.doc.createElementNS&&!!ge.doc.createElementNS(ge.SVG_NS,"svg").createSVGRect,ge.userAgent=ge.win.navigator&&ge.win.navigator.userAgent||"",ge.isChrome=-1!==ge.userAgent.indexOf("Chrome"),ge.isFirefox=-1!==ge.userAgent.indexOf("Firefox"),ge.isMS=/(edge|msie|trident)/i.test(ge.userAgent)&&!ge.win.opera,ge.isSafari=!ge.isChrome&&-1!==ge.userAgent.indexOf("Safari"),ge.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(ge.userAgent),ge.isWebKit=-1!==ge.userAgent.indexOf("AppleWebKit"),ge.deg2rad=2*Math.PI/360,ge.hasBidiBug=ge.isFirefox&&4>parseInt(ge.userAgent.split("Firefox/")[1],10),ge.hasTouch=!!ge.win.TouchEvent,ge.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],ge.noop=function(){},ge.supportsPassiveEvents=function(){var xe=!1;if(!ge.isMS){var he=Object.defineProperty({},"passive",{get:function(){xe=!0}});ge.win.addEventListener&&ge.win.removeEventListener&&(ge.win.addEventListener("testPassive",ge.noop,he),ge.win.removeEventListener("testPassive",ge.noop,he))}return xe}(),ge.charts=[],ge.dateFormats={},ge.seriesTypes={},ge.symbolSizes={},ge.chartCount=0,ce}),Se(me,"Core/Utilities.js",[me["Core/Globals.js"]],function(ae){function ce(S,H,oe,ve){var pe=H?"Highcharts error":"Highcharts warning";32===S&&(S=pe+": Deprecated member");var Z=W(S),Ae=Z?pe+" #"+S+": www.highcharts.com/errors/"+S+"/":S.toString();if(void 0!==ve){var D="";Z&&(Ae+="?"),Y(ve,function(P,X){D+="\n - "+X+": "+P,Z&&(Ae+=encodeURI(X)+"="+encodeURI(P))}),Ae+=D}ee(ae,"displayError",{chart:oe,code:S,message:Ae,params:ve},function(){if(H)throw Error(Ae);w.console&&-1===ce.messages.indexOf(Ae)&&console.warn(Ae)}),ce.messages.push(Ae)}function xe(S,H){return parseInt(S,H||10)}function he(S){return"string"==typeof S}function ie(S){return"[object Array]"===(S=Object.prototype.toString.call(S))||"[object Array Iterator]"===S}function re(S,H){return!(!S||"object"!=typeof S||H&&ie(S))}function B(S){return re(S)&&"number"==typeof S.nodeType}function Q(S){var H=S&&S.constructor;return!(!re(S,!0)||B(S)||!H||!H.name||"Object"===H.name)}function W(S){return"number"==typeof S&&!isNaN(S)&&1/0>S&&-1/0<S}function q(S){return null!=S}function M(S,H,oe){var ve;return he(H)?q(oe)?S.setAttribute(H,oe):S&&S.getAttribute&&((ve=S.getAttribute(H))||"class"!==H||(ve=S.getAttribute(H+"Name"))):Y(H,function(pe,Z){q(pe)?S.setAttribute(Z,pe):S.removeAttribute(Z)}),ve}function I(S,H){var oe;for(oe in S||(S={}),H)S[oe]=H[oe];return S}function R(){for(var S=arguments,H=S.length,oe=0;oe<H;oe++){var ve=S[oe];if(null!=ve)return ve}}function V(S,H){ae.isMS&&!ae.svg&&H&&void 0!==H.opacity&&(H.filter="alpha(opacity="+100*H.opacity+")"),I(S.style,H)}function $(S,H,oe,ve,pe){return S=T.createElement(S),H&&I(S,H),pe&&V(S,{padding:"0",border:"none",margin:"0"}),oe&&V(S,oe),ve&&ve.appendChild(S),S}function L(S,H){return 1e14<S?S:parseFloat(S.toPrecision(H||14))}function Y(S,H,oe){for(var ve in S)Object.hasOwnProperty.call(S,ve)&&H.call(oe||S[ve],S[ve],ve,S)}function se(S,H,oe){function ve(D,P){var X=S.removeEventListener||ae.removeEventListenerPolyfill;X&&X.call(S,D,P,!1)}function pe(D){var P;if(S.nodeName){if(H){var X={};X[H]=!0}else X=D;Y(X,function(_e,ye){if(D[ye])for(P=D[ye].length;P--;)ve(ye,D[ye][P].fn)})}}var Z="function"==typeof S&&S.prototype||S;if(Object.hasOwnProperty.call(Z,"hcEvents")){var Ae=Z.hcEvents;H?(Z=Ae[H]||[],oe?(Ae[H]=Z.filter(function(D){return oe!==D.fn}),ve(H,oe)):(pe(Ae),Ae[H]=[])):(pe(Ae),delete Z.hcEvents)}}function ee(S,H,oe,ve){if(oe=oe||{},T.createEvent&&(S.dispatchEvent||S.fireEvent&&S!==ae)){var pe=T.createEvent("Events");pe.initEvent(H,!0,!0),oe=I(pe,oe),S.dispatchEvent?S.dispatchEvent(oe):S.fireEvent(H,oe)}else if(S.hcEvents){oe.target||I(oe,{preventDefault:function(){oe.defaultPrevented=!0},target:S,type:H}),pe=[];for(var Z=S,Ae=!1;Z.hcEvents;)Object.hasOwnProperty.call(Z,"hcEvents")&&Z.hcEvents[H]&&(pe.length&&(Ae=!0),pe.unshift.apply(pe,Z.hcEvents[H])),Z=Object.getPrototypeOf(Z);Ae&&pe.sort(function(D,P){return D.order-P.order}),pe.forEach(function(D){!1===D.fn.call(S,oe)&&oe.preventDefault()})}ve&&!oe.defaultPrevented&&ve.call(S,oe)}var k,O=ae.charts,T=ae.doc,w=ae.win;(ce||(ce={})).messages=[],Math.easeInOutSine=function(S){return-.5*(Math.cos(Math.PI*S)-1)};var C=Array.prototype.find?function(S,H){return S.find(H)}:function(S,H){var oe,ve=S.length;for(oe=0;oe<ve;oe++)if(H(S[oe],oe))return S[oe]};Y({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(S,H){ae[H]=function(oe){var ve;return ce(32,!1,void 0,((ve={})["Highcharts."+H]="use Array."+S,ve)),Array.prototype[S].apply(oe,[].slice.call(arguments,1))}});var U,S,H,j=(S=Math.random().toString(36).substring(2,9)+"-",H=0,function(){return"highcharts-"+(U?"":S)+H++});return w.jQuery&&(w.jQuery.fn.highcharts=function(){var S=[].slice.call(arguments);if(this[0])return S[0]?(new(ae[he(S[0])?S.shift():"Chart"])(this[0],S[0],S[1]),this):O[M(this[0],"data-highcharts-chart")]}),{addEvent:function(S,H,oe,ve){void 0===ve&&(ve={});var pe="function"==typeof S&&S.prototype||S;Object.hasOwnProperty.call(pe,"hcEvents")||(pe.hcEvents={}),pe=pe.hcEvents,ae.Point&&S instanceof ae.Point&&S.series&&S.series.chart&&(S.series.chart.runTrackerClick=!0);var Z=S.addEventListener||ae.addEventListenerPolyfill;return Z&&Z.call(S,H,oe,!!ae.supportsPassiveEvents&&{passive:void 0===ve.passive?-1!==H.indexOf("touch"):ve.passive,capture:!1}),pe[H]||(pe[H]=[]),pe[H].push({fn:oe,order:"number"==typeof ve.order?ve.order:1/0}),pe[H].sort(function(Ae,D){return Ae.order-D.order}),function(){se(S,H,oe)}},arrayMax:function(S){for(var H=S.length,oe=S[0];H--;)S[H]>oe&&(oe=S[H]);return oe},arrayMin:function(S){for(var H=S.length,oe=S[0];H--;)S[H]<oe&&(oe=S[H]);return oe},attr:M,clamp:function(S,H,oe){return S>H?S<oe?S:oe:H},cleanRecursively:function ge(S,H){var oe={};return Y(S,function(ve,pe){re(S[pe],!0)&&!S.nodeType&&H[pe]?(ve=ge(S[pe],H[pe]),Object.keys(ve).length&&(oe[pe]=ve)):(re(S[pe])||S[pe]!==H[pe])&&(oe[pe]=S[pe])}),oe},clearTimeout:function(S){q(S)&&clearTimeout(S)},correctFloat:L,createElement:$,css:V,defined:q,destroyObjectProperties:function(S,H){Y(S,function(oe,ve){oe&&oe!==H&&oe.destroy&&oe.destroy(),delete S[ve]})},discardElement:function(S){k||(k=$("div")),S&&k.appendChild(S),k.innerHTML=""},erase:function(S,H){for(var oe=S.length;oe--;)if(S[oe]===H){S.splice(oe,1);break}},error:ce,extend:I,extendClass:function(S,H){var oe=function(){};return I(oe.prototype=new S,H),oe},find:C,fireEvent:ee,getMagnitude:function(S){return Math.pow(10,Math.floor(Math.log(S)/Math.LN10))},getNestedProperty:function(S,H){for(S=S.split(".");S.length&&q(H);){var oe=S.shift();if(void 0===oe||"__proto__"===oe||!q(H=H[oe])||"function"==typeof H||"number"==typeof H.nodeType||H===w)return}return H},getStyle:function J(S,H,oe){var ve=ae.getStyle||J;if("width"===H)return H=Math.min(S.offsetWidth,S.scrollWidth),(oe=S.getBoundingClientRect&&S.getBoundingClientRect().width)<H&&oe>=H-1&&(H=Math.floor(oe)),Math.max(0,H-(ve(S,"padding-left",!0)||0)-(ve(S,"padding-right",!0)||0));if("height"===H)return Math.max(0,Math.min(S.offsetHeight,S.scrollHeight)-(ve(S,"padding-top",!0)||0)-(ve(S,"padding-bottom",!0)||0));if(w.getComputedStyle||ce(27,!0),S=w.getComputedStyle(S,void 0)){var pe=S.getPropertyValue(H);R(oe,"opacity"!==H)&&(pe=xe(pe))}return pe},inArray:function(S,H,oe){return ce(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),H.indexOf(S,oe)},isArray:ie,isClass:Q,isDOMElement:B,isFunction:function(S){return"function"==typeof S},isNumber:W,isObject:re,isString:he,keys:function(S){return ce(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(S)},merge:function(){var S,H=arguments,oe={},ve=function(Z,Ae){return"object"!=typeof Z&&(Z={}),Y(Ae,function(D,P){"__proto__"!==P&&"constructor"!==P&&(Z[P]=!re(D,!0)||Q(D)||B(D)?Ae[P]:ve(Z[P]||{},D))}),Z};!0===H[0]&&(oe=H[1],H=Array.prototype.slice.call(H,2));var pe=H.length;for(S=0;S<pe;S++)oe=ve(oe,H[S]);return oe},normalizeTickInterval:function(S,H,oe,ve,pe){var Z=S,Ae=S/(oe=R(oe,1));for(H||(H=pe?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===ve&&(1===oe?H=H.filter(function(D){return D%1==0}):.1>=oe&&(H=[1/oe]))),ve=0;ve<H.length&&(Z=H[ve],!(pe&&Z*oe>=S||!pe&&Ae<=(H[ve]+(H[ve+1]||H[ve]))/2));ve++);return L(Z*oe,-Math.round(Math.log(.001)/Math.LN10))},objectEach:Y,offset:function(S){var H=T.documentElement;return{top:(S=S.parentElement||S.parentNode?S.getBoundingClientRect():{top:0,left:0,width:0,height:0}).top+(w.pageYOffset||H.scrollTop)-(H.clientTop||0),left:S.left+(w.pageXOffset||H.scrollLeft)-(H.clientLeft||0),width:S.width,height:S.height}},pad:function(S,H,oe){return Array((H||2)+1-String(S).replace("-","").length).join(oe||"0")+S},pick:R,pInt:xe,relativeLength:function(S,H,oe){return/%$/.test(S)?H*parseFloat(S)/100+(oe||0):parseFloat(S)},removeEvent:se,splat:function(S){return ie(S)?S:[S]},stableSort:function(S,H){var ve,pe,oe=S.length;for(pe=0;pe<oe;pe++)S[pe].safeI=pe;for(S.sort(function(Z,Ae){return 0===(ve=H(Z,Ae))?Z.safeI-Ae.safeI:ve}),pe=0;pe<oe;pe++)delete S[pe].safeI},syncTimeout:function(S,H,oe){return 0<H?setTimeout(S,H,oe):(S.call(0,oe),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:j,useSerialIds:function(S){return U=R(S,U)},wrap:function(S,H,oe){var ve=S[H];S[H]=function(){var pe=Array.prototype.slice.call(arguments),Z=arguments,Ae=this;return Ae.proceed=function(){ve.apply(Ae,arguments.length?arguments:Z)},pe.unshift(ve),pe=oe.apply(this,pe),Ae.proceed=null,pe}}}}),Se(me,"Core/Chart/ChartDefaults.js",[],function(){return{panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},zoomBySingleTouch:!1,width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),Se(me,"Core/Color/Color.js",[me["Core/Globals.js"],me["Core/Utilities.js"]],function(ae,ce){var ge=ce.isNumber,xe=ce.merge,he=ce.pInt;return function(){function ie(re){this.rgba=[NaN,NaN,NaN,NaN],this.input=re;var B=ae.Color;return B&&B!==ie?new B(re):this instanceof ie?void this.init(re):new ie(re)}return ie.parse=function(re){return re?new ie(re):ie.None},ie.prototype.init=function(re){var B;if("object"==typeof re&&void 0!==re.stops)this.stops=re.stops.map(function(M){return new ie(M[1])});else if("string"==typeof re){if(this.input=re=ie.names[re.toLowerCase()]||re,"#"===re.charAt(0)){var Q=re.length,W=parseInt(re.substr(1),16);7===Q?B=[(16711680&W)>>16,(65280&W)>>8,255&W,1]:4===Q&&(B=[(3840&W)>>4|(3840&W)>>8,(240&W)>>4|240&W,(15&W)<<4|15&W,1])}if(!B)for(W=ie.parsers.length;W--&&!B;){var q=ie.parsers[W];(Q=q.regex.exec(re))&&(B=q.parse(Q))}}B&&(this.rgba=B)},ie.prototype.get=function(re){var B=this.input,Q=this.rgba;if("object"==typeof B&&void 0!==this.stops){var W=xe(B);return W.stops=[].slice.call(W.stops),this.stops.forEach(function(q,M){W.stops[M]=[W.stops[M][0],q.get(re)]}),W}return Q&&ge(Q[0])?"rgb"===re||!re&&1===Q[3]?"rgb("+Q[0]+","+Q[1]+","+Q[2]+")":"a"===re?""+Q[3]:"rgba("+Q.join(",")+")":B},ie.prototype.brighten=function(re){var B=this.rgba;if(this.stops)this.stops.forEach(function(W){W.brighten(re)});else if(ge(re)&&0!==re)for(var Q=0;3>Q;Q++)B[Q]+=he(255*re),0>B[Q]&&(B[Q]=0),255<B[Q]&&(B[Q]=255);return this},ie.prototype.setOpacity=function(re){return this.rgba[3]=re,this},ie.prototype.tweenTo=function(re,B){var Q=this.rgba,W=re.rgba;return ge(Q[0])&&ge(W[0])?((re=1!==W[3]||1!==Q[3])?"rgba(":"rgb(")+Math.round(W[0]+(Q[0]-W[0])*(1-B))+","+Math.round(W[1]+(Q[1]-W[1])*(1-B))+","+Math.round(W[2]+(Q[2]-W[2])*(1-B))+(re?","+(W[3]+(Q[3]-W[3])*(1-B)):"")+")":re.input||"none"},ie.names={white:"#ffffff",black:"#000000"},ie.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(re){return[he(re[1]),he(re[2]),he(re[3]),parseFloat(re[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(re){return[he(re[1]),he(re[2]),he(re[3]),1]}}],ie.None=new ie(""),ie}()}),Se(me,"Core/Color/Palettes.js",[],function(){return{colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")}}),Se(me,"Core/Time.js",[me["Core/Globals.js"],me["Core/Utilities.js"]],function(ae,ce){var ge=ae.win,xe=ce.defined,he=ce.error,ie=ce.extend,re=ce.isObject,B=ce.merge,Q=ce.objectEach,W=ce.pad,q=ce.pick,M=ce.splat,I=ce.timeUnits,R=ae.isSafari&&ge.Intl&&ge.Intl.DateTimeFormat.prototype.formatRange,V=ae.isSafari&&ge.Intl&&!ge.Intl.DateTimeFormat.prototype.formatRange;return function(){function $(L){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=ge.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(L)}return $.prototype.get=function(L,J){if(this.variableTimezone||this.timezoneOffset){var Y=J.getTime(),se=Y-this.getTimezoneOffset(J);return J.setTime(se),L=J["getUTC"+L](),J.setTime(Y),L}return this.useUTC?J["getUTC"+L]():J["get"+L]()},$.prototype.set=function(L,J,Y){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===L||"Seconds"===L||"Minutes"===L&&this.getTimezoneOffset(J)%36e5==0)return J["setUTC"+L](Y);var se=this.getTimezoneOffset(J);return se=J.getTime()-se,J.setTime(se),J["setUTC"+L](Y),L=this.getTimezoneOffset(J),se=J.getTime()+L,J.setTime(se)}return this.useUTC||R&&"FullYear"===L?J["setUTC"+L](Y):J["set"+L](Y)},$.prototype.update=function(L){var J=q(L&&L.useUTC,!0);this.options=L=B(!0,this.options||{},L),this.Date=L.Date||ge.Date||Date,this.timezoneOffset=(this.useUTC=J)&&L.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=J&&!(!L.getTimezoneOffset&&!L.timezone)},$.prototype.makeTime=function(L,J,Y,se,ee,O){if(this.useUTC){var T=this.Date.UTC.apply(0,arguments),w=this.getTimezoneOffset(T),k=this.getTimezoneOffset(T+=w);w!==k?T+=k-w:w-36e5!==this.getTimezoneOffset(T-36e5)||V||(T-=36e5)}else T=new this.Date(L,J,q(Y,1),q(se,0),q(ee,0),q(O,0)).getTime();return T},$.prototype.timezoneOffsetFunction=function(){var L=this,J=this.options,Y=J.moment||ge.moment;if(!this.useUTC)return function(se){return 6e4*new Date(se.toString()).getTimezoneOffset()};if(J.timezone){if(Y)return function(se){return 6e4*-Y.tz(se,J.timezone).utcOffset()};he(25)}return this.useUTC&&J.getTimezoneOffset?function(se){return 6e4*J.getTimezoneOffset(se.valueOf())}:function(){return 6e4*(L.timezoneOffset||0)}},$.prototype.dateFormat=function(L,J,Y){if(!xe(J)||isNaN(J))return ae.defaultOptions.lang&&ae.defaultOptions.lang.invalidDate||"";L=q(L,"%Y-%m-%d %H:%M:%S");var se=this,ee=new this.Date(J),O=this.get("Hours",ee),T=this.get("Day",ee),w=this.get("Date",ee),k=this.get("Month",ee),C=this.get("FullYear",ee),U=ae.defaultOptions.lang,j=U&&U.weekdays,S=U&&U.shortWeekdays;return ee=ie({a:S?S[T]:j[T].substr(0,3),A:j[T],d:W(w),e:W(w,2," "),w:T,b:U.shortMonths[k],B:U.months[k],m:W(k+1),o:k+1,y:C.toString().substr(2,2),Y:C,H:W(O),k:O,I:W(O%12||12),l:O%12||12,M:W(this.get("Minutes",ee)),p:12>O?"AM":"PM",P:12>O?"am":"pm",S:W(ee.getSeconds()),L:W(Math.floor(J%1e3),3)},ae.dateFormats),Q(ee,function(H,oe){for(;-1!==L.indexOf("%"+oe);)L=L.replace("%"+oe,"function"==typeof H?H.call(se,J):H)}),Y?L.substr(0,1).toUpperCase()+L.substr(1):L},$.prototype.resolveDTLFormat=function(L){return re(L,!0)?L:{main:(L=M(L))[0],from:L[1],to:L[2]}},$.prototype.getTimeTicks=function(L,J,Y,se){var U,ee=this,O=[],T={},w=new ee.Date(J),k=L.unitRange,C=L.count||1;if(se=q(se,1),xe(J)){if(ee.set("Milliseconds",w,k>=I.second?0:C*Math.floor(ee.get("Milliseconds",w)/C)),k>=I.second&&ee.set("Seconds",w,k>=I.minute?0:C*Math.floor(ee.get("Seconds",w)/C)),k>=I.minute&&ee.set("Minutes",w,k>=I.hour?0:C*Math.floor(ee.get("Minutes",w)/C)),k>=I.hour&&ee.set("Hours",w,k>=I.day?0:C*Math.floor(ee.get("Hours",w)/C)),k>=I.day&&ee.set("Date",w,k>=I.month?1:Math.max(1,C*Math.floor(ee.get("Date",w)/C))),k>=I.month){ee.set("Month",w,k>=I.year?0:C*Math.floor(ee.get("Month",w)/C));var j=ee.get("FullYear",w)}k>=I.year&&ee.set("FullYear",w,j-j%C),k===I.week&&(j=ee.get("Day",w),ee.set("Date",w,ee.get("Date",w)-j+se+(j<se?-7:0))),j=ee.get("FullYear",w),se=ee.get("Month",w);var S=ee.get("Date",w),H=ee.get("Hours",w);for(J=w.getTime(),!ee.variableTimezone&&ee.useUTC||!xe(Y)||(U=Y-J>4*I.month||ee.getTimezoneOffset(J)!==ee.getTimezoneOffset(Y)),J=w.getTime(),w=1;J<Y;)O.push(J),J=k===I.year?ee.makeTime(j+w*C,0):k===I.month?ee.makeTime(j,se+w*C):!U||k!==I.day&&k!==I.week?U&&k===I.hour&&1<C?ee.makeTime(j,se,S,H+w*C):J+k*C:ee.makeTime(j,se,S+w*C*(k===I.day?1:7)),w++;O.push(J),k<=I.hour&&1e4>O.length&&O.forEach(function(oe){oe%18e5==0&&"000000000"===ee.dateFormat("%H%M%S%L",oe)&&(T[oe]="day")})}return O.info=ie(L,{higherRanks:T,totalRange:k*C}),O},$.prototype.getDateFormat=function(L,J,Y,se){var ee=this.dateFormat("%m-%d %H:%M:%S.%L",J),O={millisecond:15,second:12,minute:9,hour:6,day:3},T="millisecond";for(w in I){if(L===I.week&&+this.dateFormat("%w",J)===Y&&"00:00:00.000"===ee.substr(6)){var w="week";break}if(I[w]>L){w=T;break}if(O[w]&&ee.substr(O[w])!=="01-01 00:00:00.000".substr(O[w]))break;"week"!==w&&(T=w)}if(w)var k=this.resolveDTLFormat(se[w]).main;return k},$}()}),Se(me,"Core/DefaultOptions.js",[me["Core/Chart/ChartDefaults.js"],me["Core/Color/Color.js"],me["Core/Globals.js"],me["Core/Color/Palettes.js"],me["Core/Time.js"],me["Core/Utilities.js"]],function(ae,ce,ge,xe,he,ie){ce=ce.parse;var re=ie.merge,B={colors:xe.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:ae,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:ge.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:ge.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:ce("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};B.chart.styledMode=!1;var Q=new he(re(B.global,B.time));return{defaultOptions:B,defaultTime:Q,getOptions:function(){return B},setOptions:function(W){return re(!0,B,W),(W.time||W.global)&&(ge.time?ge.time.update(re(B.global,B.time,W.global,W.time)):ge.time=Q),B}}}),Se(me,"Core/Animation/Fx.js",[me["Core/Color/Color.js"],me["Core/Globals.js"],me["Core/Utilities.js"]],function(ae,ce,ge){var xe=ae.parse,he=ce.win,ie=ge.isNumber,re=ge.objectEach;return function(){function B(Q,W,q){this.pos=NaN,this.options=W,this.elem=Q,this.prop=q}return B.prototype.dSetter=function(){var Q=this.paths,W=Q&&Q[0];Q=Q&&Q[1];var q=this.now||0,M=[];if(1!==q&&W&&Q)if(W.length===Q.length&&1>q)for(var I=0;I<Q.length;I++){for(var R=W[I],V=Q[I],$=[],L=0;L<V.length;L++){var J=R[L],Y=V[L];$[L]=ie(J)&&ie(Y)&&("A"!==V[0]||4!==L&&5!==L)?J+q*(Y-J):Y}M.push($)}else M=Q;else M=this.toD||[];this.elem.attr("d",M,void 0,!0)},B.prototype.update=function(){var Q=this.elem,W=this.prop,q=this.now,M=this.options.step;this[W+"Setter"]?this[W+"Setter"]():Q.attr?Q.element&&Q.attr(W,q,null,!0):Q.style[W]=q+this.unit,M&&M.call(Q,q,this)},B.prototype.run=function(Q,W,q){var M=this,I=M.options,R=function(L){return!R.stopped&&M.step(L)},V=he.requestAnimationFrame||function(L){setTimeout(L,13)},$=function(){for(var L=0;L<B.timers.length;L++)B.timers[L]()||B.timers.splice(L--,1);B.timers.length&&V($)};Q!==W||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=Q,this.end=W,this.unit=q,this.now=this.start,this.pos=0,R.elem=this.elem,R.prop=this.prop,R()&&1===B.timers.push(R)&&V($)):(delete I.curAnim[this.prop],I.complete&&0===Object.keys(I.curAnim).length&&I.complete.call(this.elem))},B.prototype.step=function(Q){var W=+new Date,q=this.options,M=this.elem,I=q.complete,R=q.duration,V=q.curAnim;if(M.attr&&!M.element)Q=!1;else if(Q||W>=R+this.startTime){this.now=this.end,this.pos=1,this.update();var $=V[this.prop]=!0;re(V,function(L){!0!==L&&($=!1)}),$&&I&&I.call(M),Q=!1}else this.pos=q.easing((W-this.startTime)/R),this.now=this.start+(this.end-this.start)*this.pos,this.update(),Q=!0;return Q},B.prototype.initPath=function(Q,W,q){function M(ee,O){for(;ee.length<se;){var T=ee[0],w=O[se-ee.length];w&&"M"===T[0]&&(ee[0]="C"===w[0]?["C",T[1],T[2],T[1],T[2],T[1],T[2]]:["L",T[1],T[2]]),ee.unshift(T),$&&(T=ee.pop(),ee.push(ee[ee.length-1],T))}}function I(ee,O){for(;ee.length<se;)if("C"===(O=ee[Math.floor(ee.length/L)-1].slice())[0]&&(O[1]=O[5],O[2]=O[6]),$){var T=ee[Math.floor(ee.length/L)].slice();ee.splice(ee.length/2,0,O,T)}else ee.push(O)}var R=Q.startX,V=Q.endX;q=q.slice();var $=Q.isArea,L=$?2:1;if(!(W=W&&W.slice()))return[q,q];if(R&&V&&V.length){for(Q=0;Q<R.length;Q++){if(R[Q]===V[0]){var J=Q;break}if(R[0]===V[V.length-R.length+Q]){J=Q;var Y=!0;break}if(R[R.length-1]===V[V.length-R.length+Q]){J=R.length-Q;break}}void 0===J&&(W=[])}if(W.length&&ie(J)){var se=q.length+J*L;Y?(M(W,q),I(q,W)):(M(q,W),I(W,q))}return[W,q]},B.prototype.fillSetter=function(){B.prototype.strokeSetter.apply(this,arguments)},B.prototype.strokeSetter=function(){this.elem.attr(this.prop,xe(this.start).tweenTo(xe(this.end),this.pos),null,!0)},B.timers=[],B}()}),Se(me,"Core/Animation/AnimationUtilities.js",[me["Core/Animation/Fx.js"],me["Core/Utilities.js"]],function(ae,ce){function ge(I){return Q(I)?W({duration:500,defer:0},I):{duration:I?500:0,defer:0}}function xe(I,R){for(var V=ae.timers.length;V--;)ae.timers[V].elem!==I||R&&R!==ae.timers[V].prop||(ae.timers[V].stopped=!0)}var he=ce.defined,ie=ce.getStyle,re=ce.isArray,B=ce.isNumber,Q=ce.isObject,W=ce.merge,q=ce.objectEach,M=ce.pick;return{animate:function(I,R,V){var $,J,Y,L="";if(!Q(V)){var se=arguments;V={duration:se[2],easing:se[3],complete:se[4]}}B(V.duration)||(V.duration=400),V.easing="function"==typeof V.easing?V.easing:Math[V.easing]||Math.easeInOutSine,V.curAnim=W(R),q(R,function(ee,O){xe(I,O),Y=new ae(I,V,O),J=void 0,"d"===O&&re(R.d)?(Y.paths=Y.initPath(I,I.pathArray,R.d),Y.toD=R.d,$=0,J=1):I.attr?$=I.attr(O):($=parseFloat(ie(I,O))||0,"opacity"!==O&&(L="px")),J||(J=ee),"string"==typeof J&&J.match("px")&&(J=J.replace(/px/g,"")),Y.run($,J,L)})},animObject:ge,getDeferredAnimation:function(I,R,V){var $=ge(R),L=0,J=0;return(V?[V]:I.series).forEach(function(Y){Y=ge(Y.options.animation),L=R&&he(R.defer)?$.defer:Math.max(L,Y.duration+Y.defer),J=Math.min($.duration,Y.duration)}),I.renderer.forExport&&(L=0),{defer:Math.max(0,L-J),duration:Math.min(L,J)}},setAnimation:function(I,R){R.renderer.globalAnimation=M(I,R.options.chart.animation,!0)},stop:xe}}),Se(me,"Core/Renderer/HTML/AST.js",[me["Core/Globals.js"],me["Core/Utilities.js"]],function(ae,ce){var ge=ae.SVG_NS,xe=ce.attr,he=ce.createElement,ie=ce.discardElement,re=ce.error,B=ce.isString,Q=ce.objectEach,W=ce.splat;try{var q=!!(new DOMParser).parseFromString("","text/html")}catch(M){q=!1}return function(){function M(I){this.nodes="string"==typeof I?this.parseMarkup(I):I}return M.filterUserAttributes=function(I){return Q(I,function(R,V){var $=!0;-1===M.allowedAttributes.indexOf(V)&&($=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(V)&&($=B(R)&&M.allowedReferences.some(function(L){return 0===R.indexOf(L)})),$||(re("Highcharts warning: Invalid attribute '"+V+"' in config"),delete I[V])}),I},M.setElementHTML=function(I,R){I.innerHTML="",R&&new M(R).addToDOM(I)},M.prototype.addToDOM=function(I){return function R(V,$){var L;return W(V).forEach(function(J){var Y=J.tagName,se=J.textContent?ae.doc.createTextNode(J.textContent):void 0;if(Y)if("#text"===Y)var ee=se;else if(-1!==M.allowedTags.indexOf(Y)){Y=ae.doc.createElementNS("svg"===Y?ge:$.namespaceURI||ge,Y);var O=J.attributes||{};Q(J,function(T,w){"tagName"!==w&&"attributes"!==w&&"children"!==w&&"textContent"!==w&&(O[w]=T)}),xe(Y,M.filterUserAttributes(O)),se&&Y.appendChild(se),R(J.children||[],Y),ee=Y}else re("Highcharts warning: Invalid tagName '"+Y+"' in config");ee&&$.appendChild(ee),L=ee}),L}(this.nodes,I)},M.prototype.parseMarkup=function(I){var R=[];if(I=I.trim(),q)I=(new DOMParser).parseFromString(I,"text/html");else{var V=he("div");V.innerHTML=I,I={body:V}}var $=function(L,J){var Y=L.nodeName.toLowerCase(),se={tagName:Y};if("#text"===Y&&(se.textContent=L.textContent||""),Y=L.attributes){var ee={};[].forEach.call(Y,function(T){ee[T.name]=T.value}),se.attributes=ee}if(L.childNodes.length){var O=[];[].forEach.call(L.childNodes,function(T){$(T,O)}),O.length&&(se.children=O)}J.push(se)};return[].forEach.call(I.body.childNodes,function(L){return $(L,R)}),V&&ie(V),R},M.allowedAttributes="aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align textAnchor textLength title type valign width x x1 x2 y y1 y2 zIndex".split(" "),M.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),M.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text thead tbody tspan td th tr u ul #text".split(" "),M}()}),Se(me,"Core/FormatUtilities.js",[me["Core/DefaultOptions.js"],me["Core/Utilities.js"]],function(ae,ce){function ge(W,q,M,I){q=+q;var R=xe.lang,V=((W=+W||0).toString().split(".")[1]||"").split("e")[0].length,$=W.toString().split("e"),L=q;if(-1===q)q=Math.min(V,20);else if(re(q)){if(q&&$[1]&&0>$[1]){var J=q+ +$[1];0<=J?($[0]=(+$[0]).toExponential(J).split("e")[0],q=J):($[0]=$[0].split(".")[0]||0,W=20>q?($[0]*Math.pow(10,$[1])).toFixed(q):0,$[1]=0)}}else q=2;J=(Math.abs($[1]?$[0]:W)+Math.pow(10,-Math.max(q,V)-1)).toFixed(q);var Y=3<(V=String(Q(J))).length?V.length%3:0;return M=B(M,R.decimalPoint),I=B(I,R.thousandsSep),W=(0>W?"-":"")+(Y?V.substr(0,Y)+I:""),W=0>+$[1]&&!L?"0":W+V.substr(Y).replace(/(\d{3})(?=\d)/g,"$1"+I),q&&(W+=M+J.slice(-q)),$[1]&&0!=+W&&(W+="e"+$[1]),W}var xe=ae.defaultOptions,he=ae.defaultTime,ie=ce.getNestedProperty,re=ce.isNumber,B=ce.pick,Q=ce.pInt;return{dateFormat:function(W,q,M){return he.dateFormat(W,q,M)},format:function(W,q,M){var I="{",R=!1,V=/f$/,$=/\.([0-9])/,L=xe.lang,J=M&&M.time||he;M=M&&M.numberFormatter||ge;for(var Y=[];W;){var se=W.indexOf(I);if(-1===se)break;var ee=W.slice(0,se);if(R){if(ee=ee.split(":"),I=ie(ee.shift()||"",q),ee.length&&"number"==typeof I)if(ee=ee.join(":"),V.test(ee)){var O=parseInt((ee.match($)||["","-1"])[1],10);null!==I&&(I=M(I,O,L.decimalPoint,-1<ee.indexOf(",")?L.thousandsSep:""))}else I=J.dateFormat(ee,I);Y.push(I)}else Y.push(ee);W=W.slice(se+1),I=(R=!R)?"}":"{"}return Y.push(W),Y.join("")},numberFormat:ge}}),Se(me,"Core/Renderer/RendererUtilities.js",[me["Core/Utilities.js"]],function(ae){var he,ce=ae.clamp,ge=ae.pick,xe=ae.stableSort;return(he||(he={})).distribute=function re(B,Q,W){var V,q=B,M=q.reducedLen||Q,I=function(Y,se){return(se.rank||0)-(Y.rank||0)},R=function(Y,se){return Y.target-se.target},$=!0,L=[],J=0;for(V=B.length;V--;)J+=B[V].size;if(J>M){for(xe(B,I),J=V=0;J<=M;)J+=B[V].size,V++;L=B.splice(V-1,B.length)}for(xe(B,R),B=B.map(function(Y){return{size:Y.size,targets:[Y.target],align:ge(Y.align,.5)}});$;){for(V=B.length;V--;)M=B[V],I=(Math.min.apply(0,M.targets)+Math.max.apply(0,M.targets))/2,M.pos=ce(I-M.size*M.align,0,Q-M.size);for(V=B.length,$=!1;V--;)0<V&&B[V-1].pos+B[V-1].size>B[V].pos&&(B[V-1].size+=B[V].size,B[V-1].targets=B[V-1].targets.concat(B[V].targets),B[V-1].align=.5,B[V-1].pos+B[V-1].size>Q&&(B[V-1].pos=Q-B[V-1].size),B.splice(V,1),$=!0)}return q.push.apply(q,L),V=0,B.some(function(Y){var se=0;return(Y.targets||[]).some(function(){return q[V].pos=Y.pos+se,void 0!==W&&Math.abs(q[V].pos-q[V].target)>W?(q.slice(0,V+1).forEach(function(ee){return delete ee.pos}),q.reducedLen=(q.reducedLen||Q)-.1*Q,q.reducedLen>.1*Q&&re(q,Q,W),!0):(se+=q[V].size,V++,!1)})}),xe(q,R),q},he}),Se(me,"Core/Renderer/SVG/SVGElement.js",[me["Core/Animation/AnimationUtilities.js"],me["Core/Renderer/HTML/AST.js"],me["Core/Color/Color.js"],me["Core/Globals.js"],me["Core/Utilities.js"]],function(ae,ce,ge,xe,he){var ie=ae.animate,re=ae.animObject,B=ae.stop,Q=xe.deg2rad,W=xe.doc,q=xe.noop,M=xe.svg,I=xe.SVG_NS,R=xe.win,V=he.addEvent,$=he.attr,L=he.createElement,J=he.css,Y=he.defined,se=he.erase,ee=he.extend,O=he.fireEvent,T=he.isArray,w=he.isFunction,k=he.isNumber,C=he.isString,U=he.merge,j=he.objectEach,S=he.pick,H=he.pInt,oe=he.syncTimeout,ve=he.uniqueKey;return(ae=function(){function pe(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=I,this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" ")}return pe.prototype._defaultGetter=function(Z){return Z=S(this[Z+"Value"],this[Z],this.element?this.element.getAttribute(Z):null,0),/^[\-0-9\.]+$/.test(Z)&&(Z=parseFloat(Z)),Z},pe.prototype._defaultSetter=function(Z,Ae,D){D.setAttribute(Ae,Z)},pe.prototype.add=function(Z){var Ae=this.renderer,D=this.element;if(Z&&(this.parentGroup=Z),this.parentInverted=Z&&Z.inverted,void 0!==this.textStr&&"text"===this.element.nodeName&&Ae.buildText(this),this.added=!0,!Z||Z.handleZ||this.zIndex)var P=this.zIndexSetter();return P||(Z?Z.element:Ae.box).appendChild(D),this.onAdd&&this.onAdd(),this},pe.prototype.addClass=function(Z,Ae){var D=Ae?"":this.attr("class")||"";return(Z=(Z||"").split(/ /g).reduce(function(P,X){return-1===D.indexOf(X)&&P.push(X),P},D?[D]:[]).join(" "))!==D&&this.attr("class",Z),this},pe.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},pe.prototype.align=function(Z,Ae,D){var ye,Te,N,P={},X=this.renderer,_e=X.alignedObjects;Z?(this.alignOptions=Z,this.alignByTranslate=Ae,(!D||C(D))&&(this.alignTo=ye=D||"renderer",se(_e,this),_e.push(this),D=void 0)):(Z=this.alignOptions,Ae=this.alignByTranslate,ye=this.alignTo),D=S(D,X[ye],"scrollablePlotBox"===ye?X.plotBox:void 0,X);var de=Z.verticalAlign;return X=(D.x||0)+(Z.x||0),_e=(D.y||0)+(Z.y||0),"right"===(ye=Z.align)?Te=1:"center"===ye&&(Te=2),Te&&(X+=(D.width-(Z.width||0))/Te),P[Ae?"translateX":"x"]=Math.round(X),"bottom"===de?N=1:"middle"===de&&(N=2),N&&(_e+=(D.height-(Z.height||0))/N),P[Ae?"translateY":"y"]=Math.round(_e),this[this.placed?"animate":"attr"](P),this.placed=!0,this.alignAttr=P,this},pe.prototype.alignSetter=function(Z){var Ae={left:"start",center:"middle",right:"end"};Ae[Z]&&(this.alignValue=Z,this.element.setAttribute("text-anchor",Ae[Z]))},pe.prototype.animate=function(Z,Ae,D){var P=this,X=re(S(Ae,this.renderer.globalAnimation,!0));return Ae=X.defer,S(W.hidden,W.msHidden,W.webkitHidden,!1)&&(X.duration=0),0!==X.duration?(D&&(X.complete=D),oe(function(){P.element&&ie(P,Z,X)},Ae)):(this.attr(Z,void 0,D),j(Z,function(_e,ye){X.step&&X.step.call(this,_e,{prop:ye,pos:1,elem:this})},this)),this},pe.prototype.applyTextOutline=function(Z){var Ae=this.element;-1!==Z.indexOf("contrast")&&(Z=Z.replace(/contrast/g,this.renderer.getContrast(Ae.style.fill)));var D=Z.split(" ");if(Z=D[D.length-1],(D=D[0])&&"none"!==D&&xe.svg){this.fakeTS=!0,this.ySetter=this.xSetter,D=D.replace(/(^[\d\.]+)(.*?)$/g,function(_e,ye,Te){return 2*Number(ye)+Te}),this.removeTextOutline();var P=W.createElementNS(I,"tspan");$(P,{class:"highcharts-text-outline",fill:Z,stroke:Z,"stroke-width":D,"stroke-linejoin":"round"}),[].forEach.call(Ae.childNodes,function(_e){var ye=_e.cloneNode(!0);ye.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(function(Te){return ye.removeAttribute(Te)}),P.appendChild(ye)});var X=W.createElementNS(I,"tspan");X.textContent="\u200b",["x","y"].forEach(function(_e){var ye=Ae.getAttribute(_e);ye&&X.setAttribute(_e,ye)}),P.appendChild(X),Ae.insertBefore(P,Ae.firstChild)}},pe.prototype.attr=function(Z,Ae,D,P){var ye,N,de,X=this.element,_e=this.symbolCustomAttribs,Te=this;if("string"==typeof Z&&void 0!==Ae){var te=Z;(Z={})[te]=Ae}return"string"==typeof Z?Te=(this[Z+"Getter"]||this._defaultGetter).call(this,Z,X):(j(Z,function(be,Ce){N=!1,P||B(this,Ce),this.symbolName&&-1!==_e.indexOf(Ce)&&(ye||(this.symbolAttr(Z),ye=!0),N=!0),!this.rotation||"x"!==Ce&&"y"!==Ce||(this.doTransform=!0),N||((de=this[Ce+"Setter"]||this._defaultSetter).call(this,be,Ce,X),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(Ce)&&this.updateShadows(Ce,be,de))},this),this.afterSetters()),D&&D.call(this),Te},pe.prototype.clip=function(Z){return this.attr("clip-path",Z?"url("+this.renderer.url+"#"+Z.id+")":"none")},pe.prototype.crisp=function(Z,Ae){Ae=Ae||Z.strokeWidth||0;var D=Math.round(Ae)%2/2;return Z.x=Math.floor(Z.x||this.x||0)+D,Z.y=Math.floor(Z.y||this.y||0)+D,Z.width=Math.floor((Z.width||this.width||0)-2*D),Z.height=Math.floor((Z.height||this.height||0)-2*D),Y(Z.strokeWidth)&&(Z.strokeWidth=Ae),Z},pe.prototype.complexColor=function(Z,Ae,D){var X,_e,ye,Te,N,de,te,be,Ce,Le,ze,P=this.renderer,Oe=[];O(this.renderer,"complexColor",{args:arguments},function(){if(Z.radialGradient?_e="radialGradient":Z.linearGradient&&(_e="linearGradient"),_e){if(N=P.gradients,de=Z.stops,Ce=D.radialReference,T(ye=Z[_e])&&(Z[_e]=ye={x1:ye[0],y1:ye[1],x2:ye[2],y2:ye[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===_e&&Ce&&!Y(ye.gradientUnits)&&(ye=U(ye,P.getRadialAttr(Ce,Te=ye),{gradientUnits:"userSpaceOnUse"})),j(ye,function(it,lt){"id"!==lt&&Oe.push(lt,it)}),j(de,function(it){Oe.push(it)}),Oe=Oe.join(","),N[Oe])Le=N[Oe].attr("id");else{ye.id=Le=ve();var Ne=N[Oe]=P.createElement(_e).attr(ye).add(P.defs);Ne.radAttr=Te,Ne.stops=[],de.forEach(function(it){0===it[1].indexOf("rgba")?(X=ge.parse(it[1]),te=X.get("rgb"),be=X.get("a")):(te=it[1],be=1),it=P.createElement("stop").attr({offset:it[0],"stop-color":te,"stop-opacity":be}).add(Ne),Ne.stops.push(it)})}D.setAttribute(Ae,ze="url("+P.url+"#"+Le+")"),D.gradient=Oe,Z.toString=function(){return ze}}})},pe.prototype.css=function(Z){var Ae=this.styles,D={},P=this.element,X=["textOutline","textOverflow","width"],_e="",ye=!Ae;if(Z&&Z.color&&(Z.fill=Z.color),Ae&&j(Z,function(de,te){Ae&&Ae[te]!==de&&(D[te]=de,ye=!0)}),ye){if(Ae&&(Z=ee(Ae,D)),Z)if(null===Z.width||"auto"===Z.width)delete this.textWidth;else if("text"===P.nodeName.toLowerCase()&&Z.width)var Te=this.textWidth=H(Z.width);if(this.styles=Z,Te&&!M&&this.renderer.forExport&&delete Z.width,P.namespaceURI===this.SVG_NS){var N=function(de,te){return"-"+te.toLowerCase()};j(Z,function(de,te){-1===X.indexOf(te)&&(_e+=te.replace(/([A-Z])/g,N)+":"+de+";")}),_e&&$(P,"style",_e)}else J(P,Z);this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),Z&&Z.textOutline&&this.applyTextOutline(Z.textOutline))}return this},pe.prototype.dashstyleSetter=function(Z){var Ae=this["stroke-width"];if("inherit"===Ae&&(Ae=1),Z=Z&&Z.toLowerCase()){var D=Z.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(Z=D.length;Z--;)D[Z]=""+H(D[Z])*S(Ae,NaN);Z=D.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",Z)}},pe.prototype.destroy=function(){var Z=this,Ae=Z.element||{},D=Z.renderer,P=Ae.ownerSVGElement,X=D.isSVG&&"SPAN"===Ae.nodeName&&Z.parentGroup||void 0;if(Ae.onclick=Ae.onmouseout=Ae.onmouseover=Ae.onmousemove=Ae.point=null,B(Z),Z.clipPath&&P){var _e=Z.clipPath;[].forEach.call(P.querySelectorAll("[clip-path],[CLIP-PATH]"),function(ye){-1<ye.getAttribute("clip-path").indexOf(_e.element.id)&&ye.removeAttribute("clip-path")}),Z.clipPath=_e.destroy()}if(Z.stops){for(P=0;P<Z.stops.length;P++)Z.stops[P].destroy();Z.stops.length=0,Z.stops=void 0}for(Z.safeRemoveChild(Ae),D.styledMode||Z.destroyShadows();X&&X.div&&0===X.div.childNodes.length;)Ae=X.parentGroup,Z.safeRemoveChild(X.div),delete X.div,X=Ae;Z.alignTo&&se(D.alignedObjects,Z),j(Z,function(ye,Te){Z[Te]&&Z[Te].parentGroup===Z&&Z[Te].destroy&&Z[Te].destroy(),delete Z[Te]})},pe.prototype.destroyShadows=function(){(this.shadows||[]).forEach(function(Z){this.safeRemoveChild(Z)},this),this.shadows=void 0},pe.prototype.destroyTextPath=function(Z,Ae){var D=Z.getElementsByTagName("text")[0];if(D){if(D.removeAttribute("dx"),D.removeAttribute("dy"),Ae.element.setAttribute("id",""),this.textPathWrapper&&D.getElementsByTagName("textPath").length){for(Z=this.textPathWrapper.element.childNodes;Z.length;)D.appendChild(Z[0]);D.removeChild(this.textPathWrapper.element)}}else(Z.getAttribute("dx")||Z.getAttribute("dy"))&&(Z.removeAttribute("dx"),Z.removeAttribute("dy"));this.textPathWrapper&&(this.textPathWrapper=this.textPathWrapper.destroy())},pe.prototype.dSetter=function(Z,Ae,D){T(Z)&&("string"==typeof Z[0]&&(Z=this.renderer.pathToSegments(Z)),this.pathArray=Z,Z=Z.reduce(function(P,X,_e){return X&&X.join?(_e?P+" ":"")+X.join(" "):(X||"").toString()},"")),/(NaN| {2}|^$)/.test(Z)&&(Z="M 0 0"),this[Ae]!==Z&&(D.setAttribute(Ae,Z),this[Ae]=Z)},pe.prototype.fadeOut=function(Z){var Ae=this;Ae.animate({opacity:0},{duration:S(Z,150),complete:function(){Ae.attr({y:-9999}).hide()}})},pe.prototype.fillSetter=function(Z,Ae,D){"string"==typeof Z?D.setAttribute(Ae,Z):Z&&this.complexColor(Z,Ae,D)},pe.prototype.getBBox=function(Z,Ae){var D=this.renderer,P=this.element,X=this.styles,_e=this.textStr,ye=D.cache,Te=D.cacheKeys,N=P.namespaceURI===this.SVG_NS;Ae=S(Ae,this.rotation,0);var te,de=D.styledMode?P&&pe.prototype.getStyle.call(P,"font-size"):X&&X.fontSize;if(Y(_e)){var be=_e.toString();-1===be.indexOf("<")&&(be=be.replace(/[0-9]/g,"0")),be+=["",Ae,de,this.textWidth,X&&X.textOverflow,X&&X.fontWeight].join()}if(be&&!Z&&(te=ye[be]),!te){if(N||D.forExport){try{var Ce=this.fakeTS&&function(Le){var Oe=P.querySelector(".highcharts-text-outline");Oe&&J(Oe,{display:Le})};w(Ce)&&Ce("none"),te=P.getBBox?ee({},P.getBBox()):{width:P.offsetWidth,height:P.offsetHeight},w(Ce)&&Ce("")}catch(Le){}(!te||0>te.width)&&(te={width:0,height:0})}else te=this.htmlGetBBox();if(D.isSVG&&(Z=te.width,D=te.height,N&&(te.height=D={"11px,17":14,"13px,20":16}[X&&X.fontSize+","+Math.round(D)]||D),Ae&&(X=Ae*Q,te.width=Math.abs(D*Math.sin(X))+Math.abs(Z*Math.cos(X)),te.height=Math.abs(D*Math.cos(X))+Math.abs(Z*Math.sin(X)))),be&&(""===_e||0<te.height)){for(;250<Te.length;)delete ye[Te.shift()];ye[be]||Te.push(be),ye[be]=te}}return te},pe.prototype.getStyle=function(Z){return R.getComputedStyle(this.element||this,"").getPropertyValue(Z)},pe.prototype.hasClass=function(Z){return-1!==(""+this.attr("class")).split(" ").indexOf(Z)},pe.prototype.hide=function(Z){return this.attr(Z?{y:-9999}:{visibility:"hidden"}),this},pe.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},pe.prototype.init=function(Z,Ae){this.element="span"===Ae?L(Ae):W.createElementNS(this.SVG_NS,Ae),this.renderer=Z,O(this,"afterInit")},pe.prototype.invert=function(Z){return this.inverted=Z,this.updateTransform(),this},pe.prototype.on=function(Z,Ae){var D=this.onEvents;return D[Z]&&D[Z](),D[Z]=V(this.element,Z,Ae),this},pe.prototype.opacitySetter=function(Z,Ae,D){this.opacity=Z=Number(Number(Z).toFixed(3)),D.setAttribute(Ae,Z)},pe.prototype.removeClass=function(Z){return this.attr("class",(""+this.attr("class")).replace(C(Z)?new RegExp("(^| )"+Z+"( |$)"):Z," ").replace(/ +/g," ").trim())},pe.prototype.removeTextOutline=function(){var Z=this.element.querySelector("tspan.highcharts-text-outline");Z&&this.safeRemoveChild(Z)},pe.prototype.safeRemoveChild=function(Z){var Ae=Z.parentNode;Ae&&Ae.removeChild(Z)},pe.prototype.setRadialReference=function(Z){var Ae=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=Z,Ae&&Ae.radAttr&&Ae.animate(this.renderer.getRadialAttr(Z,Ae.radAttr)),this},pe.prototype.setTextPath=function(Z,Ae){var D=this.element,P=this.text?this.text.element:D,X={textAnchor:"text-anchor"},_e=!1,ye=this.textPathWrapper,Te=!ye;Ae=U(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},Ae);var N=ce.filterUserAttributes(Ae.attributes);if(Z&&Ae&&Ae.enabled){ye&&null===ye.element.parentNode?(Te=!0,ye=ye.destroy()):ye&&this.removeTextOutline.call(ye.parentGroup),this.options&&this.options.padding&&(N.dx=-this.options.padding),ye||(this.textPathWrapper=ye=this.renderer.createElement("textPath"),_e=!0);var de=ye.element;if((Ae=Z.element.getAttribute("id"))||Z.element.setAttribute("id",Ae=ve()),Te)for(P.setAttribute("y",0),k(N.dx)&&P.setAttribute("x",-N.dx),Z=[].slice.call(P.childNodes),Te=0;Te<Z.length;Te++){var te=Z[Te];te.nodeType!==R.Node.TEXT_NODE&&"tspan"!==te.nodeName||de.appendChild(te)}_e&&ye&&ye.add({element:P}),de.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+Ae),Y(N.dy)&&(de.parentNode.setAttribute("dy",N.dy),delete N.dy),Y(N.dx)&&(de.parentNode.setAttribute("dx",N.dx),delete N.dx),j(N,function(be,Ce){de.setAttribute(X[Ce]||Ce,be)}),D.removeAttribute("transform"),this.removeTextOutline.call(ye),this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0}),this.applyTextOutline=this.updateTransform=q}else ye&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(D,Z),this.updateTransform(),this.options&&this.options.rotation&&this.applyTextOutline(this.options.style.textOutline));return this},pe.prototype.shadow=function(Z,Ae,D){var N,P=[],X=this.element,_e=this.oldShadowOptions,ye={color:"#000000",offsetX:this.parentInverted?-1:1,offsetY:this.parentInverted?-1:1,opacity:.15,width:3},Te=!1;if(!0===Z?N=ye:"object"==typeof Z&&(N=ee(ye,Z)),N&&(N&&_e&&j(N,function(Le,Oe){Le!==_e[Oe]&&(Te=!0)}),Te&&this.destroyShadows(),this.oldShadowOptions=N),N){if(!this.shadows){var de=N.opacity/N.width,te=this.parentInverted?"translate("+N.offsetY+", "+N.offsetX+")":"translate("+N.offsetX+", "+N.offsetY+")";for(ye=1;ye<=N.width;ye++){var be=X.cloneNode(!1),Ce=2*N.width+1-2*ye;$(be,{stroke:Z.color||"#000000","stroke-opacity":de*ye,"stroke-width":Ce,transform:te,fill:"none"}),be.setAttribute("class",(be.getAttribute("class")||"")+" highcharts-shadow"),D&&($(be,"height",Math.max($(be,"height")-Ce,0)),be.cutHeight=Ce),Ae?Ae.element.appendChild(be):X.parentNode&&X.parentNode.insertBefore(be,X),P.push(be)}this.shadows=P}}else this.destroyShadows();return this},pe.prototype.show=function(Z){return this.attr({visibility:Z?"inherit":"visible"})},pe.prototype.strokeSetter=function(Z,Ae,D){this[Ae]=Z,this.stroke&&this["stroke-width"]?(pe.prototype.fillSetter.call(this,this.stroke,"stroke",D),D.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===Ae&&0===Z&&this.hasStroke?(D.removeAttribute("stroke"),this.hasStroke=!1):this.renderer.styledMode&&this["stroke-width"]&&(D.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0)},pe.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var Z=this.getStyle("stroke-width"),Ae=0;if(Z.indexOf("px")===Z.length-2)Ae=H(Z);else if(""!==Z){var D=W.createElementNS(I,"rect");$(D,{width:Z,"stroke-width":0}),this.element.parentNode.appendChild(D),Ae=D.getBBox().width,D.parentNode.removeChild(D)}return Ae},pe.prototype.symbolAttr=function(Z){var Ae=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(D){Ae[D]=S(Z[D],Ae[D])}),Ae.attr({d:Ae.renderer.symbols[Ae.symbolName](Ae.x,Ae.y,Ae.width,Ae.height,Ae)})},pe.prototype.textSetter=function(Z){Z!==this.textStr&&(delete this.textPxLength,this.textStr=Z,this.added&&this.renderer.buildText(this))},pe.prototype.titleSetter=function(Z){var Ae=this.element,D=Ae.getElementsByTagName("title")[0]||W.createElementNS(this.SVG_NS,"title");Ae.insertBefore?Ae.insertBefore(D,Ae.firstChild):Ae.appendChild(D),D.textContent=String(S(Z,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")},pe.prototype.toFront=function(){var Z=this.element;return Z.parentNode.appendChild(Z),this},pe.prototype.translate=function(Z,Ae){return this.attr({translateX:Z,translateY:Ae})},pe.prototype.updateShadows=function(Z,Ae,D){var P=this.shadows;if(P)for(var X=P.length;X--;)D.call(P[X],"height"===Z?Math.max(Ae-(P[X].cutHeight||0),0):"d"===Z?this.d:Ae,Z,P[X])},pe.prototype.updateTransform=function(){var Z=this.scaleX,Ae=this.scaleY,D=this.inverted,P=this.rotation,X=this.matrix,_e=this.element,ye=this.translateX||0,Te=this.translateY||0;D&&(ye+=this.width,Te+=this.height),ye=["translate("+ye+","+Te+")"],Y(X)&&ye.push("matrix("+X.join(",")+")"),D?ye.push("rotate(90) scale(-1,1)"):P&&ye.push("rotate("+P+" "+S(this.rotationOriginX,_e.getAttribute("x"),0)+" "+S(this.rotationOriginY,_e.getAttribute("y")||0)+")"),(Y(Z)||Y(Ae))&&ye.push("scale("+S(Z,1)+" "+S(Ae,1)+")"),ye.length&&_e.setAttribute("transform",ye.join(" "))},pe.prototype.visibilitySetter=function(Z,Ae,D){"inherit"===Z?D.removeAttribute(Ae):this[Ae]!==Z&&D.setAttribute(Ae,Z),this[Ae]=Z},pe.prototype.xGetter=function(Z){return"circle"===this.element.nodeName&&("x"===Z?Z="cx":"y"===Z&&(Z="cy")),this._defaultGetter(Z)},pe.prototype.zIndexSetter=function(Z,Ae){var D=this.renderer,P=this.parentGroup,X=(P||D).element||D.box,_e=this.element;D=X===D.box;var N,ye=!1,Te=this.added;if(Y(Z)?(_e.setAttribute("data-z-index",Z),this[Ae]===(Z=+Z)&&(Te=!1)):Y(this[Ae])&&_e.removeAttribute("data-z-index"),this[Ae]=Z,Te){for((Z=this.zIndex)&&P&&(P.handleZ=!0),N=(Ae=X.childNodes).length-1;0<=N&&!ye;N--){Te=(P=Ae[N]).getAttribute("data-z-index");var de=!Y(Te);P!==_e&&(0>Z&&de&&!D&&!N?(X.insertBefore(_e,Ae[N]),ye=!0):(H(Te)<=Z||de&&(!Y(Z)||0<=Z))&&(X.insertBefore(_e,Ae[N+1]||null),ye=!0))}ye||(X.insertBefore(_e,Ae[D?3:0]||null),ye=!0)}return ye},pe}()).prototype["stroke-widthSetter"]=ae.prototype.strokeSetter,ae.prototype.yGetter=ae.prototype.xGetter,ae.prototype.matrixSetter=ae.prototype.rotationOriginXSetter=ae.prototype.rotationOriginYSetter=ae.prototype.rotationSetter=ae.prototype.scaleXSetter=ae.prototype.scaleYSetter=ae.prototype.translateXSetter=ae.prototype.translateYSetter=ae.prototype.verticalAlignSetter=function(pe,Z){this[Z]=pe,this.doTransform=!0},ae}),Se(me,"Core/Renderer/RendererRegistry.js",[me["Core/Globals.js"]],function(ae){var ce,ge,xe;return(ge=ce||(ce={})).rendererTypes={},ge.getRendererType=function(he){return void 0===he&&(he=xe),ge.rendererTypes[he]||ge.rendererTypes[xe]},ge.registerRendererType=function(he,ie,re){ge.rendererTypes[he]=ie,(!xe||re)&&(xe=he,ae.Renderer=ie)},ce}),Se(me,"Core/Renderer/SVG/SVGLabel.js",[me["Core/Renderer/SVG/SVGElement.js"],me["Core/Utilities.js"]],function(ae,ce){var W,ge=this&&this.__extends||(W=function(q,M){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,R){I.__proto__=R}||function(I,R){for(var V in R)R.hasOwnProperty(V)&&(I[V]=R[V])})(q,M)},function(q,M){function I(){this.constructor=q}W(q,M),q.prototype=null===M?Object.create(M):(I.prototype=M.prototype,new I)}),xe=ce.defined,he=ce.extend,ie=ce.isNumber,re=ce.merge,B=ce.pick,Q=ce.removeEvent;return function(W){function q(M,I,R,V,$,L,J,Y,se,ee){var T,O=W.call(this)||this;return O.paddingLeftSetter=O.paddingSetter,O.paddingRightSetter=O.paddingSetter,O.init(M,"g"),O.textStr=I,O.x=R,O.y=V,O.anchorX=L,O.anchorY=J,O.baseline=se,O.className=ee,O.addClass("button"===ee?"highcharts-no-tooltip":"highcharts-label"),ee&&O.addClass("highcharts-"+ee),O.text=M.text(void 0,0,0,Y).attr({zIndex:1}),"string"==typeof $&&((T=/^url\((.*?)\)$/.test($))||O.renderer.symbols[$])&&(O.symbolKey=$),O.bBox=q.emptyBBox,O.padding=3,O.baselineOffset=0,O.needsBox=M.styledMode||T,O.deferredAttr={},O.alignFactor=0,O}return ge(q,W),q.prototype.alignSetter=function(M){(M={left:0,center:.5,right:1}[M])!==this.alignFactor&&(this.alignFactor=M,this.bBox&&ie(this.xSetting)&&this.attr({x:this.xSetting}))},q.prototype.anchorXSetter=function(M,I){this.anchorX=M,this.boxAttr(I,Math.round(M)-this.getCrispAdjust()-this.xSetting)},q.prototype.anchorYSetter=function(M,I){this.anchorY=M,this.boxAttr(I,M-this.ySetting)},q.prototype.boxAttr=function(M,I){this.box?this.box.attr(M,I):this.deferredAttr[M]=I},q.prototype.css=function(M){if(M){var I={};M=re(M),q.textProps.forEach(function(V){void 0!==M[V]&&(I[V]=M[V],delete M[V])}),this.text.css(I);var R="width"in I;"fontSize"in I||"fontWeight"in I?this.updateTextPadding():R&&this.updateBoxSize()}return ae.prototype.css.call(this,M)},q.prototype.destroy=function(){Q(this.element,"mouseenter"),Q(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),ae.prototype.destroy.call(this)},q.prototype.fillSetter=function(M,I){M&&(this.needsBox=!0),this.fill=M,this.boxAttr(I,M)},q.prototype.getBBox=function(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();var M=this.padding,I=B(this.paddingLeft,M);return{width:this.width,height:this.height,x:this.bBox.x-I,y:this.bBox.y-M}},q.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},q.prototype.heightSetter=function(M){this.heightSetting=M},q.prototype.onAdd=function(){var M=this.textStr;this.text.add(this),this.attr({text:xe(M)?M:"",x:this.x,y:this.y}),this.box&&xe(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},q.prototype.paddingSetter=function(M,I){ie(M)?M!==this[I]&&(this[I]=M,this.updateTextPadding()):this[I]=void 0},q.prototype.rSetter=function(M,I){this.boxAttr(I,M)},q.prototype.shadow=function(M){return M&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(M)),this},q.prototype.strokeSetter=function(M,I){this.stroke=M,this.boxAttr(I,M)},q.prototype["stroke-widthSetter"]=function(M,I){M&&(this.needsBox=!0),this["stroke-width"]=M,this.boxAttr(I,M)},q.prototype["text-alignSetter"]=function(M){this.textAlign=M},q.prototype.textSetter=function(M){void 0!==M&&this.text.attr({text:M}),this.updateTextPadding()},q.prototype.updateBoxSize=function(){var M=this.text.element.style,I={},R=this.padding,V=this.bBox=ie(this.widthSetting)&&ie(this.heightSetting)&&!this.textAlign||!xe(this.text.textStr)?q.emptyBBox:this.text.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||V.height||0)+2*R,M=this.renderer.fontMetrics(M&&M.fontSize,this.text),this.baselineOffset=R+Math.min((this.text.firstLineMetrics||M).b,V.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-M.h)/2),this.needsBox&&(this.box||((R=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect()).addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),R.add(this)),R=this.getCrispAdjust(),I.x=R,I.y=(this.baseline?-this.baselineOffset:0)+R,I.width=Math.round(this.width),I.height=Math.round(this.height),this.box.attr(he(I,this.deferredAttr)),this.deferredAttr={})},q.prototype.updateTextPadding=function(){var M=this.text;this.updateBoxSize();var I=this.baseline?0:this.baselineOffset,R=B(this.paddingLeft,this.padding);xe(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(R+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(R!==M.x||I!==M.y)&&(M.attr("x",R),M.hasBoxWidthChanged&&(this.bBox=M.getBBox(!0)),void 0!==I&&M.attr("y",I)),M.x=R,M.y=I},q.prototype.widthSetter=function(M){this.widthSetting=ie(M)?M:void 0},q.prototype.getPaddedWidth=function(){var M=this.padding,I=B(this.paddingLeft,M);return M=B(this.paddingRight,M),(this.widthSetting||this.bBox.width||0)+I+M},q.prototype.xSetter=function(M){this.x=M,this.alignFactor&&(M-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(M),this.attr("translateX",this.xSetting)},q.prototype.ySetter=function(M){this.ySetting=this.y=Math.round(M),this.attr("translateY",this.ySetting)},q.emptyBBox={width:0,height:0,x:0,y:0},q.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" "),q}(ae)}),Se(me,"Core/Renderer/SVG/Symbols.js",[me["Core/Utilities.js"]],function(ae){function ce(B,Q,W,q,M){var I=[];if(M){var R=M.start||0,V=re(M.r,W);W=re(M.r,q||W);var $=(M.end||0)-.001;q=M.innerR;var L=re(M.open,.001>Math.abs((M.end||0)-R-2*Math.PI)),J=Math.cos(R),Y=Math.sin(R),se=Math.cos($),ee=Math.sin($);R=re(M.longArc,.001>$-R-Math.PI?0:1),I.push(["M",B+V*J,Q+W*Y],["A",V,W,0,R,re(M.clockwise,1),B+V*se,Q+W*ee]),he(q)&&I.push(L?["M",B+q*se,Q+q*ee]:["L",B+q*se,Q+q*ee],["A",q,q,0,R,he(M.clockwise)?1-M.clockwise:0,B+q*J,Q+q*Y]),L||I.push(["Z"])}return I}function ge(B,Q,W,q,M){return M&&M.r?xe(B,Q,W,q,M):[["M",B,Q],["L",B+W,Q],["L",B+W,Q+q],["L",B,Q+q],["Z"]]}function xe(B,Q,W,q,M){return[["M",B+(M=M&&M.r||0),Q],["L",B+W-M,Q],["C",B+W,Q,B+W,Q,B+W,Q+M],["L",B+W,Q+q-M],["C",B+W,Q+q,B+W,Q+q,B+W-M,Q+q],["L",B+M,Q+q],["C",B,Q+q,B,Q+q,B,Q+q-M],["L",B,Q+M],["C",B,Q,B,Q,B+M,Q]]}var he=ae.defined,ie=ae.isNumber,re=ae.pick;return{arc:ce,callout:function(B,Q,W,q,M){var I=Math.min(M&&M.r||0,W,q),R=I+6,V=M&&M.anchorX;M=M&&M.anchorY||0;var $=xe(B,Q,W,q,{r:I});return ie(V)&&(B+V>=W?M>Q+R&&M<Q+q-R?$.splice(3,1,["L",B+W,M-6],["L",B+W+6,M],["L",B+W,M+6],["L",B+W,Q+q-I]):$.splice(3,1,["L",B+W,q/2],["L",V,M],["L",B+W,q/2],["L",B+W,Q+q-I]):0>=B+V?M>Q+R&&M<Q+q-R?$.splice(7,1,["L",B,M+6],["L",B-6,M],["L",B,M-6],["L",B,Q+I]):$.splice(7,1,["L",B,q/2],["L",V,M],["L",B,q/2],["L",B,Q+I]):M&&M>q&&V>B+R&&V<B+W-R?$.splice(5,1,["L",V+6,Q+q],["L",V,Q+q+6],["L",V-6,Q+q],["L",B+I,Q+q]):M&&0>M&&V>B+R&&V<B+W-R&&$.splice(1,1,["L",V-6,Q],["L",V,Q-6],["L",V+6,Q],["L",W-I,Q])),$},circle:function(B,Q,W,q){return ce(B+W/2,Q+q/2,W/2,q/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(B,Q,W,q){return[["M",B+W/2,Q],["L",B+W,Q+q/2],["L",B+W/2,Q+q],["L",B,Q+q/2],["Z"]]},rect:ge,roundedRect:xe,square:ge,triangle:function(B,Q,W,q){return[["M",B+W/2,Q],["L",B+W,Q+q],["L",B,Q+q],["Z"]]},"triangle-down":function(B,Q,W,q){return[["M",B,Q],["L",B+W,Q],["L",B+W/2,Q+q],["Z"]]}}}),Se(me,"Core/Renderer/SVG/TextBuilder.js",[me["Core/Renderer/HTML/AST.js"],me["Core/Globals.js"],me["Core/Utilities.js"]],function(ae,ce,ge){var xe=ce.doc,he=ce.SVG_NS,ie=ce.win,re=ge.attr,B=ge.isString,Q=ge.objectEach,W=ge.pick;return function(){function q(M){var I=M.styles;this.renderer=M.renderer,this.svgElement=M,this.width=M.textWidth,this.textLineHeight=I&&I.lineHeight,this.textOutline=I&&I.textOutline,this.ellipsis=!(!I||"ellipsis"!==I.textOverflow),this.noWrap=!(!I||"nowrap"!==I.whiteSpace),this.fontSize=I&&I.fontSize}return q.prototype.buildSVG=function(){var M=this.svgElement,I=M.element,R=M.renderer,V=W(M.textStr,"").toString(),$=-1!==V.indexOf("<"),L=I.childNodes;R=this.width&&!M.added&&R.box;var Y=[V,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width].join();if(Y!==M.textCache){for(M.textCache=Y,delete M.actualWidth,Y=L.length;Y--;)I.removeChild(L[Y]);$||this.ellipsis||this.width||-1!==V.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(V))?""!==V&&(R&&R.appendChild(I),V=new ae(V),this.modifyTree(V.nodes),V.addToDOM(M.element),this.modifyDOM(),this.ellipsis&&-1!==(I.textContent||"").indexOf("\u2026")&&M.attr("title",this.unescapeEntities(M.textStr||"",["&lt;","&gt;"])),R&&R.removeChild(I)):I.appendChild(xe.createTextNode(this.unescapeEntities(V))),B(this.textOutline)&&M.applyTextOutline&&M.applyTextOutline(this.textOutline)}},q.prototype.modifyDOM=function(){var V,M=this,I=this.svgElement,R=re(I.element,"x");for(I.firstLineMetrics=void 0;(V=I.element.firstChild)&&/^[\s\u200B]*$/.test(V.textContent||" ");)I.element.removeChild(V);[].forEach.call(I.element.querySelectorAll("tspan.highcharts-br"),function(Y,se){Y.nextSibling&&Y.previousSibling&&(0===se&&1===Y.previousSibling.nodeType&&(I.firstLineMetrics=I.renderer.fontMetrics(void 0,Y.previousSibling)),re(Y,{dy:M.getLineHeight(Y.nextSibling),x:R}))});var $=this.width||0;if($){var J=function(Y){[].slice.call(Y.childNodes).forEach(function(se){se.nodeType===ie.Node.TEXT_NODE?function(Y,se){var ee=Y.textContent||"",O=ee.replace(/([^\^])-/g,"$1- ").split(" "),T=!M.noWrap&&(1<O.length||1<I.element.childNodes.length),w=M.getLineHeight(se),k=0,C=I.actualWidth;if(M.ellipsis)ee&&M.truncate(Y,ee,void 0,0,Math.max(0,$-parseInt(M.fontSize||12,10)),function(U,j){return U.substring(0,j)+"\u2026"});else if(T){for(ee=[],T=[];se.firstChild&&se.firstChild!==Y;)T.push(se.firstChild),se.removeChild(se.firstChild);for(;O.length;)O.length&&!M.noWrap&&0<k&&(ee.push(Y.textContent||""),Y.textContent=O.join(" ").replace(/- /g,"-")),M.truncate(Y,void 0,O,0===k&&C||0,$,function(U,j){return O.slice(0,j).join(" ").replace(/- /g,"-")}),C=I.actualWidth,k++;T.forEach(function(U){se.insertBefore(U,Y)}),ee.forEach(function(U){se.insertBefore(xe.createTextNode(U),Y),(U=xe.createElementNS(he,"tspan")).textContent="\u200b",re(U,{dy:w,x:R}),se.insertBefore(U,Y)})}}(se,Y):(-1!==se.className.baseVal.indexOf("highcharts-br")&&(I.actualWidth=0),J(se))})};J(I.element)}},q.prototype.getLineHeight=function(M){var I;return M=M.nodeType===ie.Node.TEXT_NODE?M.parentElement:M,this.renderer.styledMode||(I=M&&/(px|em)$/.test(M.style.fontSize)?M.style.fontSize:this.fontSize||this.renderer.style.fontSize||12),this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(I,M||this.svgElement.element).h},q.prototype.modifyTree=function(M){var I=this,R=function(V,$){var L=V.tagName,J=I.renderer.styledMode,Y=V.attributes||{};"b"===L||"strong"===L?J?Y.class="highcharts-strong":Y.style="font-weight:bold;"+(Y.style||""):("i"===L||"em"===L)&&(J?Y.class="highcharts-emphasized":Y.style="font-style:italic;"+(Y.style||"")),B(Y.style)&&(Y.style=Y.style.replace(/(;| |^)color([ :])/,"$1fill$2")),"br"===L&&(Y.class="highcharts-br",V.textContent="\u200b",($=M[$+1])&&$.textContent&&($.textContent=$.textContent.replace(/^ +/gm,""))),"#text"!==L&&"a"!==L&&(V.tagName="tspan"),V.attributes=Y,V.children&&V.children.filter(function(se){return"#text"!==se.tagName}).forEach(R)};M.forEach(R)},q.prototype.truncate=function(M,I,R,V,$,L){var k,J=this.svgElement,Y=J.renderer,se=J.rotation,ee=[],O=R?1:0,T=(I||R||"").length,w=T,C=function(j,S){S=S||j;var H=M.parentNode;if(H&&void 0===ee[S])if(H.getSubStringLength)try{ee[S]=V+H.getSubStringLength(0,R?S+1:S)}catch(oe){}else Y.getSpanWidth&&(M.textContent=L(I||R,j),ee[S]=V+Y.getSpanWidth(J,M));return ee[S]};J.rotation=0;var U=C(M.textContent.length);if(V+U>$){for(;O<=T;)w=Math.ceil((O+T)/2),R&&(k=L(R,w)),U=C(w,k&&k.length-1),O===T?O=T+1:U>$?T=w-1:O=w;0===T?M.textContent="":I&&T===I.length-1||(M.textContent=k||L(I||R,w))}R&&R.splice(0,w),J.actualWidth=U,J.rotation=se},q.prototype.unescapeEntities=function(M,I){return Q(this.renderer.escapes,function(R,V){I&&-1!==I.indexOf(R)||(M=M.toString().replace(new RegExp(R,"g"),V))}),M},q}()}),Se(me,"Core/Renderer/SVG/SVGRenderer.js",[me["Core/Renderer/HTML/AST.js"],me["Core/Color/Color.js"],me["Core/Globals.js"],me["Core/Renderer/RendererRegistry.js"],me["Core/Renderer/SVG/SVGElement.js"],me["Core/Renderer/SVG/SVGLabel.js"],me["Core/Renderer/SVG/Symbols.js"],me["Core/Renderer/SVG/TextBuilder.js"],me["Core/Utilities.js"]],function(ae,ce,ge,xe,he,ie,re,B,Q){var Ae,W=ge.charts,q=ge.deg2rad,M=ge.doc,I=ge.isFirefox,R=ge.isMS,V=ge.isWebKit,$=ge.noop,L=ge.SVG_NS,J=ge.symbolSizes,Y=ge.win,se=Q.addEvent,ee=Q.attr,O=Q.createElement,T=Q.css,w=Q.defined,k=Q.destroyObjectProperties,C=Q.extend,U=Q.isArray,j=Q.isNumber,S=Q.isObject,H=Q.isString,oe=Q.merge,ve=Q.pick,pe=Q.pInt,Z=Q.uniqueKey;return ge=function(){function D(P,X,_e,ye,Te,N,de){this.width=this.url=this.style=this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(P,X,_e,ye,Te,N,de)}return D.prototype.init=function(P,X,_e,ye,Te,N,de){var Ce,te=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),be=te.element;de||te.css(this.getStyle(ye)),P.appendChild(be),ee(P,"dir","ltr"),-1===P.innerHTML.indexOf("xmlns")&&ee(be,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=be,this.boxWrapper=te,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(M.createTextNode("Created with Highcharts 9.3.1")),this.defs=this.createElement("defs").add(),this.allowHTML=N,this.forExport=Te,this.styledMode=de,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(X,_e,!1),I&&P.getBoundingClientRect&&((X=function(){T(P,{left:0,top:0}),Ce=P.getBoundingClientRect(),T(P,{left:Math.ceil(Ce.left)-Ce.left+"px",top:Math.ceil(Ce.top)-Ce.top+"px"})})(),this.unSubPixelFix=se(Y,"resize",X))},D.prototype.definition=function(P){return new ae([P]).addToDOM(this.defs.element)},D.prototype.getReferenceURL=function(){if((I||V)&&M.getElementsByTagName("base").length){if(!w(Ae)){var P=Z();P=new ae([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:P},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#"+P+")",fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(M.body),T(P,{position:"fixed",top:0,left:0,zIndex:9e5});var X=M.elementFromPoint(6,6);Ae="hitme"===(X&&X.id),M.body.removeChild(P)}if(Ae)return Y.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""},D.prototype.getStyle=function(P){return this.style=C({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},P)},D.prototype.setStyle=function(P){this.boxWrapper.css(this.getStyle(P))},D.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},D.prototype.destroy=function(){var P=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),k(this.gradients||{}),this.gradients=null,P&&(this.defs=P.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},D.prototype.createElement=function(P){var X=new this.Element;return X.init(this,P),X},D.prototype.getRadialAttr=function(P,X){return{cx:P[0]-P[2]/2+(X.cx||0)*P[2],cy:P[1]-P[2]/2+(X.cy||0)*P[2],r:(X.r||0)*P[2]}},D.prototype.buildText=function(P){new B(P).buildSVG()},D.prototype.getContrast=function(P){return(P=ce.parse(P).rgba)[0]*=1,P[1]*=1.2,P[2]*=.5,459<P[0]+P[1]+P[2]?"#000000":"#FFFFFF"},D.prototype.button=function(P,X,_e,ye,Te,N,de,te,be,Ce){var Le=this.label(P,X,_e,be,void 0,void 0,Ce,void 0,"button"),Oe=this.styledMode,ze=0,Ne=Te?oe(Te):{};if(P=Ne&&Ne.style||{},Ne=ae.filterUserAttributes(Ne),Le.attr(oe({padding:8,r:2},Ne)),!Oe){var it=(Ne=oe({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},{style:P},Ne)).style;delete Ne.style;var lt=(N=oe(Ne,{fill:"#e6e6e6"},ae.filterUserAttributes(N||{}))).style;delete N.style;var st=(de=oe(Ne,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},ae.filterUserAttributes(de||{}))).style;delete de.style;var Ke=(te=oe(Ne,{style:{color:"#cccccc"}},ae.filterUserAttributes(te||{}))).style;delete te.style}return se(Le.element,R?"mouseover":"mouseenter",function(){3!==ze&&Le.setState(1)}),se(Le.element,R?"mouseout":"mouseleave",function(){3!==ze&&Le.setState(ze)}),Le.setState=function(Be){1!==Be&&(Le.state=ze=Be),Le.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][Be||0]),Oe||Le.attr([Ne,N,de,te][Be||0]).css([it,lt,st,Ke][Be||0])},Oe||Le.attr(Ne).css(C({cursor:"default"},it)),Le.on("touchstart",function(Be){return Be.stopPropagation()}).on("click",function(Be){3!==ze&&ye.call(Le,Be)})},D.prototype.crispLine=function(P,X,_e){void 0===_e&&(_e="round");var ye=P[0],Te=P[1];return w(ye[1])&&ye[1]===Te[1]&&(ye[1]=Te[1]=Math[_e](ye[1])-X%2/2),w(ye[2])&&ye[2]===Te[2]&&(ye[2]=Te[2]=Math[_e](ye[2])+X%2/2),P},D.prototype.path=function(P){var X=this.styledMode?{}:{fill:"none"};return U(P)?X.d=P:S(P)&&C(X,P),this.createElement("path").attr(X)},D.prototype.circle=function(P,X,_e){return P=S(P)?P:void 0===P?{}:{x:P,y:X,r:_e},(X=this.createElement("circle")).xSetter=X.ySetter=function(ye,Te,N){N.setAttribute("c"+Te,ye)},X.attr(P)},D.prototype.arc=function(P,X,_e,ye,Te,N){return S(P)?(X=(ye=P).y,_e=ye.r,P=ye.x):ye={innerR:ye,start:Te,end:N},(P=this.symbol("arc",P,X,_e,_e,ye)).r=_e,P},D.prototype.rect=function(P,X,_e,ye,Te,N){Te=S(P)?P.r:Te;var de=this.createElement("rect");return P=S(P)?P:void 0===P?{}:{x:P,y:X,width:Math.max(_e,0),height:Math.max(ye,0)},this.styledMode||(void 0!==N&&(P["stroke-width"]=N,P=de.crisp(P)),P.fill="none"),Te&&(P.r=Te),de.rSetter=function(te,be,Ce){de.r=te,ee(Ce,{rx:te,ry:te})},de.rGetter=function(){return de.r||0},de.attr(P)},D.prototype.setSize=function(P,X,_e){this.width=P,this.height=X,this.boxWrapper.animate({width:P,height:X},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:ve(_e,!0)?void 0:0}),this.alignElements()},D.prototype.g=function(P){var X=this.createElement("g");return P?X.attr({class:"highcharts-"+P}):X},D.prototype.image=function(P,X,_e,ye,Te,N){var de={preserveAspectRatio:"none"},te=function(Ce,Le){Ce.setAttributeNS?Ce.setAttributeNS("http://www.w3.org/1999/xlink","href",Le):Ce.setAttribute("hc-svg-href",Le)};j(X)&&(de.x=X),j(_e)&&(de.y=_e),j(ye)&&(de.width=ye),j(Te)&&(de.height=Te);var be=this.createElement("image").attr(de);return X=function(Ce){te(be.element,P),N.call(be,Ce)},N?(te(be.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),_e=new Y.Image,se(_e,"load",X),_e.src=P,_e.complete&&X({})):te(be.element,P),be},D.prototype.symbol=function(P,X,_e,ye,Te,N){var Oe,de=this,te=/^url\((.*?)\)$/,be=te.test(P),Ce=!be&&(this.symbols[P]?P:"circle"),Le=Ce&&this.symbols[Ce];if(Le){"number"==typeof X&&(Oe=Le.call(this.symbols,Math.round(X||0),Math.round(_e||0),ye||0,Te||0,N));var ze=this.path(Oe);de.styledMode||ze.attr("fill","none"),C(ze,{symbolName:Ce||void 0,x:X,y:_e,width:ye,height:Te}),N&&C(ze,N)}else if(be){var Ne=P.match(te)[1],it=ze=this.image(Ne);it.imgwidth=ve(J[Ne]&&J[Ne].width,N&&N.width),it.imgheight=ve(J[Ne]&&J[Ne].height,N&&N.height);var lt=function(st){return st.attr({width:st.width,height:st.height})};["width","height"].forEach(function(st){it[st+"Setter"]=function(Ke,Be){var fe=this["img"+Be];this[Be]=Ke,w(fe)&&(N&&"within"===N.backgroundSize&&this.width&&this.height&&(fe=Math.round(fe*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(Be,fe),this.alignByTranslate||(Ke=((this[Be]||0)-fe)/2,this.attr("width"===Be?{translateX:Ke}:{translateY:Ke})))}}),w(X)&&it.attr({x:X,y:_e}),it.isImg=!0,w(it.imgwidth)&&w(it.imgheight)?lt(it):(it.attr({width:0,height:0}),O("img",{onload:function(){var st=W[de.chartIndex];0===this.width&&(T(this,{position:"absolute",top:"-999em"}),M.body.appendChild(this)),J[Ne]={width:this.width,height:this.height},it.imgwidth=this.width,it.imgheight=this.height,it.element&&lt(it),this.parentNode&&this.parentNode.removeChild(this),de.imgCount--,!de.imgCount&&st&&!st.hasLoaded&&st.onload()},src:Ne}),this.imgCount++)}return ze},D.prototype.clipRect=function(P,X,_e,ye){var Te=Z()+"-",N=this.createElement("clipPath").attr({id:Te}).add(this.defs);return(P=this.rect(P,X,_e,ye,0).add(N)).id=Te,P.clipPath=N,P.count=0,P},D.prototype.text=function(P,X,_e,ye){var Te={};return!ye||!this.allowHTML&&this.forExport?(Te.x=Math.round(X||0),_e&&(Te.y=Math.round(_e)),w(P)&&(Te.text=P),P=this.createElement("text").attr(Te),(!ye||this.forExport&&!this.allowHTML)&&(P.xSetter=function(N,de,te){for(var Oe,be=te.getElementsByTagName("tspan"),Ce=te.getAttribute(de),Le=0;Le<be.length;Le++)(Oe=be[Le]).getAttribute(de)===Ce&&Oe.setAttribute(de,N);te.setAttribute(de,N)}),P):this.html(P,X,_e)},D.prototype.fontMetrics=function(P,X){return P=!this.styledMode&&/px/.test(P)||!Y.getComputedStyle?P||X&&X.style&&X.style.fontSize||this.style&&this.style.fontSize:X&&he.prototype.getStyle.call(X,"font-size"),{h:X=24>(P=/px/.test(P)?pe(P):12)?P+3:Math.round(1.2*P),b:Math.round(.8*X),f:P}},D.prototype.rotCorr=function(P,X,_e){var ye=P;return X&&_e&&(ye=Math.max(ye*Math.cos(X*q),4)),{x:-P/3*Math.sin(X*q),y:ye}},D.prototype.pathToSegments=function(P){for(var X=[],_e=[],ye={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},Te=0;Te<P.length;Te++)H(_e[0])&&j(P[Te])&&_e.length===ye[_e[0].toUpperCase()]&&P.splice(Te,0,_e[0].replace("M","L").replace("m","l")),"string"==typeof P[Te]&&(_e.length&&X.push(_e.slice(0)),_e.length=0),_e.push(P[Te]);return X.push(_e.slice(0)),X},D.prototype.label=function(P,X,_e,ye,Te,N,de,te,be){return new ie(this,P,X,_e,ye,Te,N,de,te,be)},D.prototype.alignElements=function(){this.alignedObjects.forEach(function(P){return P.align()})},D}(),C(ge.prototype,{Element:he,SVG_NS:L,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:re,draw:$}),xe.registerRendererType("svg",ge,!0),ge}),Se(me,"Core/Renderer/HTML/HTMLElement.js",[me["Core/Globals.js"],me["Core/Renderer/SVG/SVGElement.js"],me["Core/Utilities.js"]],function(ae,ce,ge){var R,xe=this&&this.__extends||(R=function(V,$){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,J){L.__proto__=J}||function(L,J){for(var Y in J)J.hasOwnProperty(Y)&&(L[Y]=J[Y])})(V,$)},function(V,$){function L(){this.constructor=V}R(V,$),V.prototype=null===$?Object.create($):(L.prototype=$.prototype,new L)}),he=ae.isFirefox,ie=ae.isMS,re=ae.isWebKit,B=ae.win,Q=ge.css,W=ge.defined,q=ge.extend,M=ge.pick,I=ge.pInt;return function(R){function V(){return null!==R&&R.apply(this,arguments)||this}return xe(V,R),V.compose=function($){if(-1===V.composedClasses.indexOf($)){V.composedClasses.push($);var L=V.prototype,J=$.prototype;J.getSpanCorrection=L.getSpanCorrection,J.htmlCss=L.htmlCss,J.htmlGetBBox=L.htmlGetBBox,J.htmlUpdateTransform=L.htmlUpdateTransform,J.setSpanRotation=L.setSpanRotation}return $},V.prototype.getSpanCorrection=function($,L,J){this.xCorr=-$*J,this.yCorr=-L},V.prototype.htmlCss=function($){var L="SPAN"===this.element.tagName&&$&&"width"in $,J=M(L&&$.width,void 0);if(L){delete $.width,this.textWidth=J;var Y=!0}return $&&"ellipsis"===$.textOverflow&&($.whiteSpace="nowrap",$.overflow="hidden"),this.styles=q(this.styles,$),Q(this.element,$),Y&&this.htmlUpdateTransform(),this},V.prototype.htmlGetBBox=function(){var $=this.element;return{x:$.offsetLeft,y:$.offsetTop,width:$.offsetWidth,height:$.offsetHeight}},V.prototype.htmlUpdateTransform=function(){if(this.added){var $=this.renderer,L=this.element,J=this.translateX||0,Y=this.translateY||0,se=this.x||0,ee=this.y||0,O=this.textAlign||"left",T={left:0,center:.5,right:1}[O],w=this.styles;if(w=w&&w.whiteSpace,Q(L,{marginLeft:J,marginTop:Y}),!$.styledMode&&this.shadows&&this.shadows.forEach(function(H){Q(H,{marginLeft:J+1,marginTop:Y+1})}),this.inverted&&[].forEach.call(L.childNodes,function(H){$.invertChild(H,L)}),"SPAN"===L.tagName){var k=this.rotation,C=this.textWidth&&I(this.textWidth),U=[k,O,L.innerHTML,this.textWidth,this.textAlign].join(),j=void 0;if(j=!1,C!==this.oldTextWidth){if(this.textPxLength)var S=this.textPxLength;else Q(L,{width:"",whiteSpace:w||"nowrap"}),S=L.offsetWidth;(C>this.oldTextWidth||S>C)&&(/[ \-]/.test(L.textContent||L.innerText)||"ellipsis"===L.style.textOverflow)&&(Q(L,{width:S>C||k?C+"px":"auto",display:"block",whiteSpace:w||"normal"}),this.oldTextWidth=C,j=!0)}this.hasBoxWidthChanged=j,U!==this.cTT&&(j=$.fontMetrics(L.style.fontSize,L).b,!W(k)||k===(this.oldRotation||0)&&O===this.oldAlign||this.setSpanRotation(k,T,j),this.getSpanCorrection(!W(k)&&this.textPxLength||L.offsetWidth,j,T,k,O)),Q(L,{left:se+(this.xCorr||0)+"px",top:ee+(this.yCorr||0)+"px"}),this.cTT=U,this.oldRotation=k,this.oldAlign=O}}else this.alignOnAdd=!0},V.prototype.setSpanRotation=function($,L,J){var Y={},se=ie&&!/Edge/.test(B.navigator.userAgent)?"-ms-transform":re?"-webkit-transform":he?"MozTransform":B.opera?"-o-transform":void 0;se&&(Y[se]=Y.transform="rotate("+$+"deg)",Y[se+(he?"Origin":"-origin")]=Y.transformOrigin=100*L+"% "+J+"px",Q(this.element,Y))},V.composedClasses=[],V}(ce)}),Se(me,"Core/Renderer/HTML/HTMLRenderer.js",[me["Core/Renderer/HTML/AST.js"],me["Core/Renderer/SVG/SVGElement.js"],me["Core/Renderer/SVG/SVGRenderer.js"],me["Core/Utilities.js"]],function(ae,ce,ge,xe){var W,he=this&&this.__extends||(W=function(q,M){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,R){I.__proto__=R}||function(I,R){for(var V in R)R.hasOwnProperty(V)&&(I[V]=R[V])})(q,M)},function(q,M){function I(){this.constructor=q}W(q,M),q.prototype=null===M?Object.create(M):(I.prototype=M.prototype,new I)}),ie=xe.attr,re=xe.createElement,B=xe.extend,Q=xe.pick;return function(W){function q(){return null!==W&&W.apply(this,arguments)||this}return he(q,W),q.compose=function(M){return-1===q.composedClasses.indexOf(M)&&(q.composedClasses.push(M),M.prototype.html=q.prototype.html),M},q.prototype.html=function(M,I,R){var V=this.createElement("span"),$=V.element,L=V.renderer,J=L.isSVG,Y=function(se,ee){["opacity","visibility"].forEach(function(O){se[O+"Setter"]=function(T,w,k){var C=se.div?se.div.style:ee;ce.prototype[O+"Setter"].call(this,T,w,k),C&&(C[w]=T)}}),se.addedSetters=!0};return V.textSetter=function(se){se!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,ae.setElementHTML(this.element,Q(se,"")),this.textStr=se,V.doTransform=!0)},J&&Y(V,V.element.style),V.xSetter=V.ySetter=V.alignSetter=V.rotationSetter=function(se,ee){"align"===ee?V.alignValue=V.textAlign=se:V[ee]=se,V.doTransform=!0},V.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},V.attr({text:M,x:Math.round(I),y:Math.round(R)}).css({position:"absolute"}),L.styledMode||V.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),$.style.whiteSpace="nowrap",V.css=V.htmlCss,J&&(V.add=function(se){var ee=L.box.parentNode,O=[];if(this.parentGroup=se){var T=se.div;if(!T){for(;se;)O.push(se),se=se.parentGroup;O.reverse().forEach(function(w){function k(S,H){w[H]=S,"translateX"===H?j.left=S+"px":j.top=S+"px",w.doTransform=!0}var S,C=ie(w.element,"class"),U=w.styles||{},j=(T=w.div=w.div||re("div",C?{className:C}:void 0,{position:"absolute",left:(w.translateX||0)+"px",top:(w.translateY||0)+"px",display:w.display,opacity:w.opacity,cursor:U.cursor,pointerEvents:U.pointerEvents,visibility:w.visibility},T||ee)).style;B(w,{classSetter:(S=T,function(H){this.element.setAttribute("class",H),S.className=H}),on:function(){return O[0].div&&V.on.apply({element:O[0].div,onEvents:w.onEvents},arguments),w},translateXSetter:k,translateYSetter:k}),w.addedSetters||Y(w)})}}else T=ee;return T.appendChild($),V.added=!0,V.alignOnAdd&&V.htmlUpdateTransform(),V}),V},q.composedClasses=[],q}(ge)}),Se(me,"Core/Axis/AxisDefaults.js",[],function(){var ae=(()=>{return(ce=ae||(ae={})).defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:void 0,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,x:0,zIndex:7,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#ccd6eb"},ce.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){return(0,this.axis.chart.numberFormatter)(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},ce.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},ce.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},ce.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},ce.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},ae;var ce})();return ae}),Se(me,"Core/Foundation.js",[me["Core/Utilities.js"]],function(ae){var ie,ce=ae.addEvent,ge=ae.isFunction,xe=ae.objectEach,he=ae.removeEvent;return(ie||(ie={})).registerEventOptions=function(B,Q){B.eventOptions=B.eventOptions||{},xe(Q.events,function(W,q){B.eventOptions[q]!==W&&(B.eventOptions[q]&&(he(B,q,B.eventOptions[q]),delete B.eventOptions[q]),ge(W)&&(B.eventOptions[q]=W,ce(B,q,W)))})},ie}),Se(me,"Core/Axis/Tick.js",[me["Core/FormatUtilities.js"],me["Core/Globals.js"],me["Core/Utilities.js"]],function(ae,ce,ge){var xe=ce.deg2rad,he=ge.clamp,ie=ge.correctFloat,re=ge.defined,B=ge.destroyObjectProperties,Q=ge.extend,W=ge.fireEvent,q=ge.isNumber,M=ge.merge,I=ge.objectEach,R=ge.pick;return function(){function V($,L,J,Y,se){this.isNewLabel=this.isNew=!0,this.axis=$,this.pos=L,this.type=J||"",this.parameters=se||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,W(this,"init"),J||Y||this.addLabel()}return V.prototype.addLabel=function(){var $=this,L=$.axis,J=L.options,Y=L.chart,se=L.categories,ee=L.logarithmic,O=L.names,T=$.pos,w=R($.options&&$.options.labels,J.labels),k=L.tickPositions,C=T===k[0],U=T===k[k.length-1],j=(!w.step||1===w.step)&&1===L.tickInterval;k=k.info;var H,S=$.label;if(se=this.parameters.category||(se?R(se[T],O[T],T):T),ee&&q(se)&&(se=ie(ee.lin2log(se))),L.dateTime)if(k)var oe=Y.time.resolveDTLFormat(J.dateTimeLabelFormats[!J.grid&&k.higherRanks[T]||k.unitName]),ve=oe.main;else q(se)&&(ve=L.dateTime.getXDateFormat(se,J.dateTimeLabelFormats||{}));$.isFirst=C,$.isLast=U;var pe={axis:L,chart:Y,dateTimeLabelFormat:ve,isFirst:C,isLast:U,pos:T,tick:$,tickPositionInfo:k,value:se};W(this,"labelFormat",pe);var Z=function(D){return w.formatter?w.formatter.call(D,D):w.format?(D.text=L.defaultLabelFormatter.call(D),ae.format(w.format,D,Y)):L.defaultLabelFormatter.call(D,D)};J=Z.call(pe,pe);var Ae=oe&&oe.list;$.shortenLabel=Ae?function(){for(H=0;H<Ae.length;H++)if(Q(pe,{dateTimeLabelFormat:Ae[H]}),S.attr({text:Z.call(pe,pe)}),S.getBBox().width<L.getSlotWidth($)-2*w.padding)return;S.attr({text:""})}:void 0,j&&L._addedPlotLB&&$.moveLabel(J,w),re(S)||$.movedLabel?S&&S.textStr!==J&&!j&&(!S.textWidth||w.style.width||S.styles.width||S.css({width:null}),S.attr({text:J}),S.textPxLength=S.getBBox().width):($.label=S=$.createLabel({x:0,y:0},J,w),$.rotation=0)},V.prototype.createLabel=function($,L,J){var Y=this.axis,se=Y.chart;return($=re(L)&&J.enabled?se.renderer.text(L,$.x,$.y,J.useHTML).add(Y.labelGroup):null)&&(se.styledMode||$.css(M(J.style)),$.textPxLength=$.getBBox().width),$},V.prototype.destroy=function(){B(this,this.axis)},V.prototype.getPosition=function($,L,J,Y){var se=this.axis,ee=se.chart,O=Y&&ee.oldChartHeight||ee.chartHeight;return($={x:$?ie(se.translate(L+J,null,null,Y)+se.transB):se.left+se.offset+(se.opposite?(Y&&ee.oldChartWidth||ee.chartWidth)-se.right-se.left:0),y:$?O-se.bottom+se.offset-(se.opposite?se.height:0):ie(O-se.translate(L+J,null,null,Y)-se.transB)}).y=he($.y,-1e5,1e5),W(this,"afterGetPosition",{pos:$}),$},V.prototype.getLabelPosition=function($,L,J,Y,se,ee,O,T){var w=this.axis,k=w.transA,C=w.isLinked&&w.linkedParent?w.linkedParent.reversed:w.reversed,U=w.staggerLines,j=w.tickRotCorr||{x:0,y:0},S=Y||w.reserveSpaceDefault?0:-w.labelOffset*("center"===w.labelAlign?.5:1),H={},oe=se.y;return re(oe)||(oe=0===w.side?J.rotation?-8:-J.getBBox().height:2===w.side?j.y+8:Math.cos(J.rotation*xe)*(j.y-J.getBBox(!1,0).height/2)),L=L+oe-(ee&&!Y?ee*k*(C?1:-1):0),U&&(J=O/(T||1)%U,w.opposite&&(J=U-J-1),L+=w.labelOffset/U*J),H.x=$=$+se.x+S+j.x-(ee&&Y?ee*k*(C?-1:1):0),H.y=Math.round(L),W(this,"afterGetLabelPosition",{pos:H,tickmarkOffset:ee,index:O}),H},V.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},V.prototype.getMarkPath=function($,L,J,Y,se,ee){return ee.crispLine([["M",$,L],["L",$+(se?0:-J),L+(se?J:0)]],Y)},V.prototype.handleOverflow=function($){var L=this.axis,J=L.options.labels,Y=$.x,se=L.chart.chartWidth,ee=L.chart.spacing,O=R(L.labelLeft,Math.min(L.pos,ee[3]));ee=R(L.labelRight,Math.max(L.isRadial?0:L.pos+L.len,se-ee[1]));var oe,T=this.label,w=this.rotation,k={left:0,center:.5,right:1}[L.labelAlign||T.attr("align")],C=T.getBBox().width,U=L.getSlotWidth(this),j={},S=U,H=1;w||"justify"!==J.overflow?0>w&&Y-k*C<O?oe=Math.round(Y/Math.cos(w*xe)-O):0<w&&Y+k*C>ee&&(oe=Math.round((se-Y)/Math.cos(w*xe))):(se=Y+(1-k)*C,Y-k*C<O?S=$.x+S*(1-k)-O:se>ee&&(S=ee-$.x+S*k,H=-1),(S=Math.min(U,S))<U&&"center"===L.labelAlign&&($.x+=H*(U-S-k*(U-Math.min(C,S)))),(C>S||L.autoRotation&&(T.styles||{}).width)&&(oe=S)),oe&&(this.shortenLabel?this.shortenLabel():(j.width=Math.floor(oe)+"px",(J.style||{}).textOverflow||(j.textOverflow="ellipsis"),T.css(j)))},V.prototype.moveLabel=function($,L){var J=this,Y=J.label,se=J.axis,ee=se.reversed,O=!1;if(Y&&Y.textStr===$?(J.movedLabel=Y,O=!0,delete J.label):I(se.ticks,function(w){O||w.isNew||w===J||!w.label||w.label.textStr!==$||(J.movedLabel=w.label,O=!0,w.labelPos=J.movedLabel.xy,delete w.label)}),!O&&(J.labelPos||Y)){var T=J.labelPos||Y.xy;J.movedLabel=J.createLabel({x:Y=se.horiz?ee?0:se.width+se.left:T.x,y:se=se.horiz?T.y:ee?se.width+se.left:0},$,L),J.movedLabel&&J.movedLabel.attr({opacity:0})}},V.prototype.render=function($,L,J){var Y=this.axis,se=Y.horiz,ee=this.pos,O=R(this.tickmarkOffset,Y.tickmarkOffset);O=(ee=this.getPosition(se,ee,O,L)).x,Y=se&&O===Y.pos+Y.len||!se&&ee.y===Y.pos?-1:1,se=R(J,this.label&&this.label.newOpacity,1),J=R(J,1),this.isActive=!0,this.renderGridLine(L,J,Y),this.renderMark(ee,J,Y),this.renderLabel(ee,L,se,$),this.isNew=!1,W(this,"afterRender")},V.prototype.renderGridLine=function($,L,J){var Y=this.axis,se=Y.options,ee={},O=this.pos,T=this.type,w=R(this.tickmarkOffset,Y.tickmarkOffset),k=Y.chart.renderer,C=this.gridLine,U=se.gridLineWidth,j=se.gridLineColor,S=se.gridLineDashStyle;"minor"===this.type&&(U=se.minorGridLineWidth,j=se.minorGridLineColor,S=se.minorGridLineDashStyle),C||(Y.chart.styledMode||(ee.stroke=j,ee["stroke-width"]=U||0,ee.dashstyle=S),T||(ee.zIndex=1),$&&(L=0),this.gridLine=C=k.path().attr(ee).addClass("highcharts-"+(T?T+"-":"")+"grid-line").add(Y.gridGroup)),C&&(J=Y.getPlotLinePath({value:O+w,lineWidth:C.strokeWidth()*J,force:"pass",old:$}))&&C[$||this.isNew?"attr":"animate"]({d:J,opacity:L})},V.prototype.renderMark=function($,L,J){var Y=this.axis,se=Y.options,ee=Y.chart.renderer,O=this.type,T=Y.tickSize(O?O+"Tick":"tick"),w=$.x;$=$.y;var k=R(se["minor"!==O?"tickWidth":"minorTickWidth"],!O&&Y.isXAxis?1:0);se=se["minor"!==O?"tickColor":"minorTickColor"];var C=this.mark,U=!C;T&&(Y.opposite&&(T[0]=-T[0]),C||(this.mark=C=ee.path().addClass("highcharts-"+(O?O+"-":"")+"tick").add(Y.axisGroup),Y.chart.styledMode||C.attr({stroke:se,"stroke-width":k})),C[U?"attr":"animate"]({d:this.getMarkPath(w,$,T[0],C.strokeWidth()*J,Y.horiz,ee),opacity:L}))},V.prototype.renderLabel=function($,L,J,Y){var se=this.axis,ee=se.horiz,O=se.options,T=this.label,w=O.labels,k=w.step;se=R(this.tickmarkOffset,se.tickmarkOffset);var C=$.x;$=$.y;var U=!0;T&&q(C)&&(T.xy=$=this.getLabelPosition(C,$,T,ee,w,se,Y,k),this.isFirst&&!this.isLast&&!O.showFirstLabel||this.isLast&&!this.isFirst&&!O.showLastLabel?U=!1:!ee||w.step||w.rotation||L||0===J||this.handleOverflow($),k&&Y%k&&(U=!1),U&&q($.y)?($.opacity=J,T[this.isNewLabel?"attr":"animate"]($),this.isNewLabel=!1):(T.attr("y",-9999),this.isNewLabel=!0))},V.prototype.replaceMovedLabel=function(){var $=this.label,L=this.axis,J=L.reversed;$&&!this.isNew&&($.animate({x:L.horiz?J?L.left:L.width+L.left:$.xy.x,y:J=L.horiz?$.xy.y:J?L.width+L.top:L.top,opacity:0},void 0,$.destroy),delete this.label),L.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},V}()}),Se(me,"Core/Axis/Axis.js",[me["Core/Animation/AnimationUtilities.js"],me["Core/Axis/AxisDefaults.js"],me["Core/Color/Color.js"],me["Core/DefaultOptions.js"],me["Core/Foundation.js"],me["Core/Globals.js"],me["Core/Axis/Tick.js"],me["Core/Utilities.js"]],function(ae,ce,ge,xe,he,ie,re,B){var Q=ae.animObject,W=xe.defaultOptions,q=he.registerEventOptions,M=ie.deg2rad,I=B.arrayMax,R=B.arrayMin,V=B.clamp,$=B.correctFloat,L=B.defined,J=B.destroyObjectProperties,Y=B.erase,se=B.error,ee=B.extend,O=B.fireEvent,T=B.getMagnitude,w=B.isArray,k=B.isNumber,C=B.isString,U=B.merge,j=B.normalizeTickInterval,S=B.objectEach,H=B.pick,oe=B.relativeLength,ve=B.removeEvent,pe=B.splat,Z=B.syncTimeout;return function(){function Ae(D,P){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.categories=this.bottom=this.alternateBands=void 0,this.init(D,P)}return Ae.prototype.init=function(D,P){var X=P.isX;this.chart=D,this.horiz=D.inverted&&!this.isZAxis?!X:X,this.isXAxis=X,this.coll=this.coll||(X?"xAxis":"yAxis"),O(this,"init",{userOptions:P}),this.opposite=H(P.opposite,this.opposite),this.side=H(P.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(P);var _e=this.options,ye=_e.labels,Te=_e.type;this.userOptions=P,this.minPixelPadding=0,this.reversed=H(_e.reversed,this.reversed),this.visible=_e.visible,this.zoomEnabled=_e.zoomEnabled,this.hasNames="category"===Te||!0===_e.categories,this.categories=_e.categories||this.hasNames,this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=L(_e.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=_e.minRange||_e.maxZoom,this.range=_e.range,this.offset=_e.offset||0,this.min=this.max=null,P=H(_e.crosshair,pe(D.options.tooltip.crosshairs)[X?0:1]),this.crosshair=!0===P?{}:P,-1===D.axes.indexOf(this)&&(X?D.axes.splice(D.xAxis.length,0,this):D.axes.push(this),D[this.coll].push(this)),this.series=this.series||[],D.inverted&&!this.isZAxis&&X&&void 0===this.reversed&&(this.reversed=!0),this.labelRotation=k(ye.rotation)?ye.rotation:void 0,q(this,_e),O(this,"afterInit")},Ae.prototype.setOptions=function(D){this.options=U(ce.defaultXAxisOptions,"yAxis"===this.coll&&ce.defaultYAxisOptions,[ce.defaultTopAxisOptions,ce.defaultRightAxisOptions,ce.defaultBottomAxisOptions,ce.defaultLeftAxisOptions][this.side],U(W[this.coll],D)),O(this,"afterSetOptions",{userOptions:D})},Ae.prototype.defaultLabelFormatter=function(D){var P=this.axis;D=this.chart.numberFormatter;var X=k(this.value)?this.value:NaN,_e=P.chart.time,ye=this.dateTimeLabelFormat,Te=W.lang,N=Te.numericSymbols;Te=Te.numericSymbolMagnitude||1e3;var de=P.logarithmic?Math.abs(X):P.tickInterval,te=N&&N.length;if(P.categories)var be=""+this.value;else if(ye)be=_e.dateFormat(ye,X);else if(te&&1e3<=de)for(;te--&&void 0===be;)de>=(P=Math.pow(Te,te+1))&&10*X%P==0&&null!==N[te]&&0!==X&&(be=D(X/P,-1)+N[te]);return void 0===be&&(be=1e4<=Math.abs(X)?D(X,-1):D(X,-1,void 0,"")),be},Ae.prototype.getSeriesExtremes=function(){var X,D=this,P=D.chart;O(this,"getSeriesExtremes",null,function(){D.hasVisibleSeries=!1,D.dataMin=D.dataMax=D.threshold=null,D.softThreshold=!D.isXAxis,D.stacking&&D.stacking.buildStacks(),D.series.forEach(function(_e){if(_e.visible||!P.options.chart.ignoreHiddenSeries){var ye=_e.options,Te=ye.threshold;if(D.hasVisibleSeries=!0,D.positiveValuesOnly&&0>=Te&&(Te=null),D.isXAxis){if((ye=_e.xData).length){ye=D.logarithmic?ye.filter(D.validatePositiveValue):ye;var N=(X=_e.getXExtremes(ye)).min,de=X.max;k(N)||N instanceof Date||(ye=ye.filter(k),N=(X=_e.getXExtremes(ye)).min,de=X.max),ye.length&&(D.dataMin=Math.min(H(D.dataMin,N),N),D.dataMax=Math.max(H(D.dataMax,de),de))}}else _e=_e.applyExtremes(),k(_e.dataMin)&&(N=_e.dataMin,D.dataMin=Math.min(H(D.dataMin,N),N)),k(_e.dataMax)&&(de=_e.dataMax,D.dataMax=Math.max(H(D.dataMax,de),de)),L(Te)&&(D.threshold=Te),(!ye.softThreshold||D.positiveValuesOnly)&&(D.softThreshold=!1)}})}),O(this,"afterGetSeriesExtremes")},Ae.prototype.translate=function(D,P,X,_e,ye,Te){var N=this.linkedParent||this,de=_e&&N.old?N.old.min:N.min,te=N.minPixelPadding;ye=(N.isOrdinal||N.brokenAxis&&N.brokenAxis.hasBreaks||N.logarithmic&&ye)&&N.lin2val;var be=1,Ce=0;return(_e=_e&&N.old?N.old.transA:N.transA)||(_e=N.transA),X&&(be*=-1,Ce=N.len),N.reversed&&(Ce-=(be*=-1)*(N.sector||N.len)),P?(D=(D*be+Ce-te)/_e+de,ye&&(D=N.lin2val(D))):(ye&&(D=N.val2lin(D)),D=k(de)?be*(D-de)*_e+Ce+be*te+(k(Te)?_e*Te:0):void 0),D},Ae.prototype.toPixels=function(D,P){return this.translate(D,!1,!this.horiz,null,!0)+(P?0:this.pos)},Ae.prototype.toValue=function(D,P){return this.translate(D-(P?0:this.pos),!0,!this.horiz,null,!0)},Ae.prototype.getPlotLinePath=function(D){function P(Be,fe,Ie){return("pass"!==ze&&Be<fe||Be>Ie)&&(ze?Be=V(Be,fe,Ie):Ke=!0),Be}var Ne,it,lt,st,Ke,X=this,_e=X.chart,ye=X.left,Te=X.top,N=D.old,de=D.value,te=D.lineWidth,be=N&&_e.oldChartHeight||_e.chartHeight,Ce=N&&_e.oldChartWidth||_e.chartWidth,Le=X.transB,Oe=D.translatedValue,ze=D.force;return O(this,"getPlotLinePath",D={value:de,lineWidth:te,old:N,force:ze,acrossPanes:D.acrossPanes,translatedValue:Oe},function(Be){Oe=H(Oe,X.translate(de,null,null,N)),Oe=V(Oe,-1e5,1e5),Ne=lt=Math.round(Oe+Le),it=st=Math.round(be-Oe-Le),k(Oe)?X.horiz?(it=Te,st=be-X.bottom,Ne=lt=P(Ne,ye,ye+X.width)):(Ne=ye,lt=Ce-X.right,it=st=P(it,Te,Te+X.height)):(Ke=!0,ze=!1),Be.path=Ke&&!ze?null:_e.renderer.crispLine([["M",Ne,it],["L",lt,st]],te||1)}),D.path},Ae.prototype.getLinearTickPositions=function(D,P,X){var _e=$(Math.floor(P/D)*D);X=$(Math.ceil(X/D)*D);var Te,ye=[];if($(_e+D)===_e&&(Te=20),this.single)return[P];for(P=_e;P<=X&&(ye.push(P),(P=$(P+D,Te))!==N);)var N=P;return ye},Ae.prototype.getMinorTickInterval=function(){var D=this.options;return!0===D.minorTicks?H(D.minorTickInterval,"auto"):!1===D.minorTicks?null:D.minorTickInterval},Ae.prototype.getMinorTickPositions=function(){var D=this.options,P=this.tickPositions,X=this.minorTickInterval,_e=this.pointRangePadding||0,ye=this.min-_e,Te=(_e=this.max+_e)-ye,N=[];if(Te&&Te/X<this.len/3){var de=this.logarithmic;if(de)this.paddedTicks.forEach(function(te,be,Ce){be&&N.push.apply(N,de.getLogTickPositions(X,Ce[be-1],Ce[be],!0))});else if(this.dateTime&&"auto"===this.getMinorTickInterval())N=N.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(X),ye,_e,D.startOfWeek));else for(D=ye+(P[0]-ye)%X;D<=_e&&D!==N[0];D+=X)N.push(D)}return 0!==N.length&&this.trimTicks(N),N},Ae.prototype.adjustForMinRange=function(){var Te,N,de,te,D=this.options,P=this.logarithmic,X=this.min,_e=this.max,ye=0;if(this.isXAxis&&void 0===this.minRange&&!P&&(L(D.min)||L(D.max)||L(D.floor)||L(D.ceiling)?this.minRange=null:(this.series.forEach(function(Oe){if(de=Oe.xData,te=Oe.xIncrement?1:de.length-1,1<de.length)for(Te=te;0<Te;Te--)N=de[Te]-de[Te-1],(!ye||N<ye)&&(ye=N)}),this.minRange=Math.min(5*ye,this.dataMax-this.dataMin))),_e-X<this.minRange){var be=this.dataMax-this.dataMin>=this.minRange,Ce=this.minRange,Le=(Ce-_e+X)/2;Le=[X-Le,H(D.min,X-Le)],be&&(Le[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),_e=[(X=I(Le))+Ce,H(D.max,X+Ce)],be&&(_e[2]=P?P.log2lin(this.dataMax):this.dataMax),(_e=R(_e))-X<Ce&&(Le[0]=_e-Ce,Le[1]=H(D.min,_e-Ce),X=I(Le))}this.min=X,this.max=_e},Ae.prototype.getClosest=function(){var D;return this.categories?D=1:this.series.forEach(function(P){var X=P.closestPointRange,_e=P.visible||!P.chart.options.chart.ignoreHiddenSeries;!P.noSharedTooltip&&L(X)&&_e&&(D=L(D)?Math.min(D,X):X)}),D},Ae.prototype.nameToX=function(D){var P=w(this.categories),X=P?this.categories:this.names,_e=D.options.x;if(D.series.requireSorting=!1,L(_e)||(_e=this.options.uniqueNames?P?X.indexOf(D.name):H(X.keys[D.name],-1):D.series.autoIncrement()),-1===_e){if(!P)var ye=X.length}else ye=_e;return void 0!==ye&&(this.names[ye]=D.name,this.names.keys[D.name]=ye),ye},Ae.prototype.updateNames=function(){var D=this,P=this.names;0<P.length&&(Object.keys(P.keys).forEach(function(X){delete P.keys[X]}),P.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(X){X.xIncrement=null,(!X.points||X.isDirtyData)&&(D.max=Math.max(D.max,X.xData.length-1),X.processData(),X.generatePoints()),X.data.forEach(function(_e,ye){if(_e&&_e.options&&void 0!==_e.name){var Te=D.nameToX(_e);void 0!==Te&&Te!==_e.x&&(_e.x=Te,X.xData[ye]=Te)}})}))},Ae.prototype.setAxisTranslation=function(){var te,D=this,P=D.max-D.min,X=D.linkedParent,_e=!!D.categories,ye=D.isXAxis,Te=D.axisPointRange||0,N=0,de=0;if(ye||_e||Te){var be=D.getClosest();X?(N=X.minPointOffset,de=X.pointRangePadding):D.series.forEach(function(Ce){var Le=_e?1:ye?H(Ce.options.pointRange,be,0):D.axisPointRange||0,Oe=Ce.options.pointPlacement;Te=Math.max(Te,Le),(!D.single||_e)&&(Ce=Ce.is("xrange")?!ye:ye,N=Math.max(N,Ce&&C(Oe)?0:Le/2),de=Math.max(de,Ce&&"on"===Oe?0:Le))}),D.minPointOffset=N*=X=D.ordinal&&D.ordinal.slope&&be?D.ordinal.slope/be:1,D.pointRangePadding=de*=X,D.pointRange=Math.min(Te,D.single&&_e?1:P),ye&&(D.closestPointRange=be)}D.translationSlope=D.transA=te=D.staticScale||D.len/(P+de||1),D.transB=D.horiz?D.left:D.bottom,D.minPixelPadding=te*N,O(this,"afterSetAxisTranslation")},Ae.prototype.minFromRange=function(){return this.max-this.range},Ae.prototype.setTickInterval=function(D){var P=this.chart,X=this.logarithmic,_e=this.options,ye=this.isXAxis,Te=this.isLinked,N=_e.tickPixelInterval,de=this.categories,te=this.softThreshold,be=_e.maxPadding,Ce=_e.minPadding,Le=k(_e.tickInterval)&&0<=_e.tickInterval?_e.tickInterval:void 0,Oe=k(this.threshold)?this.threshold:null;this.dateTime||de||Te||this.getTickAmount();var ze=H(this.userMin,_e.min),Ne=H(this.userMax,_e.max);if(Te){this.linkedParent=P[this.coll][_e.linkedTo];var it=this.linkedParent.getExtremes();this.min=H(it.min,it.dataMin),this.max=H(it.max,it.dataMax),_e.type!==this.linkedParent.options.type&&se(11,1,P)}else{if(te&&L(Oe))if(this.dataMin>=Oe)it=Oe,Ce=0;else if(this.dataMax<=Oe){var lt=Oe;be=0}this.min=H(ze,it,this.dataMin),this.max=H(Ne,lt,this.dataMax)}if(X&&(this.positiveValuesOnly&&!D&&0>=Math.min(this.min,H(this.dataMin,this.min))&&se(10,1,P),this.min=$(X.log2lin(this.min),16),this.max=$(X.log2lin(this.max),16)),this.range&&L(this.max)&&(this.userMin=this.min=ze=Math.max(this.dataMin,this.minFromRange()),this.userMax=Ne=this.max,this.range=null),O(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(de||this.axisPointRange||this.stacking&&this.stacking.usePercentage||Te)&&L(this.min)&&L(this.max)&&(P=this.max-this.min)&&(!L(ze)&&Ce&&(this.min-=P*Ce),!L(Ne)&&be&&(this.max+=P*be)),k(this.userMin)||(k(_e.softMin)&&_e.softMin<this.min&&(this.min=ze=_e.softMin),k(_e.floor)&&(this.min=Math.max(this.min,_e.floor))),k(this.userMax)||(k(_e.softMax)&&_e.softMax>this.max&&(this.max=Ne=_e.softMax),k(_e.ceiling)&&(this.max=Math.min(this.max,_e.ceiling))),te&&L(this.dataMin)&&(Oe=Oe||0,!L(ze)&&this.min<Oe&&this.dataMin>=Oe?this.min=this.options.minRange?Math.min(Oe,this.max-this.minRange):Oe:!L(Ne)&&this.max>Oe&&this.dataMax<=Oe&&(this.max=this.options.minRange?Math.max(Oe,this.min+this.minRange):Oe)),k(this.min)&&k(this.max)&&!this.chart.polar&&this.min>this.max&&(L(this.options.min)?this.max=this.min:L(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||void 0===this.min||void 0===this.max?1:Te&&this.linkedParent&&!Le&&N===this.linkedParent.options.tickPixelInterval?Le=this.linkedParent.tickInterval:H(Le,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,de?1:(this.max-this.min)*N/Math.max(this.len,N)),ye&&!D){var st=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(Ke){Ke.forceCrop=Ke.forceCropping&&Ke.forceCropping(),Ke.processData(st)}),O(this,"postProcessData",{hasExtemesChanged:st})}this.setAxisTranslation(),O(this,"initialAxisTranslation"),this.pointRange&&!Le&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),D=H(_e.minTickInterval,this.dateTime&&!this.series.some(function(Ke){return Ke.noSharedTooltip})?this.closestPointRange:0),!Le&&this.tickInterval<D&&(this.tickInterval=D),this.dateTime||this.logarithmic||Le||(this.tickInterval=j(this.tickInterval,void 0,T(this.tickInterval),H(_e.allowDecimals,.5>this.tickInterval||void 0!==this.tickAmount),!!this.tickAmount)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()},Ae.prototype.setTickPositions=function(){var D=this.options,P=D.tickPositions,X=this.getMinorTickInterval(),_e=this.hasVerticalPanning(),ye="colorAxis"===this.coll,Te=(ye||!_e)&&D.startOnTick;_e=(ye||!_e)&&D.endOnTick,ye=D.tickPositioner,this.tickmarkOffset=this.categories&&"between"===D.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===X&&this.tickInterval?this.tickInterval/5:X,this.single=this.min===this.max&&L(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==D.allowDecimals),this.tickPositions=X=P&&P.slice(),!X&&(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))?X=this.dateTime?this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,D.units),this.min,this.max,D.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0):this.logarithmic?this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max):(X=[this.min,this.max],se(19,!1,this.chart)),X.length>this.len&&(X=[X[0],X.pop()])[0]===X[1]&&(X.length=1),this.tickPositions=X,ye&&(ye=ye.apply(this,[this.min,this.max])))&&(this.tickPositions=X=ye),this.paddedTicks=X.slice(0),this.trimTicks(X,Te,_e),this.isLinked||(this.single&&2>X.length&&!this.categories&&!this.series.some(function(N){return N.is("heatmap")&&"between"===N.options.pointPlacement})&&(this.min-=.5,this.max+=.5),P||ye||this.adjustTickAmount()),O(this,"afterSetTickPositions")},Ae.prototype.trimTicks=function(D,P,X){var _e=D[0],ye=D[D.length-1],Te=!this.isOrdinal&&this.minPointOffset||0;if(O(this,"trimTicks"),!this.isLinked){if(P&&_e!==-1/0)this.min=_e;else for(;this.min-Te>D[0];)D.shift();if(X)this.max=ye;else for(;this.max+Te<D[D.length-1];)D.pop();0===D.length&&L(_e)&&!this.options.tickPositions&&D.push((ye+_e)/2)}},Ae.prototype.alignToOthers=function(){var X,D={},P=this.options;return!1!==this.chart.options.chart.alignTicks&&P.alignTicks&&!1!==P.startOnTick&&!1!==P.endOnTick&&!this.logarithmic&&this.chart[this.coll].forEach(function(_e){var ye=_e.options;ye=[_e.horiz?ye.left:ye.top,ye.width,ye.height,ye.pane].join(),_e.series.length&&(D[ye]?X=!0:D[ye]=1)}),X},Ae.prototype.getTickAmount=function(){var D=this.options,P=D.tickPixelInterval,X=D.tickAmount;!L(D.tickInterval)&&!X&&this.len<P&&!this.isRadial&&!this.logarithmic&&D.startOnTick&&D.endOnTick&&(X=2),!X&&this.alignToOthers()&&(X=Math.ceil(this.len/P)+1),4>X&&(this.finalTickAmt=X,X=5),this.tickAmount=X},Ae.prototype.adjustTickAmount=function(){var D=this.options,P=this.tickInterval,X=this.tickPositions,_e=this.tickAmount,ye=this.finalTickAmt,Te=X&&X.length,N=H(this.threshold,this.softThreshold?0:null);if(this.hasData()&&k(this.min)&&k(this.max)){if(Te<_e){for(;X.length<_e;)X.length%2||this.min===N?X.push($(X[X.length-1]+P)):X.unshift($(X[0]-P));this.transA*=(Te-1)/(_e-1),this.min=D.startOnTick?X[0]:Math.min(this.min,X[0]),this.max=D.endOnTick?X[X.length-1]:Math.max(this.max,X[X.length-1])}else Te>_e&&(this.tickInterval*=2,this.setTickPositions());if(L(ye)){for(P=D=X.length;P--;)(3===ye&&P%2==1||2>=ye&&0<P&&P<D-1)&&X.splice(P,1);this.finalTickAmt=void 0}}},Ae.prototype.setScale=function(){var D=!1,P=!1;this.series.forEach(function(_e){D=D||_e.isDirtyData||_e.isDirty,P=P||_e.xAxis&&_e.xAxis.isDirty||!1}),this.setAxisSize();var X=this.len!==(this.old&&this.old.len);X||D||P||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&this.stacking.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=X||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),D&&this.panningState&&(this.panningState.isDirty=!0),O(this,"afterSetScale")},Ae.prototype.setExtremes=function(D,P,X,_e,ye){var Te=this,N=Te.chart;X=H(X,!0),Te.series.forEach(function(de){delete de.kdTree}),ye=ee(ye,{min:D,max:P}),O(Te,"setExtremes",ye,function(){Te.userMin=D,Te.userMax=P,Te.eventArgs=ye,X&&N.redraw(_e)})},Ae.prototype.zoom=function(D,P){var X=this,_e=this.dataMin,ye=this.dataMax,Te=this.options,N=Math.min(_e,H(Te.min,_e)),de=Math.max(ye,H(Te.max,ye));return O(this,"zoom",D={newMin:D,newMax:P},function(te){var be=te.newMin,Ce=te.newMax;(be!==X.min||Ce!==X.max)&&(X.allowZoomOutside||(L(_e)&&(be<N&&(be=N),be>de&&(be=de)),L(ye)&&(Ce<N&&(Ce=N),Ce>de&&(Ce=de))),X.displayBtn=void 0!==be||void 0!==Ce,X.setExtremes(be,Ce,!1,void 0,{trigger:"zoom"})),te.zoomed=!0}),D.zoomed},Ae.prototype.setAxisSize=function(){var D=this.chart,P=this.options,X=P.offsets||[0,0,0,0],_e=this.horiz,ye=this.width=Math.round(oe(H(P.width,D.plotWidth-X[3]+X[1]),D.plotWidth)),Te=this.height=Math.round(oe(H(P.height,D.plotHeight-X[0]+X[2]),D.plotHeight)),N=this.top=Math.round(oe(H(P.top,D.plotTop+X[0]),D.plotHeight,D.plotTop));P=this.left=Math.round(oe(H(P.left,D.plotLeft+X[3]),D.plotWidth,D.plotLeft)),this.bottom=D.chartHeight-Te-N,this.right=D.chartWidth-ye-P,this.len=Math.max(_e?ye:Te,0),this.pos=_e?P:N},Ae.prototype.getExtremes=function(){var D=this.logarithmic;return{min:D?$(D.lin2log(this.min)):this.min,max:D?$(D.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},Ae.prototype.getThreshold=function(D){var P=this.logarithmic,X=P?P.lin2log(this.min):this.min;return P=P?P.lin2log(this.max):this.max,null===D||D===-1/0?D=X:D===1/0?D=P:X>D?D=X:P<D&&(D=P),this.translate(D,0,1,0,1)},Ae.prototype.autoLabelAlign=function(D){var P=(H(D,0)-90*this.side+720)%360;return O(this,"autoLabelAlign",D={align:"center"},function(X){15<P&&165>P?X.align="right":195<P&&345>P&&(X.align="left")}),D.align},Ae.prototype.tickSize=function(D){var P=this.options,X=H(P["tick"===D?"tickWidth":"minorTickWidth"],"tick"===D&&this.isXAxis&&!this.categories?1:0),_e=P["tick"===D?"tickLength":"minorTickLength"];if(X&&_e){"inside"===P[D+"Position"]&&(_e=-_e);var ye=[_e,X]}return O(this,"afterTickSize",D={tickSize:ye}),D.tickSize},Ae.prototype.labelMetrics=function(){var D=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[D]&&this.ticks[D].label)},Ae.prototype.unsquish=function(){var be,Ce,D=this.options.labels,P=this.horiz,X=this.tickInterval,_e=this.len/(((this.categories?1:0)+this.max-this.min)/X),ye=D.rotation,Te=this.labelMetrics(),N=Math.max(this.max-this.min,0),de=function(ze){var Ne=ze/(_e||1);return(Ne=1<Ne?Math.ceil(Ne):1)*X>N&&ze!==1/0&&_e!==1/0&&N&&(Ne=Math.ceil(N/X)),$(Ne*X)},te=X,Le=Number.MAX_VALUE;if(P){if(!D.staggerLines&&!D.step)if(k(ye))var Oe=[ye];else _e<D.autoRotationLimit&&(Oe=D.autoRotation);Oe&&Oe.forEach(function(ze){if(ze===ye||ze&&-90<=ze&&90>=ze){var Ne=(Ce=de(Math.abs(Te.h/Math.sin(M*ze))))+Math.abs(ze/360);Ne<Le&&(Le=Ne,be=ze,te=Ce)}})}else D.step||(te=de(Te.h));return this.autoRotation=Oe,this.labelRotation=H(be,k(ye)?ye:0),te},Ae.prototype.getSlotWidth=function(D){var P=this.chart,X=this.horiz,_e=this.options.labels,ye=Math.max(this.tickPositions.length-(this.categories?0:1),1),Te=P.margin[3];if(D&&k(D.slotWidth))return D.slotWidth;if(X&&2>_e.step)return _e.rotation?0:(this.staggerLines||1)*this.len/ye;if(!X){if(void 0!==(D=_e.style.width))return parseInt(String(D),10);if(Te)return Te-P.spacing[3]}return.33*P.chartWidth},Ae.prototype.renderUnsquish=function(){var D=this.chart,P=D.renderer,X=this.tickPositions,_e=this.ticks,ye=this.options.labels,Te=ye.style,N=this.horiz,de=this.getSlotWidth(),te=Math.max(1,Math.round(de-2*ye.padding)),be={},Ce=this.labelMetrics(),Le=Te.textOverflow,Oe=0;if(C(ye.rotation)||(be.rotation=ye.rotation||0),X.forEach(function(lt){(lt=_e[lt]).movedLabel&&lt.replaceMovedLabel(),lt&&lt.label&&lt.label.textPxLength>Oe&&(Oe=lt.label.textPxLength)}),this.maxLabelLength=Oe,this.autoRotation)Oe>te&&Oe>Ce.h?be.rotation=this.labelRotation:this.labelRotation=0;else if(de){var ze=te;if(!Le){var Ne="clip";for(te=X.length;!N&&te--;){var it=X[te];(it=_e[it].label)&&(it.styles&&"ellipsis"===it.styles.textOverflow?it.css({textOverflow:"clip"}):it.textPxLength>de&&it.css({width:de+"px"}),it.getBBox().height>this.len/X.length-(Ce.h-Ce.f)&&(it.specificTextOverflow="ellipsis"))}}}be.rotation&&(ze=Oe>.5*D.chartHeight?.33*D.chartHeight:Oe,Le||(Ne="ellipsis")),(this.labelAlign=ye.align||this.autoLabelAlign(this.labelRotation))&&(be.align=this.labelAlign),X.forEach(function(lt){var st=(lt=_e[lt])&&lt.label,Ke=Te.width,Be={};st&&(st.attr(be),lt.shortenLabel?lt.shortenLabel():ze&&!Ke&&"nowrap"!==Te.whiteSpace&&(ze<st.textPxLength||"SPAN"===st.element.tagName)?(Be.width=ze+"px",Le||(Be.textOverflow=st.specificTextOverflow||Ne),st.css(Be)):st.styles&&st.styles.width&&!Be.width&&!Ke&&st.css({width:null}),delete st.specificTextOverflow,lt.rotation=be.rotation)},this),this.tickRotCorr=P.rotCorr(Ce.b,this.labelRotation||0,0!==this.side)},Ae.prototype.hasData=function(){return this.series.some(function(D){return D.hasData()})||this.options.showEmpty&&L(this.min)&&L(this.max)},Ae.prototype.addTitle=function(D){var N,_e=this.opposite,ye=this.options.title,Te=this.chart.styledMode;this.axisTitle||((N=ye.textAlign)||(N=(this.horiz?{low:"left",middle:"center",high:"right"}:{low:_e?"right":"left",middle:"center",high:_e?"left":"right"})[ye.align]),this.axisTitle=this.chart.renderer.text(ye.text||"",0,0,ye.useHTML).attr({zIndex:7,rotation:ye.rotation,align:N}).addClass("highcharts-axis-title"),Te||this.axisTitle.css(U(ye.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),Te||ye.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[D?"show":"hide"](D)},Ae.prototype.generateTick=function(D){var P=this.ticks;P[D]?P[D].addLabel():P[D]=new re(this,D)},Ae.prototype.getOffset=function(){var D=this,P=this,X=P.chart,_e=P.horiz,ye=P.options,Te=P.side,N=P.ticks,de=P.tickPositions,te=P.coll,be=P.axisParent,Ce=X.renderer,Le=X.inverted&&!P.isZAxis?[1,0,3,2][Te]:Te,Oe=P.hasData(),ze=ye.title,Ne=ye.labels,it=X.axisOffset;X=X.clipOffset;var Ke,lt=[-1,1,1,-1][Te],st=ye.className,Be=0,fe=0,Ie=0;if(P.showAxis=Ke=Oe||ye.showEmpty,P.staggerLines=P.horiz&&Ne.staggerLines||void 0,!P.axisGroup){var Ve=function(je,et,mt){return Ce.g(je).attr({zIndex:mt}).addClass("highcharts-"+te.toLowerCase()+et+" "+(D.isRadial?"highcharts-radial-axis"+et+" ":"")+(st||"")).add(be)};P.gridGroup=Ve("grid","-grid",ye.gridZIndex),P.axisGroup=Ve("axis","",ye.zIndex),P.labelGroup=Ve("axis-labels","-labels",Ne.zIndex)}if(Oe||P.isLinked?(de.forEach(function(je){P.generateTick(je)}),P.renderUnsquish(),P.reserveSpaceDefault=0===Te||2===Te||{1:"left",3:"right"}[Te]===P.labelAlign,H(Ne.reserveSpace,"center"===P.labelAlign||null,P.reserveSpaceDefault)&&de.forEach(function(je){Ie=Math.max(N[je].getLabelSize(),Ie)}),P.staggerLines&&(Ie*=P.staggerLines),P.labelOffset=Ie*(P.opposite?-1:1)):S(N,function(je,et){je.destroy(),delete N[et]}),ze&&ze.text&&!1!==ze.enabled&&(P.addTitle(Ke),Ke&&!1!==ze.reserveSpace)){P.titleOffset=Be=P.axisTitle.getBBox()[_e?"height":"width"];var Ze=ze.offset;fe=L(Ze)?0:H(ze.margin,_e?5:10)}P.renderLine(),P.offset=lt*H(ye.offset,it[Te]?it[Te]+(ye.margin||0):0),P.tickRotCorr=P.tickRotCorr||{x:0,y:0},ze=0===Te?-P.labelMetrics().h:2===Te?P.tickRotCorr.y:0,Oe=Math.abs(Ie)+fe,Ie&&(Oe=Oe-ze+lt*(_e?H(Ne.y,P.tickRotCorr.y+8*lt):Ne.x)),P.axisTitleMargin=H(Ze,Oe),P.getMaxLabelDimensions&&(P.maxLabelDimensions=P.getMaxLabelDimensions(N,de)),"colorAxis"!==te&&(_e=this.tickSize("tick"),it[Te]=Math.max(it[Te],(P.axisTitleMargin||0)+Be+lt*P.offset,Oe,de&&de.length&&_e?_e[0]+lt*P.offset:0),ye=!P.axisLine||ye.offset?0:2*Math.floor(P.axisLine.strokeWidth()/2),X[Le]=Math.max(X[Le],ye)),O(this,"afterGetOffset")},Ae.prototype.getLinePath=function(D){var P=this.chart,X=this.opposite,_e=this.offset,ye=this.horiz,Te=this.left+(X?this.width:0)+_e;return _e=P.chartHeight-this.bottom-(X?this.height:0)+_e,X&&(D*=-1),P.renderer.crispLine([["M",ye?this.left:Te,ye?_e:this.top],["L",ye?P.chartWidth-this.right:Te,ye?_e:P.chartHeight-this.bottom]],D)},Ae.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},Ae.prototype.getTitlePosition=function(){var D=this.horiz,P=this.left,X=this.top,_e=this.len,ye=this.options.title,Te=D?P:X,N=this.opposite,de=this.offset,te=ye.x,be=ye.y,Ce=this.axisTitle,Le=this.chart.renderer.fontMetrics(ye.style.fontSize,Ce);return Ce=Math.max(Ce.getBBox(null,0).height-Le.h-1,0),_e={low:Te+(D?0:_e),middle:Te+_e/2,high:Te+(D?_e:0)}[ye.align],P=(D?X+this.height:P)+(D?1:-1)*(N?-1:1)*this.axisTitleMargin+[-Ce,Ce,Le.f,-Ce][this.side],O(this,"afterGetTitlePosition",{titlePosition:D={x:D?_e+te:P+(N?this.width:0)+de+te,y:D?P+be-(N?this.height:0)+de:_e+be}}),D},Ae.prototype.renderMinorTick=function(D,P){var X=this.minorTicks;X[D]||(X[D]=new re(this,D,"minor")),P&&X[D].isNew&&X[D].render(null,!0),X[D].render(null,!1,1)},Ae.prototype.renderTick=function(D,P,X){var _e=this.ticks;(!this.isLinked||D>=this.min&&D<=this.max||this.grid&&this.grid.isColumn)&&(_e[D]||(_e[D]=new re(this,D)),X&&_e[D].isNew&&_e[D].render(P,!0,-1),_e[D].render(P))},Ae.prototype.render=function(){var lt,st,D=this,P=D.chart,X=D.logarithmic,_e=D.options,ye=D.isLinked,Te=D.tickPositions,N=D.axisTitle,de=D.ticks,te=D.minorTicks,be=D.alternateBands,Ce=_e.stackLabels,Le=_e.alternateGridColor,Oe=D.tickmarkOffset,ze=D.axisLine,Ne=D.showAxis,it=Q(P.renderer.globalAnimation);if(D.labelEdge.length=0,D.overlap=!1,[de,te,be].forEach(function(Be){S(Be,function(fe){fe.isActive=!1})}),D.hasData()||ye){var Ke=D.chart.hasRendered&&D.old&&k(D.old.min);D.minorTickInterval&&!D.categories&&D.getMinorTickPositions().forEach(function(Be){D.renderMinorTick(Be,Ke)}),Te.length&&(Te.forEach(function(Be,fe){D.renderTick(Be,fe,Ke)}),Oe&&(0===D.min||D.single)&&(de[-1]||(de[-1]=new re(D,-1,null,!0)),de[-1].render(-1))),Le&&Te.forEach(function(Be,fe){st=void 0!==Te[fe+1]?Te[fe+1]+Oe:D.max-Oe,fe%2==0&&Be<D.max&&st<=D.max+(P.polar?-Oe:Oe)&&(be[Be]||(be[Be]=new ie.PlotLineOrBand(D)),lt=Be+Oe,be[Be].options={from:X?X.lin2log(lt):lt,to:X?X.lin2log(st):st,color:Le,className:"highcharts-alternate-grid"},be[Be].render(),be[Be].isActive=!0)}),D._addedPlotLB||(D._addedPlotLB=!0,(_e.plotLines||[]).concat(_e.plotBands||[]).forEach(function(Be){D.addPlotBandOrLine(Be)}))}[de,te,be].forEach(function(Be){var fe=[],Ie=it.duration;S(Be,function(Ve,Ze){Ve.isActive||(Ve.render(Ze,!1,0),Ve.isActive=!1,fe.push(Ze))}),Z(function(){for(var Ve=fe.length;Ve--;)Be[fe[Ve]]&&!Be[fe[Ve]].isActive&&(Be[fe[Ve]].destroy(),delete Be[fe[Ve]])},Be!==be&&P.hasRendered&&Ie?Ie:0)}),ze&&(ze[ze.isPlaced?"animate":"attr"]({d:this.getLinePath(ze.strokeWidth())}),ze.isPlaced=!0,ze[Ne?"show":"hide"](Ne)),N&&Ne&&(_e=D.getTitlePosition(),k(_e.y)?(N[N.isNew?"attr":"animate"](_e),N.isNew=!1):(N.attr("y",-9999),N.isNew=!0)),Ce&&Ce.enabled&&D.stacking&&D.stacking.renderStackTotals(),D.old={len:D.len,max:D.max,min:D.min,transA:D.transA,userMax:D.userMax,userMin:D.userMin},D.isDirty=!1,O(this,"afterRender")},Ae.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(D){D.render()})),this.series.forEach(function(D){D.isDirty=!0})},Ae.prototype.getKeepProps=function(){return this.keepProps||Ae.keepProps},Ae.prototype.destroy=function(D){var P=this,X=P.plotLinesAndBands,_e=this.eventOptions;if(O(this,"destroy",{keepEvents:D}),D||ve(P),[P.ticks,P.minorTicks,P.alternateBands].forEach(function(Te){J(Te)}),X)for(D=X.length;D--;)X[D].destroy();for(var ye in"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(Te){P[Te]&&(P[Te]=P[Te].destroy())}),P.plotLinesAndBandsGroups)P.plotLinesAndBandsGroups[ye]=P.plotLinesAndBandsGroups[ye].destroy();S(P,function(Te,N){-1===P.getKeepProps().indexOf(N)&&delete P[N]}),this.eventOptions=_e},Ae.prototype.drawCrosshair=function(D,P){var Te,X=this.crosshair,_e=H(X&&X.snap,!0),ye=this.chart,N=this.cross;if(O(this,"drawCrosshair",{e:D,point:P}),D||(D=this.cross&&this.cross.e),X&&!1!==(L(P)||!_e)){if(_e?L(P)&&(Te=H("colorAxis"!==this.coll?P.crosshairPos:null,this.isXAxis?P.plotX:this.len-P.plotY)):Te=D&&(this.horiz?D.chartX-this.pos:this.len-D.chartY+this.pos),L(Te)){var de={value:P&&(this.isXAxis?P.x:H(P.stackY,P.y)),translatedValue:Te};ye.polar&&ee(de,{isCrosshair:!0,chartX:D&&D.chartX,chartY:D&&D.chartY,point:P}),de=this.getPlotLinePath(de)||null}if(!L(de))return void this.hideCrosshair();_e=this.categories&&!this.isRadial,N||(this.cross=N=ye.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(_e?"category ":"thin ")+(X.className||"")).attr({zIndex:H(X.zIndex,2)}).add(),ye.styledMode||(N.attr({stroke:X.color||(_e?ge.parse("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":H(X.width,1)}).css({"pointer-events":"none"}),X.dashStyle&&N.attr({dashstyle:X.dashStyle}))),N.show().attr({d:de}),_e&&!X.width&&N.attr({"stroke-width":this.transA}),this.cross.e=D}else this.hideCrosshair();O(this,"afterDrawCrosshair",{e:D,point:P})},Ae.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),O(this,"afterHideCrosshair")},Ae.prototype.hasVerticalPanning=function(){var D=this.chart.options.chart.panning;return!!(D&&D.enabled&&/y/.test(D.type))},Ae.prototype.validatePositiveValue=function(D){return k(D)&&0<D},Ae.prototype.update=function(D,P){var X=this.chart;D=U(this.userOptions,D),this.destroy(!0),this.init(X,D),X.isDirtyBox=!0,H(P,!0)&&X.redraw()},Ae.prototype.remove=function(D){for(var P=this.chart,X=this.coll,_e=this.series,ye=_e.length;ye--;)_e[ye]&&_e[ye].remove(!1);Y(P.axes,this),Y(P[X],this),P[X].forEach(function(Te,N){Te.options.index=Te.userOptions.index=N}),this.destroy(),P.isDirtyBox=!0,H(D,!0)&&P.redraw()},Ae.prototype.setTitle=function(D,P){this.update({title:D},P)},Ae.prototype.setCategories=function(D,P){this.update({categories:D},P)},Ae.defaultOptions=ce.defaultXAxisOptions,Ae.keepProps="extKey hcEvents names series userMax userMin".split(" "),Ae}()}),Se(me,"Core/Axis/DateTimeAxis.js",[me["Core/Utilities.js"]],function(ae){var ie,ce=ae.addEvent,ge=ae.getMagnitude,xe=ae.normalizeTickInterval,he=ae.timeUnits;return function(re){function B(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function Q(M){"datetime"!==M.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new q(this))}var W=[];re.compose=function(M){return-1===W.indexOf(M)&&(W.push(M),M.keepProps.push("dateTime"),M.prototype.getTimeTicks=B,ce(M,"init",Q)),M};var q=function(){function M(I){this.axis=I}return M.prototype.normalizeTimeTickInterval=function(I,R){var J,V=R||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],$=he[(R=V[V.length-1])[0]],L=R[1];for(J=0;J<V.length&&($=he[(R=V[J])[0]],L=R[1],!(V[J+1]&&I<=($*L[L.length-1]+he[V[J+1][0]])/2));J++);return $===he.year&&I<5*$&&(L=[1,2,5]),{unitRange:$,count:I=xe(I/$,L,"year"===R[0]?Math.max(ge(I/$),1):1),unitName:R[0]}},M.prototype.getXDateFormat=function(I,R){var V=this.axis;return V.closestPointRange?V.chart.time.getDateFormat(V.closestPointRange,I,V.options.startOfWeek,R)||R.year:R.day},M}();re.Additions=q}(ie||(ie={})),ie}),Se(me,"Core/Axis/LogarithmicAxis.js",[me["Core/Utilities.js"]],function(ae){var ie,ce=ae.addEvent,ge=ae.getMagnitude,xe=ae.normalizeTickInterval,he=ae.pick;return function(re){function B(M){var I=this.logarithmic;"logarithmic"!==M.userOptions.type?this.logarithmic=void 0:I||(this.logarithmic=new q(this))}function Q(){var M=this.logarithmic;M&&(this.lin2val=function(I){return M.lin2log(I)},this.val2lin=function(I){return M.log2lin(I)})}var W=[];re.compose=function(M){return-1===W.indexOf(M)&&(W.push(M),M.keepProps.push("logarithmic"),ce(M,"init",B),ce(M,"afterInit",Q)),M};var q=function(){function M(I){this.axis=I}return M.prototype.getLogTickPositions=function(I,R,V,$){var L=this.axis,J=L.len,Y=L.options,se=[];if($||(this.minorAutoInterval=void 0),.5<=I)I=Math.round(I),se=L.getLinearTickPositions(I,R,V);else if(.08<=I){var O,ee=Math.floor(R),T=Y=void 0;for(J=.3<I?[1,2,4]:.15<I?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];ee<V+1&&!T;ee++){var w=J.length;for(O=0;O<w&&!T;O++){var k=this.log2lin(this.lin2log(ee)*J[O]);k>R&&(!$||Y<=V)&&void 0!==Y&&se.push(Y),Y>V&&(T=!0),Y=k}}}else R=this.lin2log(R),V=this.lin2log(V),I=$?L.getMinorTickInterval():Y.tickInterval,I=he("auto"===I?null:I,this.minorAutoInterval,Y.tickPixelInterval/($?5:1)*(V-R)/(($?J/L.tickPositions.length:J)||1)),I=xe(I,void 0,ge(I)),se=L.getLinearTickPositions(I,R,V).map(this.log2lin),$||(this.minorAutoInterval=I/5);return $||(L.tickInterval=I),se},M.prototype.lin2log=function(I){return Math.pow(10,I)},M.prototype.log2lin=function(I){return Math.log(I)/Math.LN10},M}();re.Additions=q}(ie||(ie={})),ie}),Se(me,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[me["Core/Utilities.js"]],function(ae){var he,ce=ae.erase,ge=ae.extend,xe=ae.isNumber;return function(ie){var B,re=[];ie.compose=function(W,q){return B||(B=W),-1===re.indexOf(q)&&(re.push(q),ge(q.prototype,Q.prototype)),q};var Q=function(){function W(){}return W.prototype.getPlotBandPath=function(q,M,I){void 0===I&&(I=this.options);var R=this.getPlotLinePath({value:M,force:!0,acrossPanes:I.acrossPanes}),V=[],$=this.horiz;if(M=!xe(this.min)||!xe(this.max)||q<this.min&&M<this.min||q>this.max&&M>this.max,q=this.getPlotLinePath({value:q,force:!0,acrossPanes:I.acrossPanes}),I=1,q&&R){if(M){var L=q.toString()===R.toString();I=0}for(M=0;M<q.length;M+=2){var J=q[M],Y=q[M+1],se=R[M],ee=R[M+1];"M"!==J[0]&&"L"!==J[0]||"M"!==Y[0]&&"L"!==Y[0]||"M"!==se[0]&&"L"!==se[0]||"M"!==ee[0]&&"L"!==ee[0]||($&&se[1]===J[1]?(se[1]+=I,ee[1]+=I):$||se[2]!==J[2]||(se[2]+=I,ee[2]+=I),V.push(["M",J[1],J[2]],["L",Y[1],Y[2]],["L",ee[1],ee[2]],["L",se[1],se[2]],["Z"])),V.isFlat=L}}return V},W.prototype.addPlotBand=function(q){return this.addPlotBandOrLine(q,"plotBands")},W.prototype.addPlotLine=function(q){return this.addPlotBandOrLine(q,"plotLines")},W.prototype.addPlotBandOrLine=function(q,M){var I=this,R=this.userOptions,V=new B(this,q);if(this.visible&&(V=V.render()),V){if(this._addedPlotLB||(this._addedPlotLB=!0,(R.plotLines||[]).concat(R.plotBands||[]).forEach(function(L){I.addPlotBandOrLine(L)})),M){var $=R[M]||[];$.push(q),R[M]=$}this.plotLinesAndBands.push(V)}return V},W.prototype.removePlotBandOrLine=function(q){var M=this.plotLinesAndBands,I=this.options,R=this.userOptions;if(M){for(var V=M.length;V--;)M[V].id===q&&M[V].destroy();[I.plotLines||[],R.plotLines||[],I.plotBands||[],R.plotBands||[]].forEach(function($){for(V=$.length;V--;)($[V]||{}).id===q&&ce($,$[V])})}},W.prototype.removePlotBand=function(q){this.removePlotBandOrLine(q)},W.prototype.removePlotLine=function(q){this.removePlotBandOrLine(q)},W}()}(he||(he={})),he}),Se(me,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[me["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],me["Core/Utilities.js"]],function(ae,ce){var ge=ce.arrayMax,xe=ce.arrayMin,he=ce.defined,ie=ce.destroyObjectProperties,re=ce.erase,B=ce.fireEvent,Q=ce.merge,W=ce.objectEach,q=ce.pick;return function(){function M(I,R){this.axis=I,R&&(this.options=R,this.id=R.id)}return M.compose=function(I){return ae.compose(M,I)},M.prototype.render=function(){B(this,"render");var I=this,R=I.axis,V=R.horiz,$=R.logarithmic,L=I.options,J=L.color,Y=q(L.zIndex,0),se=L.events,ee={},O=R.chart.renderer,T=L.label,w=I.label,k=L.to,C=L.from,U=L.value,j=I.svgElem,S=[],H=he(C)&&he(k);S=he(U);var oe=!j,ve={class:"highcharts-plot-"+(H?"band ":"line ")+(L.className||"")},pe=H?"bands":"lines";if($&&(C=$.log2lin(C),k=$.log2lin(k),U=$.log2lin(U)),R.chart.styledMode||(S?(ve.stroke=J||"#999999",ve["stroke-width"]=q(L.width,1),L.dashStyle&&(ve.dashstyle=L.dashStyle)):H&&(ve.fill=J||"#e6ebf5",L.borderWidth&&(ve.stroke=L.borderColor,ve["stroke-width"]=L.borderWidth))),ee.zIndex=Y,($=R.plotLinesAndBandsGroups[pe+="-"+Y])||(R.plotLinesAndBandsGroups[pe]=$=O.g("plot-"+pe).attr(ee).add()),oe&&(I.svgElem=j=O.path().attr(ve).add($)),S)S=R.getPlotLinePath({value:U,lineWidth:j.strokeWidth(),acrossPanes:L.acrossPanes});else{if(!H)return;S=R.getPlotBandPath(C,k,L)}return!I.eventsAdded&&se&&(W(se,function(Z,Ae){j.on(Ae,function(D){se[Ae].apply(I,[D])})}),I.eventsAdded=!0),(oe||!j.d)&&S&&S.length?j.attr({d:S}):j&&(S?(j.show(!0),j.animate({d:S})):j.d&&(j.hide(),w&&(I.label=w=w.destroy()))),T&&(he(T.text)||he(T.formatter))&&S&&S.length&&0<R.width&&0<R.height&&!S.isFlat?(T=Q({align:V&&H&&"center",x:V?!H&&4:10,verticalAlign:!V&&H&&"middle",y:V?H?16:10:H?6:-4,rotation:V&&!H&&90},T),this.renderLabel(T,S,H,Y)):w&&w.hide(),I},M.prototype.renderLabel=function(I,R,V,$){var L=this.axis,J=L.chart.renderer,Y=this.label;Y||(this.label=Y=J.text(this.getLabelText(I),0,0,I.useHTML).attr({align:I.textAlign||I.align,rotation:I.rotation,class:"highcharts-plot-"+(V?"band":"line")+"-label "+(I.className||""),zIndex:$}).add(),L.chart.styledMode||Y.css(Q({textOverflow:"ellipsis"},I.style))),$=R.xBounds||[R[0][1],R[1][1],V?R[2][1]:R[0][1]],R=R.yBounds||[R[0][2],R[1][2],V?R[2][2]:R[0][2]],V=xe($),J=xe(R),Y.align(I,!1,{x:V,y:J,width:ge($)-V,height:ge(R)-J}),Y.alignValue&&"left"!==Y.alignValue||Y.css({width:(90===Y.rotation?L.height-(Y.alignAttr.y-L.top):L.width-(Y.alignAttr.x-L.left))+"px"}),Y.show(!0)},M.prototype.getLabelText=function(I){return he(I.formatter)?I.formatter.call(this):I.text},M.prototype.destroy=function(){re(this.axis.plotLinesAndBands,this),delete this.axis,ie(this)},M}()}),Se(me,"Core/Tooltip.js",[me["Core/FormatUtilities.js"],me["Core/Globals.js"],me["Core/Renderer/RendererUtilities.js"],me["Core/Renderer/RendererRegistry.js"],me["Core/Utilities.js"]],function(ae,ce,ge,xe,he){var ie=ae.format,re=ce.doc,B=ge.distribute,Q=he.addEvent,W=he.clamp,q=he.css,M=he.defined,I=he.discardElement,R=he.extend,V=he.fireEvent,$=he.isArray,L=he.isNumber,J=he.isString,Y=he.merge,se=he.pick,ee=he.splat,O=he.syncTimeout;return function(){function T(w,k){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=w,this.init(w,k)}return T.prototype.applyFilter=function(){var w=this.chart;w.renderer.definition({tagName:"filter",attributes:{id:"drop-shadow-"+w.index,opacity:.5},children:[{tagName:"feGaussianBlur",attributes:{in:"SourceAlpha",stdDeviation:1}},{tagName:"feOffset",attributes:{dx:1,dy:1}},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:.3}}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",attributes:{in:"SourceGraphic"}}]}]})},T.prototype.bodyFormatter=function(w){return w.map(function(k){var C=k.series.tooltipOptions;return(C[(k.point.formatPrefix||"point")+"Formatter"]||k.point.tooltipFormatter).call(k.point,C[(k.point.formatPrefix||"point")+"Format"]||"")})},T.prototype.cleanSplit=function(w){this.chart.series.forEach(function(k){var C=k&&k.tt;C&&(!C.isActive||w?k.tt=C.destroy():C.isActive=!1)})},T.prototype.defaultFormatter=function(w){var k=this.points||ee(this),C=[w.tooltipFooterHeaderFormatter(k[0])];return(C=C.concat(w.bodyFormatter(k))).push(w.tooltipFooterHeaderFormatter(k[0],!0)),C},T.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),I(this.container)),he.clearTimeout(this.hideTimer),he.clearTimeout(this.tooltipTimeout)},T.prototype.getAnchor=function(w,k){var oe,ve,C=this.chart,U=C.pointer,j=C.inverted,S=C.plotTop,H=C.plotLeft,pe=0,Z=0;return w=ee(w),this.followPointer&&k?(void 0===k.chartX&&(k=U.normalize(k)),U=[k.chartX-H,k.chartY-S]):w[0].tooltipPos?U=w[0].tooltipPos:(w.forEach(function(Ae){oe=Ae.series.yAxis,pe+=Ae.plotX||0,Z+=Ae.plotLow?(Ae.plotLow+(Ae.plotHigh||0))/2:Ae.plotY||0,(ve=Ae.series.xAxis)&&oe&&(j?(pe+=S+C.plotHeight-ve.len-ve.pos,Z+=H+C.plotWidth-oe.len-oe.pos):(pe+=ve.pos-H,Z+=oe.pos-S))}),pe/=w.length,Z/=w.length,U=[j?C.plotWidth-Z:pe,j?C.plotHeight-pe:Z],this.shared&&1<w.length&&k&&(j?U[0]=k.chartX-H:U[1]=k.chartY-S)),U.map(Math.round)},T.prototype.getLabel=function(){var ve,w=this,k=this.chart.styledMode,C=this.options,U=this.split&&this.allowShared,j="tooltip"+(M(C.className)?" "+C.className:""),S=C.style.pointerEvents||(!this.followPointer&&C.stickOnContact?"auto":"none"),H=function(){w.inContact=!0},oe=function(_e){var ye=w.chart.hoverSeries;w.inContact=w.shouldStickOnContact()&&w.chart.pointer.inClass(_e.relatedTarget,"highcharts-tooltip"),!w.inContact&&ye&&ye.onMouseOut&&ye.onMouseOut()},pe=this.chart.renderer;if(w.label){var Z=!w.label.hasClass("highcharts-label");(U&&!Z||!U&&Z)&&w.destroy()}if(!this.label){if(this.outside){Z=this.chart.options.chart.style;var Ae=xe.getRendererType();this.container=ve=ce.doc.createElement("div"),ve.className="highcharts-tooltip-container",q(ve,{position:"absolute",top:"1px",pointerEvents:S,zIndex:Math.max(this.options.style.zIndex||0,(Z&&Z.zIndex||0)+3)}),Q(ve,"mouseenter",H),Q(ve,"mouseleave",oe),ce.doc.body.appendChild(ve),this.renderer=pe=new Ae(ve,0,0,Z,void 0,void 0,pe.styledMode)}if(U?this.label=pe.g(j):(this.label=pe.label("",0,0,C.shape,void 0,void 0,C.useHTML,void 0,j).attr({padding:C.padding,r:C.borderRadius}),k||this.label.attr({fill:C.backgroundColor,"stroke-width":C.borderWidth}).css(C.style).css({pointerEvents:S}).shadow(C.shadow)),k&&C.shadow&&(this.applyFilter(),this.label.attr({filter:"url(#drop-shadow-"+this.chart.index+")"})),w.outside&&!w.split){var D=this.label,P=D.xSetter,X=D.ySetter;D.xSetter=function(_e){P.call(D,w.distance),ve.style.left=_e+"px"},D.ySetter=function(_e){X.call(D,w.distance),ve.style.top=_e+"px"}}this.label.on("mouseenter",H).on("mouseleave",oe).attr({zIndex:8}).add()}return this.label},T.prototype.getPosition=function(w,k,C){var X,U=this.chart,j=this.distance,S={},H=U.inverted&&C.h||0,oe=this.outside,ve=oe?re.documentElement.clientWidth-2*j:U.chartWidth,pe=oe?Math.max(re.body.scrollHeight,re.documentElement.scrollHeight,re.body.offsetHeight,re.documentElement.offsetHeight,re.documentElement.clientHeight):U.chartHeight,Z=U.pointer.getChartPosition(),Ae=function(te){var be="x"===te;return[te,be?ve:pe,be?w:k].concat(oe?[be?w*Z.scaleX:k*Z.scaleY,be?Z.left-j+(C.plotX+U.plotLeft)*Z.scaleX:Z.top-j+(C.plotY+U.plotTop)*Z.scaleY,0,be?ve:pe]:[be?w:k,be?C.plotX+U.plotLeft:C.plotY+U.plotTop,be?U.plotLeft:U.plotTop,be?U.plotLeft+U.plotWidth:U.plotTop+U.plotHeight])},D=Ae("y"),P=Ae("x");Ae=!!C.negative,!U.polar&&U.hoverSeries&&U.hoverSeries.yAxis&&U.hoverSeries.yAxis.reversed&&(Ae=!Ae);var _e=!this.followPointer&&se(C.ttBelow,!U.inverted===Ae),ye=function(te,be,Ce,Le,Oe,ze,Ne){var it=oe?"y"===te?j*Z.scaleY:j*Z.scaleX:j,lt=(Ce-Le)/2,st=Le<Oe-j,Ke=Oe+j+Le<be,Be=Oe-it-Ce+lt;if(Oe=Oe+it-lt,_e&&Ke)S[te]=Oe;else if(!_e&&st)S[te]=Be;else if(st)S[te]=Math.min(Ne-Le,0>Be-H?Be:Be-H);else{if(!Ke)return!1;S[te]=Math.max(ze,Oe+H+Ce>be?Oe:Oe+H)}},Te=function(te,be,Ce,Le,Oe){var ze;return Oe<j||Oe>be-j?ze=!1:S[te]=Oe<Ce/2?1:Oe>be-Le/2?be-Le-2:Oe-Ce/2,ze},N=function(te){var be=D;D=P,P=be,X=te},de=function(){!1!==ye.apply(0,D)?!1!==Te.apply(0,P)||X||(N(!0),de()):X?S.x=S.y=0:(N(!0),de())};return(U.inverted||1<this.len)&&N(),de(),S},T.prototype.hide=function(w){var k=this;he.clearTimeout(this.hideTimer),w=se(w,this.options.hideDelay),this.isHidden||(this.hideTimer=O(function(){k.getLabel().fadeOut(w&&void 0),k.isHidden=!0},w))},T.prototype.init=function(w,k){this.chart=w,this.options=k,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=k.split&&!w.inverted&&!w.polar,this.shared=k.shared||this.split,this.outside=se(k.outside,!(!w.scrollablePixelsX&&!w.scrollablePixelsY))},T.prototype.shouldStickOnContact=function(){return!(this.followPointer||!this.options.stickOnContact)},T.prototype.isStickyOnContact=function(){return!(!this.shouldStickOnContact()||!this.inContact)},T.prototype.move=function(w,k,C,U){var j=this,S=j.now,H=!1!==j.options.animation&&!j.isHidden&&(1<Math.abs(w-S.x)||1<Math.abs(k-S.y)),oe=j.followPointer||1<j.len;R(S,{x:H?(2*S.x+w)/3:w,y:H?(S.y+k)/2:k,anchorX:oe?void 0:H?(2*S.anchorX+C)/3:C,anchorY:oe?void 0:H?(S.anchorY+U)/2:U}),j.getLabel().attr(S),j.drawTracker(),H&&(he.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){j&&j.move(w,k,C,U)},32))},T.prototype.refresh=function(w,k){var C=this.chart,U=this.options,j=ee(w),S=j[0],H=[],oe=U.formatter||this.defaultFormatter,ve=this.shared,pe=C.styledMode,Z={};if(U.enabled){he.clearTimeout(this.hideTimer),this.allowShared=!(!$(w)&&w.series&&w.series.noSharedTooltip),this.followPointer=!this.split&&S.series.tooltipOptions.followPointer;var Ae=(w=this.getAnchor(w,k))[0],D=w[1];if(ve&&this.allowShared?(C.pointer.applyInactiveState(j),j.forEach(function(_e){_e.setState("hover"),H.push(_e.getLabelConfig())}),(Z={x:S.category,y:S.y}).points=H):Z=S.getLabelConfig(),this.len=H.length,oe=oe.call(Z,this),this.distance=se((ve=S.series).tooltipOptions.distance,16),!1===oe)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(oe,j);else{var P=Ae,X=D;if(k&&C.pointer.isDirectTouch&&(P=k.chartX-C.plotLeft,X=k.chartY-C.plotTop),!C.polar&&!1!==ve.options.clip&&!j.some(function(_e){return _e.series.shouldShowTooltip(P,X)}))return void this.hide();k=this.getLabel(),U.style.width&&!pe||k.css({width:this.chart.spacingBox.width+"px"}),k.attr({text:oe&&oe.join?oe.join(""):oe}),k.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+se(S.colorIndex,ve.colorIndex)),pe||k.attr({stroke:U.borderColor||S.color||ve.color||"#666666"}),this.updatePosition({plotX:Ae,plotY:D,negative:S.negative,ttBelow:S.ttBelow,h:w[2]||0})}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}V(this,"refresh")}},T.prototype.renderSplit=function(w,k){function C(Ke,Be,fe,Ie,Ve){return void 0===Ve&&(Ve=!0),fe?(Be=Le?0:it,Ke=W(Ke-Ie/2,te.left,te.right-Ie-(U.outside?Oe:0))):(Be-=ze,Ke=W(Ke=Ve?Ke-Ie-Te:Ke+Te,Ve?Ke:te.left,te.right)),{x:Ke,y:Be}}var U=this,j=U.chart,S=U.chart,H=S.chartWidth,oe=S.chartHeight,ve=S.plotHeight,pe=S.plotLeft,Z=S.plotTop,Ae=S.pointer,D=S.scrollablePixelsY;D=void 0===D?0:D;var X=S.scrollingContainer,_e=(X=void 0===X?{scrollLeft:0,scrollTop:0}:X).scrollLeft;X=X.scrollTop;var ye=S.styledMode,Te=U.distance,N=U.options,de=U.options.positioner,te=U.outside&&"number"!=typeof S.scrollablePixelsX?re.documentElement.getBoundingClientRect():{left:_e,right:_e+H,top:X,bottom:X+oe},be=U.getLabel(),Ce=this.renderer||j.renderer,Le=!(!j.xAxis[0]||!j.xAxis[0].opposite),Oe=(j=Ae.getChartPosition()).left;j=j.top;var ze=Z+X,Ne=0,it=ve-D;J(w)&&(w=[!1,w]),w=w.slice(0,k.length+1).reduce(function(Ke,Be,fe){if(!1!==Be&&""!==Be){var Ie=(fe=k[fe-1]||{isHeader:!0,plotX:k[0].plotX,plotY:ve,series:{}}).isHeader,Ve=Ie?U:fe.series;Be=Be.toString();var Ze=Ve.tt,je=fe.isHeader,et=fe.series,mt="highcharts-color-"+se(fe.colorIndex,et.colorIndex,"none");if(Ze||(Ze={padding:N.padding,r:N.borderRadius},ye||(Ze.fill=N.backgroundColor,Ze["stroke-width"]=N.borderWidth),Ze=Ce.label("",0,0,N[je?"headerShape":"shape"],void 0,void 0,N.useHTML).addClass((je?"highcharts-tooltip-header ":"")+"highcharts-tooltip-box "+mt).attr(Ze).add(be)),Ze.isActive=!0,Ze.attr({text:Be}),ye||Ze.css(N.style).shadow(N.shadow).attr({stroke:N.borderColor||fe.color||et.color||"#333333"}),Be=(je=(Ve=Ve.tt=Ze).getBBox()).width+Ve.strokeWidth(),Ie&&(it+=Ne=je.height,Le&&(ze-=Ne)),et=void 0===(et=fe.plotX)?0:et,mt=void 0===(mt=fe.plotY)?0:mt,Ze=fe.series,fe.isHeader){et=pe+et;var It=Z+ve/2}else{var Lt=Ze.xAxis,Et=Ze.yAxis;et=Lt.pos+W(et,-Te,Lt.len+Te),Ze.shouldShowTooltip(0,Et.pos-Z+mt,{ignoreX:!0})&&(It=Et.pos+mt)}et=W(et,te.left-Te,te.right+Te),"number"==typeof It?(je=je.height+1,mt=de?de.call(U,Be,je,fe):C(et,It,Ie,Be),Ke.push({align:de?0:void 0,anchorX:et,anchorY:It,boxWidth:Be,point:fe,rank:se(mt.rank,Ie?1:0),size:je,target:mt.y,tt:Ve,x:mt.x})):Ve.isActive=!1}return Ke},[]),!de&&w.some(function(Ke){var Be=(U.outside?Oe:0)+Ke.anchorX;return Be<te.left&&Be+Ke.boxWidth<te.right||Be<Oe-te.left+Ke.boxWidth&&te.right-Be>Be})&&(w=w.map(function(Ke){var Be=C(Ke.anchorX,Ke.anchorY,Ke.point.isHeader,Ke.boxWidth,!1);return R(Ke,{target:Be.y,x:Be.x})})),U.cleanSplit(),B(w,it);var lt=Oe,st=Oe;w.forEach(function(Ke){var Be=Ke.x,fe=Ke.boxWidth;(Ke=Ke.isHeader)||(U.outside&&Oe+Be<lt&&(lt=Oe+Be),!Ke&&U.outside&&lt+fe>st&&(st=Oe+Be))}),w.forEach(function(Ke){var Be=Ke.x,fe=Ke.anchorX,Ie=Ke.pos,Ve=Ke.point.isHeader;if(Ie={visibility:void 0===Ie?"hidden":"inherit",x:Be,y:Ie+ze,anchorX:fe,anchorY:Ke.anchorY},U.outside&&Be<fe){var Ze=Oe-lt;0<Ze&&(Ve||(Ie.x=Be+Ze,Ie.anchorX=fe+Ze),Ve&&(Ie.x=(st-lt)/2,Ie.anchorX=fe+Ze))}Ke.tt.attr(Ie)}),w=U.container,D=U.renderer,U.outside&&w&&D&&(S=be.getBBox(),D.setSize(S.width+S.x,S.height+S.y,!1),w.style.left=lt+"px",w.style.top=j+"px")},T.prototype.drawTracker=function(){if(this.followPointer||!this.options.stickOnContact)this.tracker&&this.tracker.destroy();else{var w=this.chart,k=this.label,C=this.shared?w.hoverPoints:w.hoverPoint;if(k&&C){var U={x:0,y:0,width:0,height:0};C=this.getAnchor(C);var j=k.getBBox();C[0]+=w.plotLeft-k.translateX,C[1]+=w.plotTop-k.translateY,U.x=Math.min(0,C[0]),U.y=Math.min(0,C[1]),U.width=0>C[0]?Math.max(Math.abs(C[0]),j.width-C[0]):Math.max(Math.abs(C[0]),j.width),U.height=0>C[1]?Math.max(Math.abs(C[1]),j.height-Math.abs(C[1])):Math.max(Math.abs(C[1]),j.height),this.tracker?this.tracker.attr(U):(this.tracker=k.renderer.rect(U).addClass("highcharts-tracker").add(k),w.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}},T.prototype.styledModeFormat=function(w){return w.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')},T.prototype.tooltipFooterHeaderFormatter=function(w,k){var C=w.series,U=C.tooltipOptions,j=C.xAxis,S=j&&j.dateTime,H=U.xDateFormat,oe=U[k?"footerFormat":"headerFormat"];return V(this,"headerFormatter",j={isFooter:k,labelConfig:w},function(ve){S&&!H&&L(w.key)&&(H=S.getXDateFormat(w.key,U.dateTimeLabelFormats)),S&&H&&(w.point&&w.point.tooltipDateKeys||["key"]).forEach(function(pe){oe=oe.replace("{point."+pe+"}","{point."+pe+":"+H+"}")}),C.chart.styledMode&&(oe=this.styledModeFormat(oe)),ve.text=ie(oe,{point:w,series:C},this.chart)}),j.text},T.prototype.update=function(w){this.destroy(),Y(!0,this.chart.options.tooltip.userOptions,w),this.init(this.chart,Y(!0,this.options,w))},T.prototype.updatePosition=function(w){var k=this.chart,C=this.options,U=k.pointer,j=this.getLabel();U=U.getChartPosition();var S=(C.positioner||this.getPosition).call(this,j.width,j.height,w),H=w.plotX+k.plotLeft;w=w.plotY+k.plotTop,this.outside&&(this.renderer.setSize(j.width+(C=C.borderWidth+2*this.distance),j.height+C,!1),(1!==U.scaleX||1!==U.scaleY)&&(q(this.container,{transform:"scale("+U.scaleX+", "+U.scaleY+")"}),H*=U.scaleX,w*=U.scaleY),H+=U.left-S.x,w+=U.top-S.y),this.move(Math.round(S.x),Math.round(S.y||0),H,w)},T}()}),Se(me,"Core/Series/Point.js",[me["Core/Renderer/HTML/AST.js"],me["Core/Animation/AnimationUtilities.js"],me["Core/DefaultOptions.js"],me["Core/FormatUtilities.js"],me["Core/Utilities.js"]],function(ae,ce,ge,xe,he){var ie=ce.animObject,re=ge.defaultOptions,B=xe.format,Q=he.addEvent,W=he.defined,q=he.erase,M=he.extend,I=he.fireEvent,R=he.getNestedProperty,V=he.isArray,$=he.isFunction,L=he.isNumber,J=he.isObject,Y=he.merge,se=he.objectEach,ee=he.pick,O=he.syncTimeout,T=he.removeEvent,w=he.uniqueKey;return function(){function k(){this.colorIndex=this.category=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.series=void 0,this.visible=!0,this.x=void 0}return k.prototype.animateBeforeDestroy=function(){var C=this,U={x:C.startXPos,opacity:0},j=C.getGraphicalProps();j.singular.forEach(function(S){C[S]=C[S].animate("dataLabel"===S?{x:C[S].startXPos,y:C[S].startYPos,opacity:0}:U)}),j.plural.forEach(function(S){C[S].forEach(function(H){H.element&&H.animate(M({x:C.startXPos},H.startYPos?{x:H.startXPos,y:H.startYPos}:{}))})})},k.prototype.applyOptions=function(C,U){var j=this.series,S=j.options.pointValKey||j.pointValKey;return C=k.prototype.optionsToObject.call(this,C),M(this,C),this.options=this.options?M(this.options,C):C,C.group&&delete this.group,C.dataLabels&&delete this.dataLabels,S&&(this.y=k.prototype.getNestedProperty.call(this,S)),this.formatPrefix=(this.isNull=ee(this.isValid&&!this.isValid(),null===this.x||!L(this.y)))?"null":"point",this.selected&&(this.state="select"),"name"in this&&void 0===U&&j.xAxis&&j.xAxis.hasNames&&(this.x=j.xAxis.nameToX(this)),void 0===this.x&&j?this.x=void 0===U?j.autoIncrement():U:L(C.x)&&j.options.relativeXValue&&(this.x=j.autoIncrement(C.x)),this},k.prototype.destroy=function(){function C(){for(ve in(U.graphic||U.dataLabel||U.dataLabels)&&(T(U),U.destroyElements()),U)U[ve]=null}var U=this,j=U.series,S=j.chart;j=j.options.dataSorting;var ve,H=S.hoverPoints,oe=ie(U.series.chart.renderer.globalAnimation);U.legendItem&&S.legend.destroyItem(U),H&&(U.setState(),q(H,U),H.length||(S.hoverPoints=null)),U===S.hoverPoint&&U.onMouseOut(),j&&j.enabled?(this.animateBeforeDestroy(),O(C,oe.duration)):C(),S.pointCount--},k.prototype.destroyElements=function(C){var U=this;(C=U.getGraphicalProps(C)).singular.forEach(function(j){U[j]=U[j].destroy()}),C.plural.forEach(function(j){U[j].forEach(function(S){S.element&&S.destroy()}),delete U[j]})},k.prototype.firePointEvent=function(C,U,j){var S=this,H=this.series.options;(H.point.events[C]||S.options&&S.options.events&&S.options.events[C])&&S.importEvents(),"click"===C&&H.allowPointSelect&&(j=function(oe){S.select&&S.select(null,oe.ctrlKey||oe.metaKey||oe.shiftKey)}),I(S,C,U,j)},k.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},k.prototype.getGraphicalProps=function(C){var H,U=this,j=[],S={singular:[],plural:[]};for((C=C||{graphic:1,dataLabel:1}).graphic&&j.push("graphic","upperGraphic","shadowGroup"),C.dataLabel&&j.push("dataLabel","dataLabelUpper","connector"),H=j.length;H--;){var oe=j[H];U[oe]&&S.singular.push(oe)}return["dataLabel","connector"].forEach(function(ve){var pe=ve+"s";C[ve]&&U[pe]&&S.plural.push(pe)}),S},k.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},k.prototype.getNestedProperty=function(C){if(C)return 0===C.indexOf("custom.")?R(C,this.options):this[C]},k.prototype.getZone=function(){var C=this.series,U=C.zones;C=C.zoneAxis||"y";var j,S=0;for(j=U[S];this[C]>=j.value;)j=U[++S];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=j&&j.color&&!this.options.color?j.color:this.nonZonedColor,j},k.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},k.prototype.init=function(C,U,j){return this.series=C,this.applyOptions(U,j),this.id=W(this.id)?this.id:w(),this.resolveColor(),C.chart.pointCount++,I(this,"afterInit"),this},k.prototype.optionsToObject=function(C){var U=this.series,j=U.options.keys,S=j||U.pointArrayMap||["y"],H=S.length,oe={},ve=0,pe=0;if(L(C)||null===C)oe[S[0]]=C;else if(V(C))for(!j&&C.length>H&&("string"==(U=typeof C[0])?oe.name=C[0]:"number"===U&&(oe.x=C[0]),ve++);pe<H;)j&&void 0===C[ve]||(0<S[pe].indexOf(".")?k.prototype.setNestedProperty(oe,C[ve],S[pe]):oe[S[pe]]=C[ve]),ve++,pe++;else"object"==typeof C&&(oe=C,C.dataLabels&&(U._hasPointLabels=!0),C.marker&&(U._hasPointMarkers=!0));return oe},k.prototype.resolveColor=function(){var C=this.series,U=C.chart.styledMode,j=C.chart.options.chart.colorCount;if(delete this.nonZonedColor,C.options.colorByPoint){if(!U){var S=(j=C.options.colors||C.chart.options.colors)[C.colorCounter];j=j.length}U=C.colorCounter,C.colorCounter++,C.colorCounter===j&&(C.colorCounter=0)}else U||(S=C.color),U=C.colorIndex;this.colorIndex=ee(this.options.colorIndex,U),this.color=ee(this.options.color,S)},k.prototype.setNestedProperty=function(C,U,j){return j.split(".").reduce(function(S,H,oe,ve){return S[H]=ve.length-1===oe?U:J(S[H],!0)?S[H]:{},S[H]},C),C},k.prototype.tooltipFormatter=function(C){var U=this.series,j=U.tooltipOptions,S=ee(j.valueDecimals,""),H=j.valuePrefix||"",oe=j.valueSuffix||"";return U.chart.styledMode&&(C=U.chart.tooltip.styledModeFormat(C)),(U.pointArrayMap||["y"]).forEach(function(ve){ve="{point."+ve,(H||oe)&&(C=C.replace(RegExp(ve+"}","g"),H+ve+"}"+oe)),C=C.replace(RegExp(ve+"}","g"),ve+":,."+S+"f}")}),B(C,{point:this,series:this.series},U.chart)},k.prototype.update=function(C,U,j,S){function H(){oe.applyOptions(C);var P=pe&&oe.hasDummyGraphic;P=null===oe.y?!P:P,pe&&P&&(oe.graphic=pe.destroy(),delete oe.hasDummyGraphic),J(C,!0)&&(pe&&pe.element&&C&&C.marker&&void 0!==C.marker.symbol&&(oe.graphic=pe.destroy()),C&&C.dataLabels&&oe.dataLabel&&(oe.dataLabel=oe.dataLabel.destroy()),oe.connector&&(oe.connector=oe.connector.destroy())),ve.updateParallelArrays(oe,D=oe.index),Ae.data[D]=J(Ae.data[D],!0)||J(C,!0)?oe.options:ee(C,Ae.data[D]),ve.isDirty=ve.isDirtyData=!0,!ve.fixedBox&&ve.hasCartesianSeries&&(Z.isDirtyBox=!0),"point"===Ae.legendType&&(Z.isDirtyLegend=!0),U&&Z.redraw(j)}var D,oe=this,ve=oe.series,pe=oe.graphic,Z=ve.chart,Ae=ve.options;U=ee(U,!0),!1===S?H():oe.firePointEvent("update",{options:C},H)},k.prototype.remove=function(C,U){this.series.removePoint(this.series.data.indexOf(this),C,U)},k.prototype.select=function(C,U){var j=this,S=j.series,H=S.chart;this.selectedStaging=C=ee(C,!j.selected),j.firePointEvent(C?"select":"unselect",{accumulate:U},function(){j.selected=j.options.selected=C,S.options.data[S.data.indexOf(j)]=j.options,j.setState(C&&"select"),U||H.getSelectedPoints().forEach(function(oe){var ve=oe.series;oe.selected&&oe!==j&&(oe.selected=oe.options.selected=!1,ve.options.data[ve.data.indexOf(oe)]=oe.options,oe.setState(H.hoverPoints&&ve.options.inactiveOtherPoints?"inactive":""),oe.firePointEvent("unselect"))})}),delete this.selectedStaging},k.prototype.onMouseOver=function(C){var U=this.series.chart,j=U.pointer;C=C?j.normalize(C):j.getChartCoordinatesFromPoint(this,U.inverted),j.runPointActions(C,this)},k.prototype.onMouseOut=function(){var C=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(C.hoverPoints||[]).forEach(function(U){U.setState()}),C.hoverPoints=C.hoverPoint=null},k.prototype.importEvents=function(){if(!this.hasImportedEvents){var C=this,U=Y(C.series.options.point,C.options).events;C.events=U,se(U,function(j,S){$(j)&&Q(C,S,j)}),this.hasImportedEvents=!0}},k.prototype.setState=function(C,U){var _e,j=this.series,S=this.state,H=j.options.states[C||"normal"]||{},oe=re.plotOptions[j.type].marker&&j.options.marker,pe=oe&&oe.states&&oe.states[C||"normal"]||{},Ae=this.marker||{},D=j.chart,P=oe&&j.markerAttribs,X=j.halo,ye=j.stateMarkerGraphic;if(!((C=C||"")===this.state&&!U||this.selected&&"select"!==C||!1===H.enabled||C&&(!1===pe.enabled||oe&&!1===oe.enabled&&!1===pe.enabled)||C&&Ae.states&&Ae.states[C]&&!1===Ae.states[C].enabled)){if(this.state=C,P&&(_e=j.markerAttribs(this,C)),this.graphic&&!this.hasDummyGraphic){if(S&&this.graphic.removeClass("highcharts-point-"+S),C&&this.graphic.addClass("highcharts-point-"+C),!D.styledMode){var Te=j.pointAttribs(this,C),N=ee(D.options.chart.animation,H.animation);j.options.inactiveOtherPoints&&L(Te.opacity)&&((this.dataLabels||[]).forEach(function(de){de&&de.animate({opacity:Te.opacity},N)}),this.connector&&this.connector.animate({opacity:Te.opacity},N)),this.graphic.animate(Te,N)}_e&&this.graphic.animate(_e,ee(D.options.chart.animation,pe.animation,oe.animation)),ye&&ye.hide()}else C&&pe&&(S=Ae.symbol||j.symbol,ye&&ye.currentSymbol!==S&&(ye=ye.destroy()),_e&&(ye?ye[U?"animate":"attr"]({x:_e.x,y:_e.y}):S&&(j.stateMarkerGraphic=ye=D.renderer.symbol(S,_e.x,_e.y,_e.width,_e.height).add(j.markerGroup),ye.currentSymbol=S)),!D.styledMode&&ye&&"inactive"!==this.state&&ye.attr(j.pointAttribs(this,C))),ye&&(ye[C&&this.isInside?"show":"hide"](),ye.element.point=this,ye.addClass(this.getClassName(),!0));_e=(ye=this.graphic||ye)&&ye.visibility||"inherit",(H=H.halo)&&H.size&&ye&&"hidden"!==_e&&!this.isCluster?(X||(j.halo=X=D.renderer.path().add(ye.parentGroup)),X.show()[U?"animate":"attr"]({d:this.haloPath(H.size)}),X.attr({class:"highcharts-halo highcharts-color-"+ee(this.colorIndex,j.colorIndex)+(this.className?" "+this.className:""),visibility:_e,zIndex:-1}),X.point=this,D.styledMode||X.attr(M({fill:this.color||j.color,"fill-opacity":H.opacity},ae.filterUserAttributes(H.attributes||{})))):X&&X.point&&X.point.haloPath&&X.animate({d:X.point.haloPath(0)},null,X.hide),I(this,"afterSetState",{state:C})}},k.prototype.haloPath=function(C){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-C,this.plotY-C,2*C,2*C)},k}()}),Se(me,"Core/Pointer.js",[me["Core/Color/Color.js"],me["Core/Globals.js"],me["Core/Tooltip.js"],me["Core/Utilities.js"]],function(ae,ce,ge,xe){var he=ae.parse,ie=ce.charts,re=ce.noop,B=xe.addEvent,Q=xe.attr,W=xe.css,q=xe.defined,M=xe.extend,I=xe.find,R=xe.fireEvent,V=xe.isNumber,$=xe.isObject,L=xe.objectEach,J=xe.offset,Y=xe.pick,se=xe.splat;return function(){function ee(O,T){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=O,this.hasDragged=!1,this.options=T,this.init(O,T)}return ee.prototype.applyInactiveState=function(O){var w,T=[];(O||[]).forEach(function(k){T.push(w=k.series),w.linkedParent&&T.push(w.linkedParent),w.linkedSeries&&(T=T.concat(w.linkedSeries)),w.navigatorSeries&&T.push(w.navigatorSeries)}),this.chart.series.forEach(function(k){-1===T.indexOf(k)?k.setState("inactive",!0):k.options.inactiveOtherPoints&&k.setAllPointsToState("inactive")})},ee.prototype.destroy=function(){var O=this;this.eventsToUnbind.forEach(function(T){return T()}),this.eventsToUnbind=[],ce.chartCount||(ee.unbindDocumentMouseUp&&(ee.unbindDocumentMouseUp=ee.unbindDocumentMouseUp()),ee.unbindDocumentTouchEnd&&(ee.unbindDocumentTouchEnd=ee.unbindDocumentTouchEnd())),clearInterval(O.tooltipTimeout),L(O,function(T,w){O[w]=void 0})},ee.prototype.drag=function(O){var T=this.chart,w=T.options.chart,k=this.zoomHor,C=this.zoomVert,U=T.plotLeft,j=T.plotTop,S=T.plotWidth,H=T.plotHeight,oe=this.mouseDownX||0,ve=this.mouseDownY||0,pe=$(w.panning)?w.panning&&w.panning.enabled:w.panning,Z=w.panKey&&O[w.panKey+"Key"],Ae=O.chartX,D=O.chartY,P=this.selectionMarker;if((!P||!P.touch)&&(Ae<U?Ae=U:Ae>U+S&&(Ae=U+S),D<j?D=j:D>j+H&&(D=j+H),this.hasDragged=Math.sqrt(Math.pow(oe-Ae,2)+Math.pow(ve-D,2)),10<this.hasDragged)){var X=T.isInsidePlot(oe-U,ve-j,{visiblePlotOnly:!0});!T.hasCartesianSeries&&!T.mapView||!this.zoomX&&!this.zoomY||!X||Z||P||(this.selectionMarker=P=T.renderer.rect(U,j,k?1:S,C?1:H,0).attr({class:"highcharts-selection-marker",zIndex:7}).add(),T.styledMode||P.attr({fill:w.selectionMarkerFill||he("#335cad").setOpacity(.25).get()})),P&&k&&(k=Ae-oe,P.attr({width:Math.abs(k),x:(0<k?0:k)+oe})),P&&C&&(k=D-ve,P.attr({height:Math.abs(k),y:(0<k?0:k)+ve})),X&&!P&&pe&&T.pan(O,w.panning)}},ee.prototype.dragStart=function(O){var T=this.chart;T.mouseIsDown=O.type,T.cancelClick=!1,T.mouseDownX=this.mouseDownX=O.chartX,T.mouseDownY=this.mouseDownY=O.chartY},ee.prototype.drop=function(O){var T=this,w=this.chart,k=this.hasPinched;if(this.selectionMarker){var C=this.selectionMarker,U=C.attr?C.attr("x"):C.x,j=C.attr?C.attr("y"):C.y,S=C.attr?C.attr("width"):C.width,H=C.attr?C.attr("height"):C.height,oe={originalEvent:O,xAxis:[],yAxis:[],x:U,y:j,width:S,height:H},ve=!!w.mapView;(this.hasDragged||k)&&(w.axes.forEach(function(pe){if(pe.zoomEnabled&&q(pe.min)&&(k||T[{xAxis:"zoomX",yAxis:"zoomY"}[pe.coll]])&&V(U)&&V(j)){var Z=pe.horiz,Ae="touchend"===O.type?pe.minPixelPadding:0,D=pe.toValue((Z?U:j)+Ae);Z=pe.toValue((Z?U+S:j+H)-Ae),oe[pe.coll].push({axis:pe,min:Math.min(D,Z),max:Math.max(D,Z)}),ve=!0}}),ve&&R(w,"selection",oe,function(pe){w.zoom(M(pe,k?{animation:!1}:null))})),V(w.index)&&(this.selectionMarker=this.selectionMarker.destroy()),k&&this.scaleGroups()}w&&V(w.index)&&(W(w.container,{cursor:w._cursor}),w.cancelClick=10<this.hasDragged,w.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},ee.prototype.findNearestKDPoint=function(O,T,w){var U,k=this.chart,C=k.hoverPoint;return k=k.tooltip,C&&k&&k.isStickyOnContact()?C:(O.forEach(function(j){var S=!(j.noSharedTooltip&&T)&&0>j.options.findNearestPointBy.indexOf("y");if(j=j.searchPoint(w,S),(S=$(j,!0)&&j.series)&&!(S=!$(U,!0))){var H=U.dist-j.dist,oe=(j.series.group&&j.series.group.zIndex)-(U.series.group&&U.series.group.zIndex);S=0<(0!=(S=U.distX-j.distX)&&T?S:0!==H?H:0!==oe?oe:U.series.index>j.series.index?-1:1)}S&&(U=j)}),U)},ee.prototype.getChartCoordinatesFromPoint=function(O,T){var w=O.series,k=w.xAxis;w=w.yAxis;var C=O.shapeArgs;if(k&&w){var U=Y(O.clientX,O.plotX),j=O.plotY||0;return O.isNode&&C&&V(C.x)&&V(C.y)&&(U=C.x,j=C.y),T?{chartX:w.len+w.pos-j,chartY:k.len+k.pos-U}:{chartX:U+k.pos,chartY:j+w.pos}}if(C&&C.x&&C.y)return{chartX:C.x,chartY:C.y}},ee.prototype.getChartPosition=function(){if(this.chartPosition)return this.chartPosition;var O=this.chart.container,T=J(O);this.chartPosition={left:T.left,top:T.top,scaleX:1,scaleY:1};var w=O.offsetWidth;return O=O.offsetHeight,2<w&&2<O&&(this.chartPosition.scaleX=T.width/w,this.chartPosition.scaleY=T.height/O),this.chartPosition},ee.prototype.getCoordinates=function(O){var T={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(w){T[w.isXAxis?"xAxis":"yAxis"].push({axis:w,value:w.toValue(O[w.horiz?"chartX":"chartY"])})}),T},ee.prototype.getHoverData=function(O,T,w,k,C,U){var j=[];k=!(!k||!O);var S={chartX:U?U.chartX:void 0,chartY:U?U.chartY:void 0,shared:C};R(this,"beforeGetHoverData",S);var H=T&&!T.stickyTracking?[T]:w.filter(function(ve){return S.filter?S.filter(ve):ve.visible&&!(!C&&ve.directTouch)&&Y(ve.options.enableMouseTracking,!0)&&ve.stickyTracking}),oe=k||!U?O:this.findNearestKDPoint(H,C,U);return T=oe&&oe.series,oe&&(C&&!T.noSharedTooltip?(H=w.filter(function(ve){return S.filter?S.filter(ve):ve.visible&&!(!C&&ve.directTouch)&&Y(ve.options.enableMouseTracking,!0)&&!ve.noSharedTooltip})).forEach(function(ve){var pe=I(ve.points,function(Z){return Z.x===oe.x&&!Z.isNull});$(pe)&&(ve.chart.isBoosting&&(pe=ve.getPoint(pe)),j.push(pe))}):j.push(oe)),R(this,"afterGetHoverData",S={hoverPoint:oe}),{hoverPoint:S.hoverPoint,hoverSeries:T,hoverPoints:j}},ee.prototype.getPointFromEvent=function(O){O=O.target;for(var T;O&&!T;)T=O.point,O=O.parentNode;return T},ee.prototype.onTrackerMouseOut=function(O){O=O.relatedTarget||O.toElement;var T=this.chart.hoverSeries;this.isDirectTouch=!1,!T||!O||T.stickyTracking||this.inClass(O,"highcharts-tooltip")||this.inClass(O,"highcharts-series-"+T.index)&&this.inClass(O,"highcharts-tracker")||T.onMouseOut()},ee.prototype.inClass=function(O,T){for(var w;O;){if(w=Q(O,"class")){if(-1!==w.indexOf(T))return!0;if(-1!==w.indexOf("highcharts-container"))return!1}O=O.parentNode}},ee.prototype.init=function(O,T){this.options=T,this.chart=O,this.runChartClick=!(!T.chart.events||!T.chart.events.click),this.pinchDown=[],this.lastValidTouch={},ge&&(O.tooltip=new ge(O,T.tooltip),this.followTouchMove=Y(T.tooltip.followTouchMove,!0)),this.setDOMEvents()},ee.prototype.normalize=function(O,T){var w=O.touches,k=w?w.length?w.item(0):Y(w.changedTouches,O.changedTouches)[0]:O;return T||(T=this.getChartPosition()),w=k.pageX-T.left,k=k.pageY-T.top,w/=T.scaleX,k/=T.scaleY,M(O,{chartX:Math.round(w),chartY:Math.round(k)})},ee.prototype.onContainerClick=function(O){var T=this.chart,w=T.hoverPoint;O=this.normalize(O);var k=T.plotLeft,C=T.plotTop;T.cancelClick||(w&&this.inClass(O.target,"highcharts-tracker")?(R(w.series,"click",M(O,{point:w})),T.hoverPoint&&w.firePointEvent("click",O)):(M(O,this.getCoordinates(O)),T.isInsidePlot(O.chartX-k,O.chartY-C,{visiblePlotOnly:!0})&&R(T,"click",O)))},ee.prototype.onContainerMouseDown=function(O){var T=1==(1&(O.buttons||O.button));O=this.normalize(O),ce.isFirefox&&0!==O.button&&this.onContainerMouseMove(O),(void 0===O.button||T)&&(this.zoomOption(O),T&&O.preventDefault&&O.preventDefault(),this.dragStart(O))},ee.prototype.onContainerMouseLeave=function(O){var T=ie[Y(ee.hoverChartIndex,-1)],w=this.chart.tooltip;w&&w.shouldStickOnContact()&&this.inClass(O.relatedTarget,"highcharts-tooltip-container")||(O=this.normalize(O),T&&(O.relatedTarget||O.toElement)&&(T.pointer.reset(),T.pointer.chartPosition=void 0),w&&!w.isHidden&&this.reset())},ee.prototype.onContainerMouseEnter=function(O){delete this.chartPosition},ee.prototype.onContainerMouseMove=function(O){var T=this.chart;O=this.normalize(O),this.setHoverChartIndex(),O.preventDefault||(O.returnValue=!1),("mousedown"===T.mouseIsDown||this.touchSelect(O))&&this.drag(O),T.openMenu||!this.inClass(O.target,"highcharts-tracker")&&!T.isInsidePlot(O.chartX-T.plotLeft,O.chartY-T.plotTop,{visiblePlotOnly:!0})||(this.inClass(O.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(O))},ee.prototype.onDocumentTouchEnd=function(O){var T=ie[Y(ee.hoverChartIndex,-1)];T&&T.pointer.drop(O)},ee.prototype.onContainerTouchMove=function(O){this.touchSelect(O)?this.onContainerMouseMove(O):this.touch(O)},ee.prototype.onContainerTouchStart=function(O){this.touchSelect(O)?this.onContainerMouseDown(O):(this.zoomOption(O),this.touch(O,!0))},ee.prototype.onDocumentMouseMove=function(O){var T=this.chart,w=this.chartPosition;O=this.normalize(O,w);var k=T.tooltip;!w||k&&k.isStickyOnContact()||T.isInsidePlot(O.chartX-T.plotLeft,O.chartY-T.plotTop,{visiblePlotOnly:!0})||this.inClass(O.target,"highcharts-tracker")||this.reset()},ee.prototype.onDocumentMouseUp=function(O){var T=ie[Y(ee.hoverChartIndex,-1)];T&&T.pointer.drop(O)},ee.prototype.pinch=function(O){var T=this,w=T.chart,k=T.pinchDown,C=O.touches||[],U=C.length,j=T.lastValidTouch,S=T.hasZoom,H={},oe=1===U&&(T.inClass(O.target,"highcharts-tracker")&&w.runTrackerClick||T.runChartClick),ve={},pe=T.selectionMarker;1<U?T.initiated=!0:1===U&&this.followTouchMove&&(T.initiated=!1),S&&T.initiated&&!oe&&!1!==O.cancelable&&O.preventDefault(),[].map.call(C,function(Z){return T.normalize(Z)}),"touchstart"===O.type?([].forEach.call(C,function(Z,Ae){k[Ae]={chartX:Z.chartX,chartY:Z.chartY}}),j.x=[k[0].chartX,k[1]&&k[1].chartX],j.y=[k[0].chartY,k[1]&&k[1].chartY],w.axes.forEach(function(Z){if(Z.zoomEnabled){var Ae=w.bounds[Z.horiz?"h":"v"],D=Z.minPixelPadding,P=Z.toPixels(Math.min(Y(Z.options.min,Z.dataMin),Z.dataMin)),X=Z.toPixels(Math.max(Y(Z.options.max,Z.dataMax),Z.dataMax)),_e=Math.max(P,X);Ae.min=Math.min(Z.pos,Math.min(P,X)-D),Ae.max=Math.max(Z.pos+Z.len,_e+D)}}),T.res=!0):T.followTouchMove&&1===U?this.runPointActions(T.normalize(O)):k.length&&(R(w,"touchpan",{originalEvent:O},function(){pe||(T.selectionMarker=pe=M({destroy:re,touch:!0},w.plotBox)),T.pinchTranslate(k,C,H,pe,ve,j),T.hasPinched=S,T.scaleGroups(H,ve)}),T.res&&(T.res=!1,this.reset(!1,0)))},ee.prototype.pinchTranslate=function(O,T,w,k,C,U){this.zoomHor&&this.pinchTranslateDirection(!0,O,T,w,k,C,U),this.zoomVert&&this.pinchTranslateDirection(!1,O,T,w,k,C,U)},ee.prototype.pinchTranslateDirection=function(O,T,w,k,C,U,j,S){var H=this.chart,oe=O?"x":"y",ve=O?"X":"Y",pe="chart"+ve,Z=O?"width":"height",Ae=H["plot"+(O?"Left":"Top")],D=H.inverted,P=H.bounds[O?"h":"v"],X=1===T.length,_e=T[0][pe],ye=!X&&T[1][pe];T=function(){"number"==typeof be&&20<Math.abs(_e-ye)&&(de=S||Math.abs(te-be)/Math.abs(_e-ye)),N=(Ae-te)/de+_e,Te=H["plot"+(O?"Width":"Height")]/de};var Te,N,de=S||1,te=w[0][pe],be=!X&&w[1][pe];if(T(),(w=N)<P.min){w=P.min;var Ce=!0}else w+Te>P.max&&(w=P.max-Te,Ce=!0);Ce?(te-=.8*(te-j[oe][0]),"number"==typeof be&&(be-=.8*(be-j[oe][1])),T()):j[oe]=[te,be],D||(U[oe]=N-Ae,U[Z]=Te),U=D?1/de:de,C[Z]=Te,C[oe]=w,k[D?O?"scaleY":"scaleX":"scale"+ve]=de,k["translate"+ve]=U*Ae+(te-U*_e)},ee.prototype.reset=function(O,T){var w=this.chart,k=w.hoverSeries,C=w.hoverPoint,U=w.hoverPoints,j=w.tooltip,S=j&&j.shared?U:C;O&&S&&se(S).forEach(function(H){H.series.isCartesian&&void 0===H.plotX&&(O=!1)}),O?j&&S&&se(S).length&&(j.refresh(S),j.shared&&U?U.forEach(function(H){H.setState(H.state,!0),H.series.isCartesian&&(H.series.xAxis.crosshair&&H.series.xAxis.drawCrosshair(null,H),H.series.yAxis.crosshair&&H.series.yAxis.drawCrosshair(null,H))}):C&&(C.setState(C.state,!0),w.axes.forEach(function(H){H.crosshair&&C.series[H.coll]===H&&H.drawCrosshair(null,C)}))):(C&&C.onMouseOut(),U&&U.forEach(function(H){H.setState()}),k&&k.onMouseOut(),j&&j.hide(T),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),w.axes.forEach(function(H){H.hideCrosshair()}),this.hoverX=w.hoverPoints=w.hoverPoint=null)},ee.prototype.runPointActions=function(O,T){var w=this.chart,k=w.tooltip&&w.tooltip.options.enabled?w.tooltip:void 0,C=!!k&&k.shared,U=T||w.hoverPoint,j=U&&U.series||w.hoverSeries;U=(T=this.getHoverData(U,j,w.series,(!O||"touchmove"!==O.type)&&(!!T||j&&j.directTouch&&this.isDirectTouch),C,O)).hoverPoint;var S=T.hoverPoints;if(T=(j=T.hoverSeries)&&j.tooltipOptions.followPointer&&!j.tooltipOptions.split,C=C&&j&&!j.noSharedTooltip,U&&(U!==w.hoverPoint||k&&k.isHidden)){if((w.hoverPoints||[]).forEach(function(H){-1===S.indexOf(H)&&H.setState()}),w.hoverSeries!==j&&j.onMouseOver(),this.applyInactiveState(S),(S||[]).forEach(function(H){H.setState("hover")}),w.hoverPoint&&w.hoverPoint.firePointEvent("mouseOut"),!U.series)return;w.hoverPoints=S,w.hoverPoint=U,U.firePointEvent("mouseOver"),k&&k.refresh(C?S:U,O)}else T&&k&&!k.isHidden&&(U=k.getAnchor([{}],O),w.isInsidePlot(U[0],U[1],{visiblePlotOnly:!0})&&k.updatePosition({plotX:U[0],plotY:U[1]}));this.unDocMouseMove||(this.unDocMouseMove=B(w.container.ownerDocument,"mousemove",function(H){var oe=ie[ee.hoverChartIndex];oe&&oe.pointer.onDocumentMouseMove(H)}),this.eventsToUnbind.push(this.unDocMouseMove)),w.axes.forEach(function(H){var ve,oe=Y((H.crosshair||{}).snap,!0);oe&&((ve=w.hoverPoint)&&ve.series[H.coll]===H||(ve=I(S,function(pe){return pe.series[H.coll]===H}))),ve||!oe?H.drawCrosshair(O,ve):H.hideCrosshair()})},ee.prototype.scaleGroups=function(O,T){var w=this.chart;w.series.forEach(function(k){var C=O||k.getPlotBox();k.group&&(k.xAxis&&k.xAxis.zoomEnabled||w.mapView)&&(k.group.attr(C),k.markerGroup&&(k.markerGroup.attr(C),k.markerGroup.clip(T?w.clipRect:null)),k.dataLabelsGroup&&k.dataLabelsGroup.attr(C))}),w.clipRect.attr(T||w.clipBox)},ee.prototype.setDOMEvents=function(){var O=this,T=this.chart.container,w=T.ownerDocument;T.onmousedown=this.onContainerMouseDown.bind(this),T.onmousemove=this.onContainerMouseMove.bind(this),T.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(B(T,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(B(T,"mouseleave",this.onContainerMouseLeave.bind(this))),ee.unbindDocumentMouseUp||(ee.unbindDocumentMouseUp=B(w,"mouseup",this.onDocumentMouseUp.bind(this)));for(var k=this.chart.renderTo.parentElement;k&&"BODY"!==k.tagName;)this.eventsToUnbind.push(B(k,"scroll",function(){delete O.chartPosition})),k=k.parentElement;ce.hasTouch&&(this.eventsToUnbind.push(B(T,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(B(T,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),ee.unbindDocumentTouchEnd||(ee.unbindDocumentTouchEnd=B(w,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))},ee.prototype.setHoverChartIndex=function(){var O=this.chart,T=ce.charts[Y(ee.hoverChartIndex,-1)];T&&T!==O&&T.pointer.onContainerMouseLeave({relatedTarget:!0}),T&&T.mouseIsDown||(ee.hoverChartIndex=O.index)},ee.prototype.touch=function(O,T){var w=this.chart;if(this.setHoverChartIndex(),1===O.touches.length)if(O=this.normalize(O),w.isInsidePlot(O.chartX-w.plotLeft,O.chartY-w.plotTop,{visiblePlotOnly:!0})&&!w.openMenu){if(T&&this.runPointActions(O),"touchmove"===O.type)var C=!!(T=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(T[0].chartX-O.chartX,2)+Math.pow(T[0].chartY-O.chartY,2));Y(C,!0)&&this.pinch(O)}else T&&this.reset();else 2===O.touches.length&&this.pinch(O)},ee.prototype.touchSelect=function(O){return!(!this.chart.options.chart.zoomBySingleTouch||!O.touches||1!==O.touches.length)},ee.prototype.zoomOption=function(O){var T=this.chart,w=T.options.chart;T=T.inverted;var k=w.zoomType||"";/touch/.test(O.type)&&(k=Y(w.pinchType,k)),this.zoomX=O=/x/.test(k),this.zoomY=w=/y/.test(k),this.zoomHor=O&&!T||w&&T,this.zoomVert=w&&!T||O&&T,this.hasZoom=O||w},ee}()}),Se(me,"Core/MSPointer.js",[me["Core/Globals.js"],me["Core/Pointer.js"],me["Core/Utilities.js"]],function(ae,ce,ge){function xe(){var L=[];return L.item=function(J){return this[J]},I(V,function(J){L.push({pageX:J.pageX,pageY:J.pageY,target:J.target})}),L}function he(L,J,Y,se){var ee=re[ce.hoverChartIndex||NaN];"touch"!==L.pointerType&&L.pointerType!==L.MSPOINTER_TYPE_TOUCH||!ee||(ee=ee.pointer,se(L),ee[J]({type:Y,target:L.currentTarget,preventDefault:Q,touches:xe()}))}var L,ie=this&&this.__extends||(L=function(J,Y){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(se,ee){se.__proto__=ee}||function(se,ee){for(var O in ee)ee.hasOwnProperty(O)&&(se[O]=ee[O])})(J,Y)},function(J,Y){function se(){this.constructor=J}L(J,Y),J.prototype=null===Y?Object.create(Y):(se.prototype=Y.prototype,new se)}),re=ae.charts,B=ae.doc,Q=ae.noop,W=ae.win,q=ge.addEvent,M=ge.css,I=ge.objectEach,R=ge.removeEvent,V={},$=!!W.PointerEvent;return function(L){function J(){return null!==L&&L.apply(this,arguments)||this}return ie(J,L),J.isRequired=function(){return!(ae.hasTouch||!W.PointerEvent&&!W.MSPointerEvent)},J.prototype.batchMSEvents=function(Y){Y(this.chart.container,$?"pointerdown":"MSPointerDown",this.onContainerPointerDown),Y(this.chart.container,$?"pointermove":"MSPointerMove",this.onContainerPointerMove),Y(B,$?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},J.prototype.destroy=function(){this.batchMSEvents(R),L.prototype.destroy.call(this)},J.prototype.init=function(Y,se){L.prototype.init.call(this,Y,se),this.hasZoom&&M(Y.container,{"-ms-touch-action":"none","touch-action":"none"})},J.prototype.onContainerPointerDown=function(Y){he(Y,"onContainerTouchStart","touchstart",function(se){V[se.pointerId]={pageX:se.pageX,pageY:se.pageY,target:se.currentTarget}})},J.prototype.onContainerPointerMove=function(Y){he(Y,"onContainerTouchMove","touchmove",function(se){V[se.pointerId]={pageX:se.pageX,pageY:se.pageY},V[se.pointerId].target||(V[se.pointerId].target=se.currentTarget)})},J.prototype.onDocumentPointerUp=function(Y){he(Y,"onDocumentTouchEnd","touchend",function(se){delete V[se.pointerId]})},J.prototype.setDOMEvents=function(){L.prototype.setDOMEvents.call(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(q)},J}(ce)}),Se(me,"Core/Legend/Legend.js",[me["Core/Animation/AnimationUtilities.js"],me["Core/FormatUtilities.js"],me["Core/Globals.js"],me["Core/Series/Point.js"],me["Core/Renderer/RendererUtilities.js"],me["Core/Utilities.js"]],function(ae,ce,ge,xe,he,ie){var re=ae.animObject,B=ae.setAnimation,Q=ce.format;ae=ge.isFirefox;var W=ge.marginNames;ge=ge.win;var q=he.distribute,M=ie.addEvent,I=ie.createElement,R=ie.css,V=ie.defined,$=ie.discardElement,L=ie.find,J=ie.fireEvent,Y=ie.isNumber,se=ie.merge,ee=ie.pick,O=ie.relativeLength,T=ie.stableSort,w=ie.syncTimeout;return he=ie.wrap,ie=function(){function k(C,U){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options={},this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=C,this.init(C,U)}return k.prototype.init=function(C,U){this.chart=C,this.setOptions(U),U.enabled&&(this.render(),M(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=M(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},k.prototype.setOptions=function(C){var U=ee(C.padding,8);this.options=C,this.chart.styledMode||(this.itemStyle=C.itemStyle,this.itemHiddenStyle=se(this.itemStyle,C.itemHiddenStyle)),this.itemMarginTop=C.itemMarginTop||0,this.itemMarginBottom=C.itemMarginBottom||0,this.padding=U,this.initialItemY=U-5,this.symbolWidth=ee(C.symbolWidth,16),this.pages=[],this.proximate="proximate"===C.layout&&!this.chart.inverted,this.baseline=void 0},k.prototype.update=function(C,U){var j=this.chart;this.setOptions(se(!0,this.options,C)),this.destroy(),j.isDirtyLegend=j.isDirtyBox=!0,ee(U,!0)&&j.redraw(),J(this,"afterUpdate")},k.prototype.colorizeItem=function(C,U){if(C.legendGroup[U?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var j=this.options,S=C.legendItem,H=C.legendLine,oe=C.legendSymbol,ve=this.itemHiddenStyle.color;j=U?j.itemStyle.color:ve;var pe=U&&C.color||ve,Z=C.options&&C.options.marker,Ae={fill:pe};S&&S.css({fill:j,color:j}),H&&H.attr({stroke:pe}),oe&&(Z&&oe.isMarker&&(Ae=C.pointAttribs(),U||(Ae.stroke=Ae.fill=ve)),oe.attr(Ae))}J(this,"afterColorizeItem",{item:C,visible:U})},k.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},k.prototype.positionItem=function(C){var U=this,j=this.options,S=j.symbolPadding,H=!j.rtl,oe=C._legendItemPos;j=oe[0],oe=oe[1];var ve=C.checkbox,pe=C.legendGroup;pe&&pe.element&&(S={translateX:H?j:this.legendWidth-j-2*S-4,translateY:oe},H=function(){J(U,"afterPositionItem",{item:C})},V(pe.translateY)?pe.animate(S,void 0,H):(pe.attr(S),H())),ve&&(ve.x=j,ve.y=oe)},k.prototype.destroyItem=function(C){var U=C.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach(function(j){C[j]&&(C[j]=C[j].destroy())}),U&&$(C.checkbox)},k.prototype.destroy=function(){function C(U){this[U]&&(this[U]=this[U].destroy())}this.getAllItems().forEach(function(U){["legendItem","legendGroup"].forEach(C,U)}),"clipRect up down pager nav box title group".split(" ").forEach(C,this),this.display=null},k.prototype.positionCheckboxes=function(){var C=this.group&&this.group.alignAttr,U=this.clipHeight||this.legendHeight,j=this.titleHeight;if(C){var S=C.translateY;this.allItems.forEach(function(H){var oe=H.checkbox;if(oe){var ve=S+j+oe.y+(this.scrollOffset||0)+3;R(oe,{left:C.translateX+H.checkboxOffset+oe.x-20+"px",top:ve+"px",display:this.proximate||ve>S-6&&ve<S+U-6?"":"none"})}},this)}},k.prototype.renderTitle=function(){var C=this.options,U=this.padding,j=C.title,S=0;j.text&&(this.title||(this.title=this.chart.renderer.label(j.text,U-3,U-4,null,null,null,C.useHTML,null,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(j.style),this.title.add(this.group)),j.width||this.title.css({width:this.maxLegendWidth+"px"}),S=(C=this.title.getBBox()).height,this.offsetWidth=C.width,this.contentGroup.attr({translateY:S})),this.titleHeight=S},k.prototype.setText=function(C){var U=this.options;C.legendItem.attr({text:U.labelFormat?Q(U.labelFormat,C,this.chart):U.labelFormatter.call(C)})},k.prototype.renderItem=function(C){var U=this.chart,j=U.renderer,S=this.options,H=this.symbolWidth,oe=S.symbolPadding||0,ve=this.itemStyle,pe=this.itemHiddenStyle,Z="horizontal"===S.layout?ee(S.itemDistance,20):0,Ae=!S.rtl,D=!C.series,P=!D&&C.series.drawLegendSymbol?C.series:C,X=P.options,_e=this.createCheckboxForItem&&X&&X.showCheckbox,ye=S.useHTML,Te=C.options.className,N=C.legendItem;X=H+oe+Z+(_e?20:0),N||(C.legendGroup=j.g("legend-item").addClass("highcharts-"+P.type+"-series highcharts-color-"+C.colorIndex+(Te?" "+Te:"")+(D?" highcharts-series-"+C.index:"")).attr({zIndex:1}).add(this.scrollGroup),C.legendItem=N=j.text("",Ae?H+oe:-oe,this.baseline||0,ye),U.styledMode||N.css(se(C.visible?ve:pe)),N.attr({align:Ae?"left":"right",zIndex:2}).add(C.legendGroup),this.baseline||(this.fontMetrics=j.fontMetrics(U.styledMode?12:ve.fontSize,N),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,N.attr("y",this.baseline),this.symbolHeight=S.symbolHeight||this.fontMetrics.f,S.squareSymbol&&(this.symbolWidth=ee(S.symbolWidth,Math.max(this.symbolHeight,16)),X=this.symbolWidth+oe+Z+(_e?20:0),Ae&&N.attr("x",this.symbolWidth+oe))),P.drawLegendSymbol(this,C),this.setItemEvents&&this.setItemEvents(C,N,ye)),_e&&!C.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(C),this.colorizeItem(C,C.visible),!U.styledMode&&ve.width||N.css({width:(S.itemWidth||this.widthOption||U.spacingBox.width)-X+"px"}),this.setText(C),U=N.getBBox(),C.itemWidth=C.checkboxOffset=S.itemWidth||C.legendItemWidth||U.width+X,this.maxItemWidth=Math.max(this.maxItemWidth,C.itemWidth),this.totalItemWidth+=C.itemWidth,this.itemHeight=C.itemHeight=Math.round(C.legendItemHeight||U.height||this.symbolHeight)},k.prototype.layoutItem=function(C){var U=this.options,j=this.padding,S="horizontal"===U.layout,H=C.itemHeight,oe=this.itemMarginBottom,ve=this.itemMarginTop,pe=S?ee(U.itemDistance,20):0,Z=this.maxLegendWidth;U=U.alignColumns&&this.totalItemWidth>Z?this.maxItemWidth:C.itemWidth,S&&this.itemX-j+U>Z&&(this.itemX=j,this.lastLineHeight&&(this.itemY+=ve+this.lastLineHeight+oe),this.lastLineHeight=0),this.lastItemY=ve+this.itemY+oe,this.lastLineHeight=Math.max(H,this.lastLineHeight),C._legendItemPos=[this.itemX,this.itemY],S?this.itemX+=U:(this.itemY+=ve+H+oe,this.lastLineHeight=H),this.offsetWidth=this.widthOption||Math.max((S?this.itemX-j-(C.checkbox?0:pe):U)+j,this.offsetWidth)},k.prototype.getAllItems=function(){var C=[];return this.chart.series.forEach(function(U){var j=U&&U.options;U&&ee(j.showInLegend,!V(j.linkedTo)&&void 0,!0)&&(C=C.concat(U.legendItems||("point"===j.legendType?U.data:U)))}),J(this,"afterGetAllItems",{allItems:C}),C},k.prototype.getAlignment=function(){var C=this.options;return this.proximate?C.align.charAt(0)+"tv":C.floating?"":C.align.charAt(0)+C.verticalAlign.charAt(0)+C.layout.charAt(0)},k.prototype.adjustMargins=function(C,U){var j=this.chart,S=this.options,H=this.getAlignment();H&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(oe,ve){oe.test(H)&&!V(C[ve])&&(j[W[ve]]=Math.max(j[W[ve]],j.legend[(ve+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][ve]*S[ve%2?"x":"y"]+ee(S.margin,12)+U[ve]+(j.titleOffset[ve]||0)))})},k.prototype.proximatePositions=function(){var C=this.chart,U=[],j="left"===this.options.align;this.allItems.forEach(function(S){var H,oe=j;if(S.yAxis){S.xAxis.options.reversed&&(oe=!oe),S.points&&(H=L(oe?S.points:S.points.slice(0).reverse(),function(pe){return Y(pe.plotY)})),oe=this.itemMarginTop+S.legendItem.getBBox().height+this.itemMarginBottom;var ve=S.yAxis.top-C.plotTop;S.visible?(H=H?H.plotY:S.yAxis.height,H+=ve-.3*oe):H=ve+S.yAxis.height,U.push({target:H,size:oe,item:S})}},this),q(U,C.plotHeight).forEach(function(S){S.item._legendItemPos&&(S.item._legendItemPos[1]=C.plotTop-C.spacing[0]+S.pos)})},k.prototype.render=function(){var C=this.chart,U=C.renderer,j=this.options,S=this.padding,H=this.getAllItems(),oe=this.group,ve=this.box;this.itemX=S,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=O(j.width,C.spacingBox.width-S);var pe=C.spacingBox.width-2*S-j.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(pe/=2),this.maxLegendWidth=this.widthOption||pe,oe||(this.group=oe=U.g("legend").addClass(j.className||"").attr({zIndex:7}).add(),this.contentGroup=U.g().attr({zIndex:1}).add(oe),this.scrollGroup=U.g().add(this.contentGroup)),this.renderTitle(),T(H,function(Ae,D){return(Ae.options&&Ae.options.legendIndex||0)-(D.options&&D.options.legendIndex||0)}),j.reversed&&H.reverse(),this.allItems=H,this.display=pe=!!H.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,H.forEach(this.renderItem,this),H.forEach(this.layoutItem,this),H=(this.widthOption||this.offsetWidth)+S;var Z=this.lastItemY+this.lastLineHeight+this.titleHeight;Z=this.handleOverflow(Z),Z+=S,ve||(this.box=ve=U.rect().addClass("highcharts-legend-box").attr({r:j.borderRadius}).add(oe),ve.isNew=!0),C.styledMode||ve.attr({stroke:j.borderColor,"stroke-width":j.borderWidth||0,fill:j.backgroundColor||"none"}).shadow(j.shadow),0<H&&0<Z&&(ve[ve.isNew?"attr":"animate"](ve.crisp.call({},{x:0,y:0,width:H,height:Z},ve.strokeWidth())),ve.isNew=!1),ve[pe?"show":"hide"](),C.styledMode&&"none"===oe.getStyle("display")&&(H=Z=0),this.legendWidth=H,this.legendHeight=Z,pe&&this.align(),this.proximate||this.positionItems(),J(this,"afterRender")},k.prototype.align=function(C){void 0===C&&(C=this.chart.spacingBox);var U=this.chart,j=this.options,S=C.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<U.titleOffset[0]?S+=U.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<U.titleOffset[2]&&(S-=U.titleOffset[2]),S!==C.y&&(C=se(C,{y:S})),this.group.align(se(j,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":j.verticalAlign}),!0,C)},k.prototype.handleOverflow=function(C){var N,de,U=this,j=this.chart,S=j.renderer,H=this.options,oe=H.y,ve="top"===H.verticalAlign,pe=this.padding,Z=H.maxHeight,Ae=H.navigation,D=ee(Ae.animation,!0),P=Ae.arrowSize||12,X=this.pages,_e=this.allItems,ye=function(Ce){"number"==typeof Ce?be.attr({height:Ce}):be&&(U.clipRect=be.destroy(),U.contentGroup.clip()),U.contentGroup.div&&(U.contentGroup.div.style.clip=Ce?"rect("+pe+"px,9999px,"+(pe+Ce)+"px,0)":"auto")},Te=function(Ce){return U[Ce]=S.circle(0,0,1.3*P).translate(P/2,P/2).add(te),j.styledMode||U[Ce].attr("fill","rgba(0,0,0,0.0001)"),U[Ce]};oe=j.spacingBox.height+(ve?-oe:oe)-pe;var te=this.nav,be=this.clipRect;return"horizontal"!==H.layout||"middle"===H.verticalAlign||H.floating||(oe/=2),Z&&(oe=Math.min(oe,Z)),X.length=0,C&&0<oe&&C>oe&&!1!==Ae.enabled?(this.clipHeight=N=Math.max(oe-20-this.titleHeight-pe,0),this.currentPage=ee(this.currentPage,1),this.fullHeight=C,_e.forEach(function(Ce,Le){var Oe=Ce._legendItemPos[1],ze=Math.round(Ce.legendItem.getBBox().height),Ne=X.length;(!Ne||Oe-X[Ne-1]>N&&(de||Oe)!==X[Ne-1])&&(X.push(de||Oe),Ne++),Ce.pageIx=Ne-1,de&&(_e[Le-1].pageIx=Ne-1),Le===_e.length-1&&Oe+ze-X[Ne-1]>N&&ze<=N&&(X.push(Oe),Ce.pageIx=Ne),Oe!==de&&(de=Oe)}),be||(be=U.clipRect=S.clipRect(0,pe,9999,0),U.contentGroup.clip(be)),ye(N),te||(this.nav=te=S.g().attr({zIndex:1}).add(this.group),this.up=S.symbol("triangle",0,0,P,P).add(te),Te("upTracker").on("click",function(){U.scroll(-1,D)}),this.pager=S.text("",15,10).addClass("highcharts-legend-navigation"),j.styledMode||this.pager.css(Ae.style),this.pager.add(te),this.down=S.symbol("triangle-down",0,0,P,P).add(te),Te("downTracker").on("click",function(){U.scroll(1,D)})),U.scroll(0),C=oe):te&&(ye(),this.nav=te.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),C},k.prototype.scroll=function(C,U){var j=this,S=this.chart,H=this.pages,oe=H.length,ve=this.clipHeight,pe=this.options.navigation,Z=this.pager,Ae=this.padding,D=this.currentPage+C;D>oe&&(D=oe),0<D&&(void 0!==U&&B(U,S),this.nav.attr({translateX:Ae,translateY:ve+this.padding+7+this.titleHeight,visibility:"visible"}),[this.up,this.upTracker].forEach(function(P){P.attr({class:1===D?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),Z.attr({text:D+"/"+oe}),[this.down,this.downTracker].forEach(function(P){P.attr({x:18+this.pager.getBBox().width,class:D===oe?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),S.styledMode||(this.up.attr({fill:1===D?pe.inactiveColor:pe.activeColor}),this.upTracker.css({cursor:1===D?"default":"pointer"}),this.down.attr({fill:D===oe?pe.inactiveColor:pe.activeColor}),this.downTracker.css({cursor:D===oe?"default":"pointer"})),this.scrollOffset=-H[D-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=D,this.positionCheckboxes(),C=re(ee(U,S.renderer.globalAnimation,!0)),w(function(){J(j,"afterScroll",{currentPage:D})},C.duration))},k.prototype.setItemEvents=function(C,U,j){var S=this,H=S.chart.renderer.boxWrapper,oe=C instanceof xe,ve="highcharts-legend-"+(oe?"point":"series")+"-active",pe=S.chart.styledMode,Z=function(Ae){S.allItems.forEach(function(D){C!==D&&[D].concat(D.linkedSeries||[]).forEach(function(P){P.setState(Ae,!oe)})})};(j?[U,C.legendSymbol]:[C.legendGroup]).forEach(function(Ae){Ae&&Ae.on("mouseover",function(){C.visible&&Z("inactive"),C.setState("hover"),C.visible&&H.addClass(ve),pe||U.css(S.options.itemHoverStyle)}).on("mouseout",function(){S.chart.styledMode||U.css(se(C.visible?S.itemStyle:S.itemHiddenStyle)),Z(""),H.removeClass(ve),C.setState()}).on("click",function(D){var P=function(){C.setVisible&&C.setVisible(),Z(C.visible?"inactive":"")};H.removeClass(ve),D={browserEvent:D},C.firePointEvent?C.firePointEvent("legendItemClick",D,P):J(C,"legendItemClick",D,P)})})},k.prototype.createCheckboxForItem=function(C){C.checkbox=I("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:C.selected,defaultChecked:C.selected},this.options.itemCheckboxStyle,this.chart.container),M(C.checkbox,"click",function(U){J(C.series||C,"checkboxClick",{checked:U.target.checked,item:C},function(){C.select()})})},k}(),(/Trident\/7\.0/.test(ge.navigator&&ge.navigator.userAgent)||ae)&&he(ie.prototype,"positionItem",function(k,C){var U=this,j=function(){C._legendItemPos&&k.call(U,C)};j(),U.bubbleLegend||setTimeout(j)}),ie}),Se(me,"Core/Series/SeriesRegistry.js",[me["Core/Globals.js"],me["Core/DefaultOptions.js"],me["Core/Series/Point.js"],me["Core/Utilities.js"]],function(ae,ce,ge,xe){var Q,he=ce.defaultOptions,ie=xe.error,re=xe.extendClass,B=xe.merge;return function(W){function q(M,I){var R=he.plotOptions||{},V=I.defaultOptions;I.prototype.pointClass||(I.prototype.pointClass=ge),I.prototype.type=M,V&&(R[M]=V),W.seriesTypes[M]=I}W.seriesTypes=ae.seriesTypes,W.getSeries=function(M,I){void 0===I&&(I={});var R=M.options.chart,V=W.seriesTypes[R=I.type||R.type||R.defaultSeriesType||""];return W||ie(17,!0,M,{missingModuleFor:R}),"function"==typeof(R=new V).init&&R.init(M,I),R},W.registerSeriesType=q,W.seriesType=function(M,I,R,V,$){var L=he.plotOptions||{};return L[M]=B(L[I=I||""],R),q(M,re(W.seriesTypes[I]||function(){},V)),W.seriesTypes[M].prototype.type=M,$&&(W.seriesTypes[M].prototype.pointClass=re(ge,$)),W.seriesTypes[M]}}(Q||(Q={})),Q}),Se(me,"Core/Chart/Chart.js",[me["Core/Animation/AnimationUtilities.js"],me["Core/Axis/Axis.js"],me["Core/FormatUtilities.js"],me["Core/Foundation.js"],me["Core/Globals.js"],me["Core/Legend/Legend.js"],me["Core/MSPointer.js"],me["Core/DefaultOptions.js"],me["Core/Pointer.js"],me["Core/Renderer/RendererRegistry.js"],me["Core/Series/SeriesRegistry.js"],me["Core/Renderer/SVG/SVGRenderer.js"],me["Core/Time.js"],me["Core/Utilities.js"],me["Core/Renderer/HTML/AST.js"]],function(ae,ce,ge,xe,he,ie,re,B,Q,W,q,M,I,R,V){var $=ae.animate,L=ae.animObject,J=ae.setAnimation,Y=ge.numberFormat,se=xe.registerEventOptions,ee=he.charts,O=he.doc,T=he.marginNames,w=he.svg,k=he.win,C=B.defaultOptions,U=B.defaultTime,j=q.seriesTypes,S=R.addEvent,H=R.attr,oe=R.cleanRecursively,ve=R.createElement,pe=R.css,Z=R.defined,Ae=R.discardElement,D=R.erase,P=R.error,X=R.extend,_e=R.find,ye=R.fireEvent,Te=R.getStyle,N=R.isArray,de=R.isNumber,te=R.isObject,be=R.isString,Ce=R.merge,Le=R.objectEach,Oe=R.pick,ze=R.pInt,Ne=R.relativeLength,it=R.removeEvent,lt=R.splat,st=R.syncTimeout,Ke=R.uniqueKey;return ae=function(){function Be(fe,Ie,Ve){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(fe,Ie,Ve)}return Be.chart=function(fe,Ie,Ve){return new Be(fe,Ie,Ve)},Be.prototype.getArgs=function(fe,Ie,Ve){be(fe)||fe.nodeName?(this.renderTo=fe,this.init(Ie,Ve)):this.init(fe,Ie)},Be.prototype.init=function(fe,Ie){var Ve=fe.plotOptions||{};ye(this,"init",{args:arguments},function(){var Ze=Ce(C,fe),je=Ze.chart;Le(Ze.plotOptions,function(et,mt){te(et)&&(et.tooltip=Ve[mt]&&Ce(Ve[mt].tooltip)||void 0)}),Ze.tooltip.userOptions=fe.chart&&fe.chart.forExport&&fe.tooltip.userOptions||fe.tooltip,this.userOptions=fe,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=Ie,this.isResizing=0,this.options=Ze,this.axes=[],this.series=[],this.time=fe.time&&Object.keys(fe.time).length?new I(fe.time):he.time,this.numberFormatter=je.numberFormatter||Y,this.styledMode=je.styledMode,this.hasCartesianSeries=je.showAxes,this.index=ee.length,ee.push(this),he.chartCount++,se(this,je),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,ye(this,"afterInit"),this.firstRender()})},Be.prototype.initSeries=function(fe){var Ie=this.options.chart,Ve=j[Ie=fe.type||Ie.type||Ie.defaultSeriesType];return Ve||P(17,!0,this,{missingModuleFor:Ie}),"function"==typeof(Ie=new Ve).init&&Ie.init(this,fe),Ie},Be.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach(function(fe){fe.points||fe.data||!fe.enabledDataSorting||fe.setData(fe.options.data,!1)})},Be.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort(function(fe,Ie){return fe.linkedSeries.length||Ie.linkedSeries.length?Ie.linkedSeries.length-fe.linkedSeries.length:0})},Be.prototype.orderSeries=function(fe){var Ie=this.series;fe=fe||0;for(var Ve=Ie.length;fe<Ve;++fe)Ie[fe]&&(Ie[fe].index=fe,Ie[fe].name=Ie[fe].getName())},Be.prototype.isInsidePlot=function(fe,Ie,Ve){void 0===Ve&&(Ve={});var Ze=this.inverted,je=this.plotBox,et=this.plotLeft,mt=this.plotTop,It=this.scrollablePlotBox,Lt=0,Et=0;Ve.visiblePlotOnly&&this.scrollingContainer&&(Lt=(Et=this.scrollingContainer).scrollLeft,Et=Et.scrollTop);var At=Ve.series;if(je=Ve.visiblePlotOnly&&It||je,fe={x:It=Ve.inverted?Ie:fe,y:Ie=Ve.inverted?fe:Ie,isInsidePlot:!0},!Ve.ignoreX){var en=At&&(Ze?At.yAxis:At.xAxis)||{pos:et,len:1/0};(It=Ve.paneCoordinates?en.pos+It:et+It)>=Math.max(Lt+et,en.pos)&&It<=Math.min(Lt+et+je.width,en.pos+en.len)||(fe.isInsidePlot=!1)}return!Ve.ignoreY&&fe.isInsidePlot&&(Ze=At&&(Ze?At.xAxis:At.yAxis)||{pos:mt,len:1/0},(Ve=Ve.paneCoordinates?Ze.pos+Ie:mt+Ie)>=Math.max(Et+mt,Ze.pos)&&Ve<=Math.min(Et+mt+je.height,Ze.pos+Ze.len)||(fe.isInsidePlot=!1)),ye(this,"afterIsInsidePlot",fe),fe.isInsidePlot},Be.prototype.redraw=function(fe){ye(this,"beforeRedraw");var Ie=this.hasCartesianSeries?this.axes:this.colorAxis||[],Ve=this.series,Ze=this.pointer,je=this.legend,et=this.userOptions.legend,mt=this.renderer,It=mt.isHidden(),Lt=[],Et=this.isDirtyBox,At=this.isDirtyLegend;for(this.setResponsive&&this.setResponsive(!1),J(!!this.hasRendered&&fe,this),It&&this.temporaryDisplay(),this.layOutTitles(),fe=Ve.length;fe--;){var en=Ve[fe];if(en.options.stacking||en.options.centerInCategory){var We=!0;if(en.isDirty){var Ue=!0;break}}}if(Ue)for(fe=Ve.length;fe--;)(en=Ve[fe]).options.stacking&&(en.isDirty=!0);Ve.forEach(function(He){He.isDirty&&("point"===He.options.legendType?("function"==typeof He.updateTotals&&He.updateTotals(),At=!0):et&&(et.labelFormatter||et.labelFormat)&&(At=!0)),He.isDirtyData&&ye(He,"updatedData")}),At&&je&&je.options.enabled&&(je.render(),this.isDirtyLegend=!1),We&&this.getStacks(),Ie.forEach(function(He){He.updateNames(),He.setScale()}),this.getMargins(),Ie.forEach(function(He){He.isDirty&&(Et=!0)}),Ie.forEach(function(He){var ct=He.min+","+He.max;He.extKey!==ct&&(He.extKey=ct,Lt.push(function(){ye(He,"afterSetExtremes",X(He.eventArgs,He.getExtremes())),delete He.eventArgs})),(Et||We)&&He.redraw()}),Et&&this.drawChartBox(),ye(this,"predraw"),Ve.forEach(function(He){(Et||He.isDirty)&&He.visible&&He.redraw(),He.isDirtyData=!1}),Ze&&Ze.reset(!0),mt.draw(),ye(this,"redraw"),ye(this,"render"),It&&this.temporaryDisplay(!0),Lt.forEach(function(He){He.call()})},Be.prototype.get=function(fe){function Ie(et){return et.id===fe||et.options&&et.options.id===fe}for(var Ve=this.series,Ze=_e(this.axes,Ie)||_e(this.series,Ie),je=0;!Ze&&je<Ve.length;je++)Ze=_e(Ve[je].points||[],Ie);return Ze},Be.prototype.getAxes=function(){var fe=this,Ie=this.options,Ve=Ie.xAxis=lt(Ie.xAxis||{});Ie=Ie.yAxis=lt(Ie.yAxis||{}),ye(this,"getAxes"),Ve.forEach(function(Ze,je){Ze.index=je,Ze.isX=!0}),Ie.forEach(function(Ze,je){Ze.index=je}),Ve.concat(Ie).forEach(function(Ze){new ce(fe,Ze)}),ye(this,"afterGetAxes")},Be.prototype.getSelectedPoints=function(){return this.series.reduce(function(fe,Ie){return Ie.getPointsCollection().forEach(function(Ve){Oe(Ve.selectedStaging,Ve.selected)&&fe.push(Ve)}),fe},[])},Be.prototype.getSelectedSeries=function(){return this.series.filter(function(fe){return fe.selected})},Be.prototype.setTitle=function(fe,Ie,Ve){this.applyDescription("title",fe),this.applyDescription("subtitle",Ie),this.applyDescription("caption",void 0),this.layOutTitles(Ve)},Be.prototype.applyDescription=function(fe,Ie){var Ve=this,Ze="title"===fe?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};Ze=this.options[fe]=Ce(!this.styledMode&&{style:Ze},this.options[fe],Ie);var je=this[fe];je&&Ie&&(this[fe]=je=je.destroy()),Ze&&!je&&((je=this.renderer.text(Ze.text,0,0,Ze.useHTML).attr({align:Ze.align,class:"highcharts-"+fe,zIndex:Ze.zIndex||4}).add()).update=function(et){Ve[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[fe]](et)},this.styledMode||je.css(Ze.style),this[fe]=je)},Be.prototype.layOutTitles=function(fe){var Ie=[0,0,0],Ve=this.renderer,Ze=this.spacingBox;["title","subtitle","caption"].forEach(function(et){var Et,mt=this[et],It=this.options[et],Lt=It.verticalAlign||"top";if(et="title"===et?"top"===Lt?-3:0:"top"===Lt?Ie[0]+2:0,mt){this.styledMode||(Et=It.style&&It.style.fontSize),Et=Ve.fontMetrics(Et,mt).b,mt.css({width:(It.width||Ze.width+(It.widthAdjust||0))+"px"});var At=Math.round(mt.getBBox(It.useHTML).height);mt.align(X({y:"bottom"===Lt?Et:et+Et,height:At},It),!1,"spacingBox"),It.floating||("top"===Lt?Ie[0]=Math.ceil(Ie[0]+At):"bottom"===Lt&&(Ie[2]=Math.ceil(Ie[2]+At)))}},this),Ie[0]&&"top"===(this.options.title.verticalAlign||"top")&&(Ie[0]+=this.options.title.margin),Ie[2]&&"bottom"===this.options.caption.verticalAlign&&(Ie[2]+=this.options.caption.margin);var je=!this.titleOffset||this.titleOffset.join(",")!==Ie.join(",");this.titleOffset=Ie,ye(this,"afterLayOutTitles"),!this.isDirtyBox&&je&&(this.isDirtyBox=this.isDirtyLegend=je,this.hasRendered&&Oe(fe,!0)&&this.isDirtyBox&&this.redraw())},Be.prototype.getChartSize=function(){var fe=this.options.chart,Ie=fe.width;fe=fe.height;var Ve=this.renderTo;Z(Ie)||(this.containerWidth=Te(Ve,"width")),Z(fe)||(this.containerHeight=Te(Ve,"height")),this.chartWidth=Math.max(0,Ie||this.containerWidth||600),this.chartHeight=Math.max(0,Ne(fe,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},Be.prototype.temporaryDisplay=function(fe){var Ie=this.renderTo;if(fe)for(;Ie&&Ie.style;)Ie.hcOrigStyle&&(pe(Ie,Ie.hcOrigStyle),delete Ie.hcOrigStyle),Ie.hcOrigDetached&&(O.body.removeChild(Ie),Ie.hcOrigDetached=!1),Ie=Ie.parentNode;else for(;Ie&&Ie.style&&(O.body.contains(Ie)||Ie.parentNode||(Ie.hcOrigDetached=!0,O.body.appendChild(Ie)),("none"===Te(Ie,"display",!1)||Ie.hcOricDetached)&&(Ie.hcOrigStyle={display:Ie.style.display,height:Ie.style.height,overflow:Ie.style.overflow},fe={display:"block",overflow:"hidden"},Ie!==this.renderTo&&(fe.height=0),pe(Ie,fe),Ie.offsetWidth||Ie.style.setProperty("display","block","important")),(Ie=Ie.parentNode)!==O.body););},Be.prototype.setClassName=function(fe){this.container.className="highcharts-container "+(fe||"")},Be.prototype.getContainer=function(){var Ze,fe=this.options,Ie=fe.chart,Ve=Ke(),je=this.renderTo;je||(this.renderTo=je=Ie.renderTo),be(je)&&(this.renderTo=je=O.getElementById(je)),je||P(13,!0,this);var et=ze(H(je,"data-highcharts-chart"));de(et)&&ee[et]&&ee[et].hasRendered&&ee[et].destroy(),H(je,"data-highcharts-chart",this.index),je.innerHTML="",Ie.skipClone||je.offsetWidth||this.temporaryDisplay(),this.getChartSize(),et=this.chartWidth;var mt=this.chartHeight;if(pe(je,{overflow:"hidden"}),this.styledMode||(Ze=X({position:"relative",overflow:"hidden",width:et+"px",height:mt+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},Ie.style||{})),this.container=Ve=ve("div",{id:Ve},Ze,je),this._cursor=Ve.style.cursor,this.renderer=new(Ie.renderer||!w?W.getRendererType(Ie.renderer):M)(Ve,et,mt,void 0,Ie.forExport,fe.exporting&&fe.exporting.allowHTML,this.styledMode),J(void 0,this),this.setClassName(Ie.className),this.styledMode)for(var It in fe.defs)this.renderer.definition(fe.defs[It]);else this.renderer.setStyle(Ie.style);this.renderer.chartIndex=this.index,ye(this,"afterGetContainer")},Be.prototype.getMargins=function(fe){var Ie=this.spacing,Ve=this.margin,Ze=this.titleOffset;this.resetMargins(),Ze[0]&&!Z(Ve[0])&&(this.plotTop=Math.max(this.plotTop,Ze[0]+Ie[0])),Ze[2]&&!Z(Ve[2])&&(this.marginBottom=Math.max(this.marginBottom,Ze[2]+Ie[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(Ve,Ie),ye(this,"getMargins"),fe||this.getAxisMargins()},Be.prototype.getAxisMargins=function(){var fe=this,Ie=fe.axisOffset=[0,0,0,0],Ve=fe.colorAxis,Ze=fe.margin,je=function(et){et.forEach(function(mt){mt.visible&&mt.getOffset()})};fe.hasCartesianSeries?je(fe.axes):Ve&&Ve.length&&je(Ve),T.forEach(function(et,mt){Z(Ze[mt])||(fe[et]+=Ie[mt])}),fe.setChartSize()},Be.prototype.reflow=function(fe){var Ie=this,Ve=Ie.options.chart,Ze=Ie.renderTo,je=Z(Ve.width)&&Z(Ve.height),et=Ve.width||Te(Ze,"width");Ve=Ve.height||Te(Ze,"height"),Ze=fe?fe.target:k,delete Ie.pointer.chartPosition,!je&&!Ie.isPrinting&&et&&Ve&&(Ze===k||Ze===O)&&((et!==Ie.containerWidth||Ve!==Ie.containerHeight)&&(R.clearTimeout(Ie.reflowTimeout),Ie.reflowTimeout=st(function(){Ie.container&&Ie.setSize(void 0,void 0,!1)},fe?100:0)),Ie.containerWidth=et,Ie.containerHeight=Ve)},Be.prototype.setReflow=function(fe){var Ie=this;!1===fe||this.unbindReflow?!1===fe&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=S(k,"resize",function(Ve){Ie.options&&Ie.reflow(Ve)}),S(this,"destroy",this.unbindReflow))},Be.prototype.setSize=function(fe,Ie,Ve){var Ze=this,je=Ze.renderer;Ze.isResizing+=1,J(Ve,Ze),Ve=je.globalAnimation,Ze.oldChartHeight=Ze.chartHeight,Ze.oldChartWidth=Ze.chartWidth,void 0!==fe&&(Ze.options.chart.width=fe),void 0!==Ie&&(Ze.options.chart.height=Ie),Ze.getChartSize(),Ze.styledMode||(Ve?$:pe)(Ze.container,{width:Ze.chartWidth+"px",height:Ze.chartHeight+"px"},Ve),Ze.setChartSize(!0),je.setSize(Ze.chartWidth,Ze.chartHeight,Ve),Ze.axes.forEach(function(et){et.isDirty=!0,et.setScale()}),Ze.isDirtyLegend=!0,Ze.isDirtyBox=!0,Ze.layOutTitles(),Ze.getMargins(),Ze.redraw(Ve),Ze.oldChartHeight=null,ye(Ze,"resize"),st(function(){Ze&&ye(Ze,"endResize",null,function(){--Ze.isResizing})},L(Ve).duration)},Be.prototype.setChartSize=function(fe){var Lt,Et,At,en,Ie=this.inverted,Ve=this.renderer,Ze=this.chartWidth,je=this.chartHeight,et=this.options.chart,mt=this.spacing,It=this.clipOffset;this.plotLeft=Lt=Math.round(this.plotLeft),this.plotTop=Et=Math.round(this.plotTop),this.plotWidth=At=Math.max(0,Math.round(Ze-Lt-this.marginRight)),this.plotHeight=en=Math.max(0,Math.round(je-Et-this.marginBottom)),this.plotSizeX=Ie?en:At,this.plotSizeY=Ie?At:en,this.plotBorderWidth=et.plotBorderWidth||0,this.spacingBox=Ve.spacingBox={x:mt[3],y:mt[0],width:Ze-mt[3]-mt[1],height:je-mt[0]-mt[2]},this.plotBox=Ve.plotBox={x:Lt,y:Et,width:At,height:en},Ie=2*Math.floor(this.plotBorderWidth/2),Ze=Math.ceil(Math.max(Ie,It[3])/2),je=Math.ceil(Math.max(Ie,It[0])/2),this.clipBox={x:Ze,y:je,width:Math.floor(this.plotSizeX-Math.max(Ie,It[1])/2-Ze),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(Ie,It[2])/2-je))},fe||(this.axes.forEach(function(We){We.setAxisSize(),We.setAxisTranslation()}),Ve.alignElements()),ye(this,"afterSetChartSize",{skipAxes:fe})},Be.prototype.resetMargins=function(){ye(this,"resetMargins");var fe=this,Ie=fe.options.chart;["margin","spacing"].forEach(function(Ve){var Ze=Ie[Ve],je=te(Ze)?Ze:[Ze,Ze,Ze,Ze];["Top","Right","Bottom","Left"].forEach(function(et,mt){fe[Ve][mt]=Oe(Ie[Ve+et],je[mt])})}),T.forEach(function(Ve,Ze){fe[Ve]=Oe(fe.margin[Ze],fe.spacing[Ze])}),fe.axisOffset=[0,0,0,0],fe.clipOffset=[0,0,0,0]},Be.prototype.drawChartBox=function(){var nn,fe=this.options.chart,Ie=this.renderer,Ve=this.chartWidth,Ze=this.chartHeight,je=this.styledMode,et=this.plotBGImage,mt=fe.backgroundColor,It=fe.plotBackgroundColor,Lt=fe.plotBackgroundImage,Et=this.plotLeft,At=this.plotTop,en=this.plotWidth,We=this.plotHeight,Ue=this.plotBox,He=this.clipRect,ct=this.clipBox,tt=this.chartBackground,Ct=this.plotBackground,Bt=this.plotBorder,Zt="animate";if(tt||(this.chartBackground=tt=Ie.rect().addClass("highcharts-background").add(),Zt="attr"),je)var _n=nn=tt.strokeWidth();else nn=(_n=fe.borderWidth||0)+(fe.shadow?8:0),mt={fill:mt||"none"},(_n||tt["stroke-width"])&&(mt.stroke=fe.borderColor,mt["stroke-width"]=_n),tt.attr(mt).shadow(fe.shadow);tt[Zt]({x:nn/2,y:nn/2,width:Ve-nn-_n%2,height:Ze-nn-_n%2,r:fe.borderRadius}),Zt="animate",Ct||(Zt="attr",this.plotBackground=Ct=Ie.rect().addClass("highcharts-plot-background").add()),Ct[Zt](Ue),je||(Ct.attr({fill:It||"none"}).shadow(fe.plotShadow),Lt&&(et?(Lt!==et.attr("href")&&et.attr("href",Lt),et.animate(Ue)):this.plotBGImage=Ie.image(Lt,Et,At,en,We).add())),He?He.animate({width:ct.width,height:ct.height}):this.clipRect=Ie.clipRect(ct),Zt="animate",Bt||(Zt="attr",this.plotBorder=Bt=Ie.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),je||Bt.attr({stroke:fe.plotBorderColor,"stroke-width":fe.plotBorderWidth||0,fill:"none"}),Bt[Zt](Bt.crisp({x:Et,y:At,width:en,height:We},-Bt.strokeWidth())),this.isDirtyBox=!1,ye(this,"afterDrawChartBox")},Be.prototype.propFromSeries=function(){var Ze,je,et,fe=this,Ie=fe.options.chart,Ve=fe.options.series;["inverted","angular","polar"].forEach(function(mt){for(je=j[Ie.type||Ie.defaultSeriesType],et=Ie[mt]||je&&je.prototype[mt],Ze=Ve&&Ve.length;!et&&Ze--;)(je=j[Ve[Ze].type])&&je.prototype[mt]&&(et=!0);fe[mt]=et})},Be.prototype.linkSeries=function(){var fe=this,Ie=fe.series;Ie.forEach(function(Ve){Ve.linkedSeries.length=0}),Ie.forEach(function(Ve){var Ze=Ve.options.linkedTo;be(Ze)&&(Ze=":previous"===Ze?fe.series[Ve.index-1]:fe.get(Ze))&&Ze.linkedParent!==Ve&&(Ze.linkedSeries.push(Ve),Ve.linkedParent=Ze,Ze.enabledDataSorting&&Ve.setDataSortingOptions(),Ve.visible=Oe(Ve.options.visible,Ze.options.visible,Ve.visible))}),ye(this,"afterLinkSeries")},Be.prototype.renderSeries=function(){this.series.forEach(function(fe){fe.translate(),fe.render()})},Be.prototype.renderLabels=function(){var fe=this,Ie=fe.options.labels;Ie.items&&Ie.items.forEach(function(Ve){var Ze=X(Ie.style,Ve.style),je=ze(Ze.left)+fe.plotLeft,et=ze(Ze.top)+fe.plotTop+12;delete Ze.left,delete Ze.top,fe.renderer.text(Ve.html,je,et).attr({zIndex:2}).css(Ze).add()})},Be.prototype.render=function(){var fe=this.axes,Ie=this.colorAxis,Ve=this.renderer,Ze=this.options,je=function(Et){Et.forEach(function(At){At.visible&&At.render()})},et=0;this.setTitle(),this.legend=new ie(this,Ze.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),Ze=this.plotWidth,fe.some(function(Et){if(Et.horiz&&Et.visible&&Et.options.labels.enabled&&Et.series.length)return et=21,!0});var mt=this.plotHeight=Math.max(this.plotHeight-et,0);fe.forEach(function(Et){Et.setScale()}),this.getAxisMargins();var It=1.1<Ze/this.plotWidth,Lt=1.05<mt/this.plotHeight;(It||Lt)&&(fe.forEach(function(Et){(Et.horiz&&It||!Et.horiz&&Lt)&&Et.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?je(fe):Ie&&Ie.length&&je(Ie),this.seriesGroup||(this.seriesGroup=Ve.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},Be.prototype.addCredits=function(fe){var Ie=this,Ve=Ce(!0,this.options.credits,fe);Ve.enabled&&!this.credits&&(this.credits=this.renderer.text(Ve.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){Ve.href&&(k.location.href=Ve.href)}).attr({align:Ve.position.align,zIndex:8}),Ie.styledMode||this.credits.css(Ve.style),this.credits.add().align(Ve.position),this.credits.update=function(Ze){Ie.credits=Ie.credits.destroy(),Ie.addCredits(Ze)})},Be.prototype.destroy=function(){var et,fe=this,Ie=fe.axes,Ve=fe.series,Ze=fe.container,je=Ze&&Ze.parentNode;for(ye(fe,"destroy"),fe.renderer.forExport?D(ee,fe):ee[fe.index]=void 0,he.chartCount--,fe.renderTo.removeAttribute("data-highcharts-chart"),it(fe),et=Ie.length;et--;)Ie[et]=Ie[et].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),et=Ve.length;et--;)Ve[et]=Ve[et].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(mt){var It=fe[mt];It&&It.destroy&&(fe[mt]=It.destroy())}),Ze&&(Ze.innerHTML="",it(Ze),je&&Ae(Ze)),Le(fe,function(mt,It){delete fe[It]})},Be.prototype.firstRender=function(){var fe=this,Ie=fe.options;(!fe.isReadyToRender||fe.isReadyToRender())&&(fe.getContainer(),fe.resetMargins(),fe.setChartSize(),fe.propFromSeries(),fe.getAxes(),(N(Ie.series)?Ie.series:[]).forEach(function(Ve){fe.initSeries(Ve)}),fe.linkSeries(),fe.setSeriesData(),ye(fe,"beforeRender"),Q&&(fe.pointer=re.isRequired()?new re(fe,Ie):new Q(fe,Ie)),fe.render(),fe.pointer.getChartPosition(),!fe.renderer.imgCount&&!fe.hasLoaded&&fe.onload(),fe.temporaryDisplay(!0))},Be.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach(function(fe){fe&&void 0!==this.index&&fe.apply(this,[this])},this),ye(this,"load"),ye(this,"render"),Z(this.index)&&this.setReflow(this.options.chart.reflow),this.hasLoaded=!0},Be.prototype.addSeries=function(fe,Ie,Ve){var je,Ze=this;return fe&&(Ie=Oe(Ie,!0),ye(Ze,"addSeries",{options:fe},function(){je=Ze.initSeries(fe),Ze.isDirtyLegend=!0,Ze.linkSeries(),je.enabledDataSorting&&je.setData(fe.data,!1),ye(Ze,"afterAddSeries",{series:je}),Ie&&Ze.redraw(Ve)})),je},Be.prototype.addAxis=function(fe,Ie,Ve,Ze){return this.createAxis(Ie?"xAxis":"yAxis",{axis:fe,redraw:Ve,animation:Ze})},Be.prototype.addColorAxis=function(fe,Ie,Ve){return this.createAxis("colorAxis",{axis:fe,redraw:Ie,animation:Ve})},Be.prototype.createAxis=function(fe,Ie){return fe=new ce(this,Ce(Ie.axis,{index:this[fe].length,isX:"xAxis"===fe})),Oe(Ie.redraw,!0)&&this.redraw(Ie.animation),fe},Be.prototype.showLoading=function(fe){var Ie=this,Ve=Ie.options,Ze=Ve.loading,je=function(){et&&pe(et,{left:Ie.plotLeft+"px",top:Ie.plotTop+"px",width:Ie.plotWidth+"px",height:Ie.plotHeight+"px"})},et=Ie.loadingDiv,mt=Ie.loadingSpan;et||(Ie.loadingDiv=et=ve("div",{className:"highcharts-loading highcharts-loading-hidden"},null,Ie.container)),mt||(Ie.loadingSpan=mt=ve("span",{className:"highcharts-loading-inner"},null,et),S(Ie,"redraw",je)),et.className="highcharts-loading",V.setElementHTML(mt,Oe(fe,Ve.lang.loading,"")),Ie.styledMode||(pe(et,X(Ze.style,{zIndex:10})),pe(mt,Ze.labelStyle),Ie.loadingShown||(pe(et,{opacity:0,display:""}),$(et,{opacity:Ze.style.opacity||.5},{duration:Ze.showDuration||0}))),Ie.loadingShown=!0,je()},Be.prototype.hideLoading=function(){var fe=this.options,Ie=this.loadingDiv;Ie&&(Ie.className="highcharts-loading highcharts-loading-hidden",this.styledMode||$(Ie,{opacity:0},{duration:fe.loading.hideDuration||100,complete:function(){pe(Ie,{display:"none"})}})),this.loadingShown=!1},Be.prototype.update=function(fe,Ie,Ve,Ze){var Lt,Et,je=this,et={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},mt=fe.isResponsiveOptions,It=[];ye(je,"update",{options:fe}),mt||je.setResponsive(!1,!0),fe=oe(fe,je.options),je.userOptions=Ce(je.userOptions,fe);var At=fe.chart;if(At){if(Ce(!0,je.options.chart,At),"className"in At&&je.setClassName(At.className),"reflow"in At&&je.setReflow(At.reflow),"inverted"in At||"polar"in At||"type"in At){je.propFromSeries();var en=!0}"alignTicks"in At&&(en=!0),"events"in At&&se(this,At),Le(At,function(We,Ue){-1!==je.propsRequireUpdateSeries.indexOf("chart."+Ue)&&(Lt=!0),-1!==je.propsRequireDirtyBox.indexOf(Ue)&&(je.isDirtyBox=!0),-1!==je.propsRequireReflow.indexOf(Ue)&&(mt?je.isDirtyBox=!0:Et=!0)}),!je.styledMode&&At.style&&je.renderer.setStyle(je.options.chart.style||{})}!je.styledMode&&fe.colors&&(this.options.colors=fe.colors),fe.time&&(this.time===U&&(this.time=new I(fe.time)),Ce(!0,je.options.time,fe.time)),Le(fe,function(We,Ue){je[Ue]&&"function"==typeof je[Ue].update?je[Ue].update(We,!1):"function"==typeof je[et[Ue]]?je[et[Ue]](We):"colors"!==Ue&&-1===je.collectionsWithUpdate.indexOf(Ue)&&Ce(!0,je.options[Ue],fe[Ue]),"chart"!==Ue&&-1!==je.propsRequireUpdateSeries.indexOf(Ue)&&(Lt=!0)}),this.collectionsWithUpdate.forEach(function(We){if(fe[We]){var Ue=[];je[We].forEach(function(He,ct){He.options.isInternal||Ue.push(Oe(He.options.index,ct))}),lt(fe[We]).forEach(function(He,ct){var Ct,tt=Z(He.id);tt&&(Ct=je.get(He.id)),!Ct&&je[We]&&(Ct=je[We][Ue?Ue[ct]:ct])&&tt&&Z(Ct.options.id)&&(Ct=void 0),Ct&&Ct.coll===We&&(Ct.update(He,!1),Ve&&(Ct.touched=!0)),!Ct&&Ve&&je.collectionsWithInit[We]&&(je.collectionsWithInit[We][0].apply(je,[He].concat(je.collectionsWithInit[We][1]||[]).concat([!1])).touched=!0)}),Ve&&je[We].forEach(function(He){He.touched||He.options.isInternal?delete He.touched:It.push(He)})}}),It.forEach(function(We){We.chart&&We.remove&&We.remove(!1)}),en&&je.axes.forEach(function(We){We.update({},!1)}),Lt&&je.getSeriesOrderByLinks().forEach(function(We){We.chart&&We.update({},!1)},this),en=At&&At.width,At=At&&(be(At.height)?Ne(At.height,en||je.chartWidth):At.height),Et||de(en)&&en!==je.chartWidth||de(At)&&At!==je.chartHeight?je.setSize(en,At,Ze):Oe(Ie,!0)&&je.redraw(Ze),ye(je,"afterUpdate",{options:fe,redraw:Ie,animation:Ze})},Be.prototype.setSubtitle=function(fe,Ie){this.applyDescription("subtitle",fe),this.layOutTitles(Ie)},Be.prototype.setCaption=function(fe,Ie){this.applyDescription("caption",fe),this.layOutTitles(Ie)},Be.prototype.showResetZoom=function(){function fe(){Ie.zoomOut()}var Ie=this,Ve=C.lang,Ze=Ie.options.chart.resetZoomButton,je=Ze.theme,et=je.states,mt="chart"===Ze.relativeTo||"spacingBox"===Ze.relativeTo?null:"scrollablePlotBox";ye(this,"beforeShowResetZoom",null,function(){Ie.resetZoomButton=Ie.renderer.button(Ve.resetZoom,null,null,fe,je,et&&et.hover).attr({align:Ze.position.align,title:Ve.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(Ze.position,!1,mt)}),ye(this,"afterShowResetZoom")},Be.prototype.zoomOut=function(){ye(this,"selection",{resetSelection:!0},this.zoom)},Be.prototype.zoom=function(fe){var et,Ie=this,Ve=Ie.pointer,Ze=Ie.inverted?Ve.mouseDownX:Ve.mouseDownY,je=!1;!fe||fe.resetSelection?(Ie.axes.forEach(function(It){et=It.zoom()}),Ve.initiated=!1):fe.xAxis.concat(fe.yAxis).forEach(function(It){var Lt=It.axis,Et=Ie.inverted?Lt.left:Lt.top,en=Lt.isXAxis,We=!1;(!en&&Ze>=Et&&Ze<=(Ie.inverted?Et+Lt.width:Et+Lt.height)||en||!Z(Ze))&&(We=!0),Ve[en?"zoomX":"zoomY"]&&We&&(et=Lt.zoom(It.min,It.max),Lt.displayBtn&&(je=!0))});var mt=Ie.resetZoomButton;je&&!mt?Ie.showResetZoom():!je&&te(mt)&&(Ie.resetZoomButton=mt.destroy()),et&&Ie.redraw(Oe(Ie.options.chart.animation,fe&&fe.animation,100>Ie.pointCount))},Be.prototype.pan=function(fe,Ie){var Ve=this,Ze=Ve.hoverPoints;Ie="object"==typeof Ie?Ie:{enabled:Ie,type:"x"};var je=Ve.options.chart,et=Ve.options.mapNavigation&&Ve.options.mapNavigation.enabled;je&&je.panning&&(je.panning=Ie);var It,mt=Ie.type;ye(this,"pan",{originalEvent:fe},function(){Ze&&Ze.forEach(function(At){At.setState()});var Lt=Ve.xAxis;"xy"===mt?Lt=Lt.concat(Ve.yAxis):"y"===mt&&(Lt=Ve.yAxis);var Et={};Lt.forEach(function(At){if(At.options.panningEnabled&&!At.options.isInternal){var en=At.horiz,We=fe[en?"chartX":"chartY"],Ue=Ve[en=en?"mouseDownX":"mouseDownY"],He=At.minPointOffset||0,ct=At.reversed&&!Ve.inverted||!At.reversed&&Ve.inverted?-1:1,tt=At.getExtremes(),Ct=At.toValue(Ue-We,!0)+He*ct,Bt=At.toValue(Ue+At.len-We,!0)-(He*ct||At.isXAxis&&At.pointRangePadding||0),nn=Bt<Ct;ct=At.hasVerticalPanning(),Ue=nn?Bt:Ct,Ct=nn?Ct:Bt;var Zt=At.panningState;!ct||At.isXAxis||Zt&&!Zt.isDirty||At.series.forEach(function(_n){var ti=_n.getProcessedData(!0);ti=_n.getExtremes(ti.yData,!0),Zt||(Zt={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),de(ti.dataMin)&&de(ti.dataMax)&&(Zt.startMin=Math.min(Oe(_n.options.threshold,1/0),ti.dataMin,Zt.startMin),Zt.startMax=Math.max(Oe(_n.options.threshold,-1/0),ti.dataMax,Zt.startMax))}),ct=Math.min(Oe(Zt&&Zt.startMin,tt.dataMin),He?tt.min:At.toValue(At.toPixels(tt.min)-At.minPixelPadding)),Bt=Math.max(Oe(Zt&&Zt.startMax,tt.dataMax),He?tt.max:At.toValue(At.toPixels(tt.max)+At.minPixelPadding)),At.panningState=Zt,At.isOrdinal||(0<(He=ct-Ue)&&(Ct+=He,Ue=ct),0<(He=Ct-Bt)&&(Ct=Bt,Ue-=He),At.series.length&&Ue!==tt.min&&Ct!==tt.max&&Ue>=ct&&Ct<=Bt&&(At.setExtremes(Ue,Ct,!1,!1,{trigger:"pan"}),Ve.resetZoomButton||et||Ue===ct||Ct===Bt||!mt.match("y")||(Ve.showResetZoom(),At.displayBtn=!1),It=!0),Et[en]=We)}}),Le(Et,function(At,en){Ve[en]=At}),It&&Ve.redraw(!1),pe(Ve.container,{cursor:"move"})})},Be}(),X(ae.prototype,{callbacks:[],collectionsWithInit:{xAxis:[ae.prototype.addAxis,[!0]],yAxis:[ae.prototype.addAxis,[!1]],series:[ae.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),ae}),Se(me,"Core/Legend/LegendSymbol.js",[me["Core/Utilities.js"]],function(ae){var xe,he,ce=ae.merge,ge=ae.pick;return(he=xe||(xe={})).drawLineMarker=function(ie){var re=this.options,B=ie.symbolWidth,Q=ie.symbolHeight,W=Q/2,q=this.chart.renderer,M=this.legendGroup;ie=ie.baseline-Math.round(.3*ie.fontMetrics.b);var I={},R=re.marker;this.chart.styledMode||(I={"stroke-width":re.lineWidth||0},re.dashStyle&&(I.dashstyle=re.dashStyle)),this.legendLine=q.path([["M",0,ie],["L",B,ie]]).addClass("highcharts-graph").attr(I).add(M),R&&!1!==R.enabled&&B&&(re=Math.min(ge(R.radius,W),W),0===this.symbol.indexOf("url")&&(R=ce(R,{width:Q,height:Q}),re=0),this.legendSymbol=B=q.symbol(this.symbol,B/2-re,ie-re,2*re,2*re,R).addClass("highcharts-point").add(M),B.isMarker=!0)},he.drawRectangle=function(ie,re){var B=ie.symbolHeight,Q=ie.options.squareSymbol;re.legendSymbol=this.chart.renderer.rect(Q?(ie.symbolWidth-B)/2:0,ie.baseline-B+1,Q?B:ie.symbolWidth,B,ge(ie.options.symbolRadius,B/2)).addClass("highcharts-point").attr({zIndex:3}).add(re.legendGroup)},xe}),Se(me,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",defer:!0,formatter:function(){return"number"!=typeof this.y?"":(0,this.series.chart.numberFormatter)(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),Se(me,"Core/Series/Series.js",[me["Core/Animation/AnimationUtilities.js"],me["Core/DefaultOptions.js"],me["Core/Foundation.js"],me["Core/Globals.js"],me["Core/Legend/LegendSymbol.js"],me["Core/Series/Point.js"],me["Core/Series/SeriesDefaults.js"],me["Core/Series/SeriesRegistry.js"],me["Core/Renderer/SVG/SVGElement.js"],me["Core/Utilities.js"]],function(ae,ce,ge,xe,he,ie,re,B,Q,W){var q=ae.animObject,M=ae.setAnimation,I=ce.defaultOptions,R=ge.registerEventOptions,V=xe.hasTouch,$=xe.svg,L=xe.win,J=B.seriesTypes,Y=W.addEvent,se=W.arrayMax,ee=W.arrayMin,O=W.clamp,T=W.cleanRecursively,w=W.correctFloat,k=W.defined,C=W.erase,U=W.error,j=W.extend,S=W.find,H=W.fireEvent,oe=W.getNestedProperty,ve=W.isArray,pe=W.isNumber,Z=W.isString,Ae=W.merge,D=W.objectEach,P=W.pick,X=W.removeEvent,_e=W.splat,ye=W.syncTimeout;return ae=function(){function Te(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}return Te.prototype.init=function(N,de){H(this,"init",{options:de});var te=this,be=N.series;this.eventsToUnbind=[],te.chart=N,te.options=te.setOptions(de),de=te.options,te.linkedSeries=[],te.bindAxes(),j(te,{name:de.name,state:"",visible:!1!==de.visible,selected:!0===de.selected}),R(this,de);var Le,Ce=de.events;(Ce&&Ce.click||de.point&&de.point.events&&de.point.events.click||de.allowPointSelect)&&(N.runTrackerClick=!0),te.getColor(),te.getSymbol(),te.parallelArrays.forEach(function(Oe){te[Oe+"Data"]||(te[Oe+"Data"]=[])}),te.isCartesian&&(N.hasCartesianSeries=!0),be.length&&(Le=be[be.length-1]),te._i=P(Le&&Le._i,-1)+1,te.opacity=te.options.opacity,N.orderSeries(this.insert(be)),de.dataSorting&&de.dataSorting.enabled?te.setDataSortingOptions():te.points||te.data||te.setData(de.data,!1),H(this,"afterInit")},Te.prototype.is=function(N){return J[N]&&this instanceof J[N]},Te.prototype.insert=function(N){var te,de=this.options.index;if(pe(de)){for(te=N.length;te--;)if(de>=P(N[te].options.index,N[te]._i)){N.splice(te+1,0,this);break}-1===te&&N.unshift(this),te+=1}else N.push(this);return P(te,N.length-1)},Te.prototype.bindAxes=function(){var be,N=this,de=N.options,te=N.chart;H(this,"bindAxes",null,function(){(N.axisTypes||[]).forEach(function(Ce){var Le=0;te[Ce].forEach(function(Oe){be=Oe.options,(de[Ce]===Le&&!be.isInternal||void 0!==de[Ce]&&de[Ce]===be.id||void 0===de[Ce]&&0===be.index)&&(N.insert(Oe.series),N[Ce]=Oe,Oe.isDirty=!0),be.isInternal||Le++}),N[Ce]||N.optionalAxis===Ce||U(18,!0,te)})}),H(this,"afterBindAxes")},Te.prototype.updateParallelArrays=function(N,de){var te=N.series,be=arguments,Ce=pe(de)?function(Le){var Oe="y"===Le&&te.toYData?te.toYData(N):N[Le];te[Le+"Data"][de]=Oe}:function(Le){Array.prototype[de].apply(te[Le+"Data"],Array.prototype.slice.call(be,2))};te.parallelArrays.forEach(Ce)},Te.prototype.hasData=function(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&0<this.yData.length},Te.prototype.autoIncrement=function(N){var Oe,de=this.options,te=de.pointIntervalUnit,be=de.relativeXValue,Ce=this.chart.time,Le=this.xIncrement;return Le=P(Le,de.pointStart,0),this.pointInterval=Oe=P(this.pointInterval,de.pointInterval,1),be&&pe(N)&&(Oe*=N),te&&(de=new Ce.Date(Le),"day"===te?Ce.set("Date",de,Ce.get("Date",de)+Oe):"month"===te?Ce.set("Month",de,Ce.get("Month",de)+Oe):"year"===te&&Ce.set("FullYear",de,Ce.get("FullYear",de)+Oe),Oe=de.getTime()-Le),be&&pe(N)?Le+Oe:(this.xIncrement=Le+Oe,Le)},Te.prototype.setDataSortingOptions=function(){var N=this.options;j(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),k(N.pointRange)||(N.pointRange=1)},Te.prototype.setOptions=function(N){var de=this.chart,te=de.options,be=te.plotOptions,Ce=de.userOptions||{};N=Ae(N),de=de.styledMode;var Le={plotOptions:be,userOptions:N};H(this,"setOptions",Le);var Oe=Le.plotOptions[this.type],ze=Ce.plotOptions||{};return this.userOptions=Le.userOptions,Ce=Ae(Oe,be.series,Ce.plotOptions&&Ce.plotOptions[this.type],N),this.tooltipOptions=Ae(I.tooltip,I.plotOptions.series&&I.plotOptions.series.tooltip,I.plotOptions[this.type].tooltip,te.tooltip.userOptions,be.series&&be.series.tooltip,be[this.type].tooltip,N.tooltip),this.stickyTracking=P(N.stickyTracking,ze[this.type]&&ze[this.type].stickyTracking,ze.series&&ze.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||Ce.stickyTracking),null===Oe.marker&&delete Ce.marker,this.zoneAxis=Ce.zoneAxis,be=this.zones=(Ce.zones||[]).slice(),!Ce.negativeColor&&!Ce.negativeFillColor||Ce.zones||(te={value:Ce[this.zoneAxis+"Threshold"]||Ce.threshold||0,className:"highcharts-negative"},de||(te.color=Ce.negativeColor,te.fillColor=Ce.negativeFillColor),be.push(te)),be.length&&k(be[be.length-1].value)&&be.push(de?{}:{color:this.color,fillColor:this.fillColor}),H(this,"afterSetOptions",{options:Ce}),Ce},Te.prototype.getName=function(){return P(this.options.name,"Series "+(this.index+1))},Te.prototype.getCyclic=function(N,de,te){var be=this.chart,Ce=this.userOptions,Le=N+"Index",Oe=N+"Counter",ze=te?te.length:P(be.options.chart[N+"Count"],be[N+"Count"]);if(!de){var Ne=P(Ce[Le],Ce["_"+Le]);k(Ne)||(be.series.length||(be[Oe]=0),Ce["_"+Le]=Ne=be[Oe]%ze,be[Oe]+=1),te&&(de=te[Ne])}void 0!==Ne&&(this[Le]=Ne),this[N]=de},Te.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||I.plotOptions[this.type].color,this.chart.options.colors)},Te.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]},Te.prototype.getSymbol=function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},Te.prototype.findPointIndex=function(N,de){var Oe,ze,te=N.id,be=N.x,Ce=this.points,Le=this.options.dataSorting;if(te)(Le=this.chart.get(te))instanceof ie&&(Oe=Le);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(Oe=function(it){return!it.touched&&it.index===N.index},Le&&Le.matchByName?Oe=function(it){return!it.touched&&it.name===N.name}:this.options.relativeXValue&&(Oe=function(it){return!it.touched&&it.options.x===N.x}),!(Oe=S(Ce,Oe))))return;if(Oe){var Ne=Oe&&Oe.index;void 0!==Ne&&(ze=!0)}return void 0===Ne&&pe(be)&&(Ne=this.xData.indexOf(be,de)),-1!==Ne&&void 0!==Ne&&this.cropped&&(Ne=Ne>=this.cropStart?Ne-this.cropStart:Ne),!ze&&pe(Ne)&&Ce[Ne]&&Ce[Ne].touched&&(Ne=void 0),Ne},Te.prototype.updateData=function(N,de){var Ne,it,lt,te=this.options,be=te.dataSorting,Ce=this.points,Le=[],Oe=this.requireSorting,ze=N.length===Ce.length,st=!0;if(this.xIncrement=null,N.forEach(function(Ke,Be){var fe=k(Ke)&&this.pointClass.prototype.optionsToObject.call({series:this},Ke)||{};fe.id||pe(fe.x)?(-1===(fe=this.findPointIndex(fe,lt))||void 0===fe?Le.push(Ke):Ce[fe]&&Ke!==te.data[fe]?(Ce[fe].update(Ke,!1,null,!1),Ce[fe].touched=!0,Oe&&(lt=fe+1)):Ce[fe]&&(Ce[fe].touched=!0),(!ze||Be!==fe||be&&be.enabled||this.hasDerivedData)&&(Ne=!0)):Le.push(Ke)},this),Ne)for(N=Ce.length;N--;)(it=Ce[N])&&!it.touched&&it.remove&&it.remove(!1,de);else!ze||be&&be.enabled?st=!1:(N.forEach(function(Ke,Be){Ke!==Ce[Be].y&&Ce[Be].update&&Ce[Be].update(Ke,!1,null,!1)}),Le.length=0);return Ce.forEach(function(Ke){Ke&&(Ke.touched=!1)}),!!st&&(Le.forEach(function(Ke){this.addPoint(Ke,!1,null,null,!1)},this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=se(this.xData),this.autoIncrement()),!0)},Te.prototype.setData=function(N,de,te,be){var Ce=this,Le=Ce.points,Oe=Le&&Le.length||0,ze=Ce.options,Ne=Ce.chart,it=ze.dataSorting,lt=Ce.xAxis,st=ze.turboThreshold,Ke=this.xData,Be=this.yData,fe=Ce.pointArrayMap;fe=fe&&fe.length;var Ve,Ie=ze.keys,Ze=0,je=1,et=null,mt=(N=N||[]).length;if(de=P(de,!0),it&&it.enabled&&(N=this.sortData(N)),!1!==be&&mt&&Oe&&!Ce.cropped&&!Ce.hasGroupedData&&Ce.visible&&!Ce.isSeriesBoosting&&(Ve=this.updateData(N,te)),!Ve){if(Ce.xIncrement=null,Ce.colorCounter=0,this.parallelArrays.forEach(function(It){Ce[It+"Data"].length=0}),st&&mt>st)if(et=Ce.getFirstValidPoint(N),pe(et))for(te=0;te<mt;te++)Ke[te]=this.autoIncrement(),Be[te]=N[te];else if(ve(et))if(fe)if(et.length===fe)for(te=0;te<mt;te++)Ke[te]=this.autoIncrement(),Be[te]=N[te];else for(te=0;te<mt;te++)Ke[te]=(be=N[te])[0],Be[te]=be.slice(1,fe+1);else if(Ie&&(Ze=0<=(Ze=Ie.indexOf("x"))?Ze:0,je=0<=(je=Ie.indexOf("y"))?je:1),1===et.length&&(je=0),Ze===je)for(te=0;te<mt;te++)Ke[te]=this.autoIncrement(),Be[te]=N[te][je];else for(te=0;te<mt;te++)Ke[te]=(be=N[te])[Ze],Be[te]=be[je];else U(12,!1,Ne);else for(te=0;te<mt;te++)void 0!==N[te]&&(Ce.pointClass.prototype.applyOptions.apply(be={series:Ce},[N[te]]),Ce.updateParallelArrays(be,te));for(Be&&Z(Be[0])&&U(14,!0,Ne),Ce.data=[],Ce.options.data=Ce.userOptions.data=N,te=Oe;te--;)Le[te]&&Le[te].destroy&&Le[te].destroy();lt&&(lt.minRange=lt.userMinRange),Ce.isDirty=Ne.isDirtyBox=!0,Ce.isDirtyData=!!Le,te=!1}"point"===ze.legendType&&(this.processData(),this.generatePoints()),de&&Ne.redraw(te)},Te.prototype.sortData=function(N){var de=this,te=de.options.dataSorting.sortKey||"y",be=function(Ce,Le){return k(Le)&&Ce.pointClass.prototype.optionsToObject.call({series:Ce},Le)||{}};return N.forEach(function(Ce,Le){N[Le]=be(de,Ce),N[Le].index=Le},this),N.concat().sort(function(Ce,Le){return Ce=oe(te,Ce),(Le=oe(te,Le))<Ce?-1:Le>Ce?1:0}).forEach(function(Ce,Le){Ce.x=Le},this),de.linkedSeries&&de.linkedSeries.forEach(function(Ce){var Le=Ce.options,Oe=Le.data;Le.dataSorting&&Le.dataSorting.enabled||!Oe||(Oe.forEach(function(ze,Ne){Oe[Ne]=be(Ce,ze),N[Ne]&&(Oe[Ne].x=N[Ne].x,Oe[Ne].index=Ne)}),Ce.setData(Oe,!1))}),N},Te.prototype.getProcessedData=function(N){var de=this.xAxis,te=this.options,be=te.cropThreshold,Ce=N||this.getExtremesFromAll||te.getExtremesFromAll,Le=this.isCartesian;N=de&&de.val2lin,te=!(!de||!de.logarithmic);var Oe=0,ze=this.xData,Ne=this.yData,it=this.requireSorting,lt=!1,st=ze.length;if(de){var Ke=(lt=de.getExtremes()).min,Be=lt.max;lt=de.categories&&!de.names.length}if(Le&&this.sorted&&!Ce&&(!be||st>be||this.forceCrop))if(ze[st-1]<Ke||ze[0]>Be)ze=[],Ne=[];else if(this.yData&&(ze[0]<Ke||ze[st-1]>Be)){var fe=this.cropData(this.xData,this.yData,Ke,Be);ze=fe.xData,Ne=fe.yData,Oe=fe.start,fe=!0}for(be=ze.length||1;--be;)if(0<(de=te?N(ze[be])-N(ze[be-1]):ze[be]-ze[be-1])&&(void 0===Ie||de<Ie))var Ie=de;else 0>de&&it&&!lt&&(U(15,!1,this.chart),it=!1);return{xData:ze,yData:Ne,cropped:fe,cropStart:Oe,closestPointRange:Ie}},Te.prototype.processData=function(N){if(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!N)return!1;N=this.getProcessedData(),this.cropped=N.cropped,this.cropStart=N.cropStart,this.processedXData=N.xData,this.processedYData=N.yData,this.closestPointRange=this.basePointRange=N.closestPointRange,H(this,"afterProcessData")},Te.prototype.cropData=function(N,de,te,be,Ce){var Oe,Le=N.length,ze=0,Ne=Le;for(Ce=P(Ce,this.cropShoulder),Oe=0;Oe<Le;Oe++)if(N[Oe]>=te){ze=Math.max(0,Oe-Ce);break}for(te=Oe;te<Le;te++)if(N[te]>be){Ne=te+Ce;break}return{xData:N.slice(ze,Ne),yData:de.slice(ze,Ne),start:ze,end:Ne}},Te.prototype.generatePoints=function(){var N=this.options,de=N.data,te=this.processedXData,be=this.processedYData,Ce=this.pointClass,Le=te.length,Oe=this.cropStart||0,ze=this.hasGroupedData,Ne=N.keys,it=[];N=N.dataGrouping&&N.dataGrouping.groupAll?Oe:0;var lt,st,Ke=this.data;if(!Ke&&!ze){var Be=[];Be.length=de.length,Ke=this.data=Be}for(Ne&&ze&&(this.options.keys=!1),st=0;st<Le;st++){if(Be=Oe+st,ze){var fe=(new Ce).init(this,[te[st]].concat(_e(be[st])));fe.dataGroup=this.groupMap[N+st],fe.dataGroup.options&&(fe.options=fe.dataGroup.options,j(fe,fe.dataGroup.options),delete fe.dataLabels)}else(fe=Ke[Be])||void 0===de[Be]||(Ke[Be]=fe=(new Ce).init(this,de[Be],te[st]));fe&&(fe.index=ze?N+st:Be,it[st]=fe)}if(this.options.keys=Ne,Ke&&(Le!==(lt=Ke.length)||ze))for(st=0;st<lt;st++)st!==Oe||ze||(st+=Le),Ke[st]&&(Ke[st].destroyElements(),Ke[st].plotX=void 0);this.data=Ke,this.points=it,H(this,"afterGeneratePoints")},Te.prototype.getXExtremes=function(N){return{min:ee(N),max:se(N)}},Te.prototype.getExtremes=function(N,de){var te=this.xAxis,be=this.yAxis,Ce=this.processedXData||this.xData,Le=[],Oe=this.requireSorting?this.cropShoulder:0;be=!!be&&be.positiveValuesOnly;var ze,Ne=0,it=0,lt=0,st=(N=N||this.stackedYData||this.processedYData||[]).length;if(te){var Ke=te.getExtremes();Ne=Ke.min,it=Ke.max}for(ze=0;ze<st;ze++){var Be=Ce[ze],fe=(pe(Ke=N[ze])||ve(Ke))&&(Ke.length||0<Ke||!be);if(Be=de||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!te||(Ce[ze+Oe]||Be)>=Ne&&(Ce[ze-Oe]||Be)<=it,fe&&Be)if(fe=Ke.length)for(;fe--;)pe(Ke[fe])&&(Le[lt++]=Ke[fe]);else Le[lt++]=Ke}return N={activeYData:Le,dataMin:ee(Le),dataMax:se(Le)},H(this,"afterGetExtremes",{dataExtremes:N}),N},Te.prototype.applyExtremes=function(){var N=this.getExtremes();return this.dataMin=N.dataMin,this.dataMax=N.dataMax,N},Te.prototype.getFirstValidPoint=function(N){for(var de=N.length,te=0,be=null;null===be&&te<de;)be=N[te],te++;return be},Te.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints();var Be,fe,N=this.options,de=N.stacking,te=this.xAxis,be=te.categories,Ce=this.enabledDataSorting,Le=this.yAxis,Oe=this.points,ze=Oe.length,Ne=this.pointPlacementToXValue(),it=!!Ne,lt=N.threshold,st=N.startFromThreshold?lt:0,Ke=this.zoneAxis||"y",Ie=Number.MAX_VALUE;for(Be=0;Be<ze;Be++){var Ve=Oe[Be],Ze=Ve.x,je=void 0,et=void 0,mt=Ve.y,It=Ve.low,Lt=de&&Le.stacking&&Le.stacking.stacks[(this.negStacks&&mt<(st?0:lt)?"-":"")+this.stackKey];if((Le.positiveValuesOnly&&!Le.validatePositiveValue(mt)||te.positiveValuesOnly&&!te.validatePositiveValue(Ze))&&(Ve.isNull=!0),Ve.plotX=fe=w(O(te.translate(Ze,0,0,0,1,Ne,"flags"===this.type),-1e5,1e5)),de&&this.visible&&Lt&&Lt[Ze]){var Et=this.getStackIndicator(Et,Ze,this.index);Ve.isNull||(et=(je=Lt[Ze]).points[Et.key])}if(ve(et)&&(mt=et[1],(It=et[0])===st&&Et.key===Lt[Ze].base&&(It=P(pe(lt)&&lt,Le.min)),Le.positiveValuesOnly&&0>=It&&(It=null),Ve.total=Ve.stackTotal=je.total,Ve.percentage=je.total&&Ve.y/je.total*100,Ve.stackY=mt,this.irregularWidths||je.setOffset(this.pointXOffset||0,this.barW||0)),Ve.yBottom=k(It)?O(Le.translate(It,0,1,0,1),-1e5,1e5):null,this.dataModify&&(mt=this.dataModify.modifyValue(mt,Be)),Ve.plotY=void 0,pe(mt)&&void 0!==(je=Le.translate(mt,!1,!0,!1,!0))&&(Ve.plotY=O(je,-1e5,1e5)),Ve.isInside=this.isPointInside(Ve),Ve.clientX=it?w(te.translate(Ze,0,0,0,1,Ne)):fe,Ve.negative=Ve[Ke]<(N[Ke+"Threshold"]||lt||0),Ve.category=be&&void 0!==be[Ve.x]?be[Ve.x]:Ve.x,!Ve.isNull&&!1!==Ve.visible){void 0!==At&&(Ie=Math.min(Ie,Math.abs(fe-At)));var At=fe}Ve.zone=this.zones.length?Ve.getZone():void 0,!Ve.graphic&&this.group&&Ce&&(Ve.isNew=!0)}this.closestPointRangePx=Ie,H(this,"afterTranslate")},Te.prototype.getValidPoints=function(N,de,te){var be=this.chart;return(N||this.points||[]).filter(function(Ce){return!(de&&!be.isInsidePlot(Ce.plotX,Ce.plotY,{inverted:be.inverted}))&&!1!==Ce.visible&&(te||!Ce.isNull)})},Te.prototype.getClipBox=function(){var N=this.chart,de=this.xAxis,te=this.yAxis,be=Ae(N.clipBox);return de&&de.len!==N.plotSizeX&&(be.width=de.len),te&&te.len!==N.plotSizeY&&(be.height=te.len),be},Te.prototype.getSharedClipKey=function(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)},Te.prototype.setClip=function(){var N=this.chart,de=this.group,te=this.markerGroup,be=N.sharedClips;N=N.renderer;var Ce=this.getClipBox(),Le=this.getSharedClipKey(),Oe=be[Le];Oe?Oe.animate(Ce):be[Le]=Oe=N.clipRect(Ce),de&&de.clip(!1===this.options.clip?void 0:Oe),te&&te.clip()},Te.prototype.animate=function(N){var de=this.chart,te=this.group,be=this.markerGroup,Ce=de.inverted,Le=q(this.options.animation),Oe=[this.getSharedClipKey(),Le.duration,Le.easing,Le.defer].join(),ze=de.sharedClips[Oe],Ne=de.sharedClips[Oe+"m"];if(N&&te)Le=this.getClipBox(),ze?ze.attr("height",Le.height):(Le.width=0,Ce&&(Le.x=de.plotHeight),ze=de.renderer.clipRect(Le),de.sharedClips[Oe]=ze,Ne=de.renderer.clipRect({x:Ce?(de.plotSizeX||0)+99:-99,y:Ce?-de.plotLeft:-de.plotTop,width:99,height:Ce?de.chartWidth:de.chartHeight}),de.sharedClips[Oe+"m"]=Ne),te.clip(ze),be&&be.clip(Ne);else if(ze&&!ze.hasClass("highcharts-animating")){de=this.getClipBox();var it=Le.step;be&&be.element.childNodes.length&&(Le.step=function(lt,st){it&&it.apply(st,arguments),Ne&&Ne.element&&Ne.attr(st.prop,"width"===st.prop?lt+99:lt)}),ze.addClass("highcharts-animating").animate(de,Le)}},Te.prototype.afterAnimate=function(){var N=this;this.setClip(),D(this.chart.sharedClips,function(de,te,be){de&&!N.chart.container.querySelector('[clip-path="url(#'+de.id+')"]')&&(de.destroy(),delete be[te])}),this.finishedAnimating=!0,H(this,"afterAnimate")},Te.prototype.drawPoints=function(){var Oe,ze,N=this.points,de=this.chart,te=this.options.marker,be=this[this.specialGroup]||this.markerGroup,Ce=this.xAxis,Le=P(te.enabled,!(Ce&&!Ce.isRadial)||null,this.closestPointRangePx>=te.enabledThreshold*te.radius);if(!1!==te.enabled||this._hasPointMarkers)for(Oe=0;Oe<N.length;Oe++){var Ne=N[Oe],it=(ze=Ne.graphic)?"animate":"attr",lt=Ne.marker||{},st=!!Ne.marker;if((Le&&void 0===lt.enabled||lt.enabled)&&!Ne.isNull&&!1!==Ne.visible){var Ke=P(lt.symbol,this.symbol,"rect"),Be=this.markerAttribs(Ne,Ne.selected&&"select");this.enabledDataSorting&&(Ne.startXPos=Ce.reversed?-(Be.width||0):Ce.width);var fe=!1!==Ne.isInside;ze?ze[fe?"show":"hide"](fe).animate(Be):fe&&(0<(Be.width||0)||Ne.hasImage)&&(Ne.graphic=ze=de.renderer.symbol(Ke,Be.x,Be.y,Be.width,Be.height,st?lt:te).add(be),this.enabledDataSorting&&de.hasRendered&&(ze.attr({x:Ne.startXPos}),it="animate")),ze&&"animate"===it&&ze[fe?"show":"hide"](fe).animate(Be),ze&&!de.styledMode&&ze[it](this.pointAttribs(Ne,Ne.selected&&"select")),ze&&ze.addClass(Ne.getClassName(),!0)}else ze&&(Ne.graphic=ze.destroy())}},Te.prototype.markerAttribs=function(N,de){var te=this.options,be=te.marker,Ce=N.marker||{},Le=Ce.symbol||be.symbol,Oe=P(Ce.radius,be.radius);return de&&(be=be.states[de],Oe=P((de=Ce.states&&Ce.states[de])&&de.radius,be&&be.radius,Oe+(be&&be.radiusPlus||0))),N.hasImage=Le&&0===Le.indexOf("url"),N.hasImage&&(Oe=0),N={x:te.crisp?Math.floor(N.plotX-Oe):N.plotX-Oe,y:N.plotY-Oe},Oe&&(N.width=N.height=2*Oe),N},Te.prototype.pointAttribs=function(N,de){var te=this.options.marker,be=N&&N.options,Ce=be&&be.marker||{},Le=be&&be.color,Oe=N&&N.color,ze=N&&N.zone&&N.zone.color,Ne=this.color;return N=P(Ce.lineWidth,te.lineWidth),be=1,Ne=Le||ze||Oe||Ne,Le=Ce.fillColor||te.fillColor||Ne,Oe=Ce.lineColor||te.lineColor||Ne,te=te.states[de=de||"normal"]||{},N=P((de=Ce.states&&Ce.states[de]||{}).lineWidth,te.lineWidth,N+P(de.lineWidthPlus,te.lineWidthPlus,0)),{stroke:Oe=de.lineColor||te.lineColor||Oe,"stroke-width":N,fill:Le=de.fillColor||te.fillColor||Le,opacity:be=P(de.opacity,te.opacity,be)}},Te.prototype.destroy=function(N){var Oe,ze,Ne,de=this,te=de.chart,be=/AppleWebKit\/533/.test(L.navigator.userAgent),Ce=de.data||[];for(H(de,"destroy"),this.removeEvents(N),(de.axisTypes||[]).forEach(function(it){(Ne=de[it])&&Ne.series&&(C(Ne.series,de),Ne.isDirty=Ne.forceRedraw=!0)}),de.legendItem&&de.chart.legend.destroyItem(de),Oe=Ce.length;Oe--;)(ze=Ce[Oe])&&ze.destroy&&ze.destroy();de.clips&&de.clips.forEach(function(it){return it.destroy()}),W.clearTimeout(de.animationTimeout),D(de,function(it,lt){it instanceof Q&&!it.survive&&it[be&&"group"===lt?"hide":"destroy"]()}),te.hoverSeries===de&&(te.hoverSeries=void 0),C(te.series,de),te.orderSeries(),D(de,function(it,lt){N&&"hcEvents"===lt||delete de[lt]})},Te.prototype.applyZones=function(){var lt,st,Ke,Be,fe,Ie,Ve,Ze,N=this,de=this.chart,te=de.renderer,be=this.zones,Ce=this.clips||[],Le=this.graph,Oe=this.area,ze=Math.max(de.chartWidth,de.chartHeight),Ne=this[(this.zoneAxis||"y")+"Axis"],it=de.inverted,je=!1;if(be.length&&(Le||Oe)&&Ne&&void 0!==Ne.min){var et=Ne.reversed,mt=Ne.horiz;Le&&!this.showLine&&Le.hide(),Oe&&Oe.hide();var It=Ne.getExtremes();be.forEach(function(Lt,Et){lt=et?mt?de.plotWidth:0:mt?0:Ne.toPixels(It.min)||0,lt=O(P(st,lt),0,ze),st=O(Math.round(Ne.toPixels(P(Lt.value,It.max),!0)||0),0,ze),je&&(lt=st=Ne.toPixels(It.max)),Be=Math.abs(lt-st),fe=Math.min(lt,st),Ie=Math.max(lt,st),Ne.isXAxis?(Ke={x:it?Ie:fe,y:0,width:Be,height:ze},mt||(Ke.x=de.plotHeight-Ke.x)):(Ke={x:0,y:it?Ie:fe,width:ze,height:Be},mt&&(Ke.y=de.plotWidth-Ke.y)),it&&te.isVML&&(Ke=Ne.isXAxis?{x:0,y:et?fe:Ie,height:Ke.width,width:de.chartWidth}:{x:Ke.y-de.plotLeft-de.spacingBox.x,y:0,width:Ke.height,height:de.chartHeight}),Ce[Et]?Ce[Et].animate(Ke):Ce[Et]=te.clipRect(Ke),Ve=N["zone-area-"+Et],Ze=N["zone-graph-"+Et],Le&&Ze&&Ze.clip(Ce[Et]),Oe&&Ve&&Ve.clip(Ce[Et]),je=Lt.value>It.max,N.resetZones&&0===st&&(st=void 0)}),this.clips=Ce}else N.visible&&(Le&&Le.show(!0),Oe&&Oe.show(!0))},Te.prototype.invertGroups=function(N){function de(){["group","markerGroup"].forEach(function(Ce){te[Ce]&&(be.renderer.isVML&&te[Ce].attr({width:te.yAxis.len,height:te.xAxis.len}),te[Ce].width=te.yAxis.len,te[Ce].height=te.xAxis.len,te[Ce].invert(!te.isRadialSeries&&N))})}var te=this,be=te.chart;te.xAxis&&(te.eventsToUnbind.push(Y(be,"resize",de)),de(),te.invertGroups=de)},Te.prototype.plotGroup=function(N,de,te,be,Ce){var Le=this[N],Oe=!Le;return te={visibility:te,zIndex:be||.1},void 0===this.opacity||this.chart.styledMode||"inactive"===this.state||(te.opacity=this.opacity),Oe&&(this[N]=Le=this.chart.renderer.g().add(Ce)),Le.addClass("highcharts-"+de+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(k(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(Le.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),Le.attr(te)[Oe?"attr":"animate"](this.getPlotBox()),Le},Te.prototype.getPlotBox=function(){var N=this.chart,de=this.xAxis,te=this.yAxis;return N.inverted&&(de=te,te=this.xAxis),{translateX:de?de.left:N.plotLeft,translateY:te?te.top:N.plotTop,scaleX:1,scaleY:1}},Te.prototype.removeEvents=function(N){N||X(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(de){de()}),this.eventsToUnbind.length=0)},Te.prototype.render=function(){var N=this,de=N.chart,te=N.options,be=q(te.animation),Ce=N.visible?"inherit":"hidden",Le=te.zIndex,Oe=N.hasRendered,ze=de.seriesGroup,Ne=de.inverted;de=!N.finishedAnimating&&de.renderer.isSVG?be.duration:0,H(this,"render");var it=N.plotGroup("group","series",Ce,Le,ze);N.markerGroup=N.plotGroup("markerGroup","markers",Ce,Le,ze),!1!==te.clip&&N.setClip(),N.animate&&de&&N.animate(!0),it.inverted=!!P(N.invertible,N.isCartesian)&&Ne,N.drawGraph&&(N.drawGraph(),N.applyZones()),N.visible&&N.drawPoints(),N.drawDataLabels&&N.drawDataLabels(),N.redrawPoints&&N.redrawPoints(),N.drawTracker&&!1!==N.options.enableMouseTracking&&N.drawTracker(),N.invertGroups(Ne),N.animate&&de&&N.animate(),Oe||(de&&be.defer&&(de+=be.defer),N.animationTimeout=ye(function(){N.afterAnimate()},de||0)),N.isDirty=!1,N.hasRendered=!0,H(N,"afterRender")},Te.prototype.redraw=function(){var N=this.chart,de=this.isDirty||this.isDirtyData,te=this.group,be=this.xAxis,Ce=this.yAxis;te&&(N.inverted&&te.attr({width:N.plotWidth,height:N.plotHeight}),te.animate({translateX:P(be&&be.left,N.plotLeft),translateY:P(Ce&&Ce.top,N.plotTop)})),this.translate(),this.render(),de&&delete this.kdTree},Te.prototype.searchPoint=function(N,de){var te=this.xAxis,be=this.yAxis,Ce=this.chart.inverted;return this.searchKDTree({clientX:Ce?te.len-N.chartY+te.pos:N.chartX-te.pos,plotY:Ce?be.len-N.chartX+be.pos:N.chartY-be.pos},de,N)},Te.prototype.buildKDTree=function(N){function de(Ce,Le,Oe){var ze=Ce&&Ce.length;if(ze){var Ne=te.kdAxisArray[Le%Oe];return Ce.sort(function(it,lt){return it[Ne]-lt[Ne]}),{point:Ce[ze=Math.floor(ze/2)],left:de(Ce.slice(0,ze),Le+1,Oe),right:de(Ce.slice(ze+1),Le+1,Oe)}}}this.buildingKdTree=!0;var te=this,be=-1<te.options.findNearestPointBy.indexOf("y")?2:1;delete te.kdTree,ye(function(){te.kdTree=de(te.getValidPoints(null,!te.directTouch),be,be),te.buildingKdTree=!1},te.options.kdNow||N&&"touchstart"===N.type?0:1)},Te.prototype.searchKDTree=function(N,de,te){var Ce=this,Le=this.kdAxisArray[0],Oe=this.kdAxisArray[1],ze=de?"distX":"dist";if(de=-1<Ce.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(te),this.kdTree)return function be(Ne,it,lt,st){var Ke=it.point,Be=Ce.kdAxisArray[lt%st],fe=Ke,Ie=k(Ne[Le])&&k(Ke[Le])?Math.pow(Ne[Le]-Ke[Le],2):null,Ve=k(Ne[Oe])&&k(Ke[Oe])?Math.pow(Ne[Oe]-Ke[Oe],2):null;return Ke.dist=k(Ve=(Ie||0)+(Ve||0))?Math.sqrt(Ve):Number.MAX_VALUE,Ke.distX=k(Ie)?Math.sqrt(Ie):Number.MAX_VALUE,Ie=0>(Be=Ne[Be]-Ke[Be])?"right":"left",it[Ve=0>Be?"left":"right"]&&(fe=(Ve=be(Ne,it[Ve],lt+1,st))[ze]<fe[ze]?Ve:Ke),it[Ie]&&Math.sqrt(Be*Be)<fe[ze]&&(fe=(Ne=be(Ne,it[Ie],lt+1,st))[ze]<fe[ze]?Ne:fe),fe}(N,this.kdTree,de,de)},Te.prototype.pointPlacementToXValue=function(){var N=this.options,de=N.pointRange,te=this.xAxis;return"between"===(N=N.pointPlacement)&&(N=te.reversed?-.5:.5),pe(N)?N*(de||te.pointRange):0},Te.prototype.isPointInside=function(N){var de=this.chart,te=this.xAxis,be=this.yAxis;return void 0!==N.plotY&&void 0!==N.plotX&&0<=N.plotY&&N.plotY<=(be?be.len:de.plotHeight)&&0<=N.plotX&&N.plotX<=(te?te.len:de.plotWidth)},Te.prototype.drawTracker=function(){var N=this,de=N.options,te=de.trackByArea,be=[].concat(te?N.areaPath:N.graphPath),Ce=N.chart,Le=Ce.pointer,Oe=Ce.renderer,ze=Ce.options.tooltip.snap,Ne=N.tracker,it=function(st){Ce.hoverSeries!==N&&N.onMouseOver()},lt="rgba(192,192,192,"+($?1e-4:.002)+")";Ne?Ne.attr({d:be}):N.graph&&(N.tracker=Oe.path(be).attr({visibility:N.visible?"visible":"hidden",zIndex:2}).addClass(te?"highcharts-tracker-area":"highcharts-tracker-line").add(N.group),Ce.styledMode||N.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:lt,fill:te?lt:"none","stroke-width":N.graph.strokeWidth()+(te?0:2*ze)}),[N.tracker,N.markerGroup,N.dataLabelsGroup].forEach(function(st){st&&(st.addClass("highcharts-tracker").on("mouseover",it).on("mouseout",function(Ke){Le.onTrackerMouseOut(Ke)}),de.cursor&&!Ce.styledMode&&st.css({cursor:de.cursor}),V)&&st.on("touchstart",it)})),H(this,"afterDrawTracker")},Te.prototype.addPoint=function(N,de,te,be,Ce){var Le=this.options,Oe=this.data,ze=this.chart,Ne=this.xAxis;Ne=Ne&&Ne.hasNames&&Ne.names;var st,it=Le.data,lt=this.xData;de=P(de,!0);var Ke={series:this};this.pointClass.prototype.applyOptions.apply(Ke,[N]);var Be=Ke.x,fe=lt.length;if(this.requireSorting&&Be<lt[fe-1])for(st=!0;fe&&lt[fe-1]>Be;)fe--;this.updateParallelArrays(Ke,"splice",fe,0,0),this.updateParallelArrays(Ke,fe),Ne&&Ke.name&&(Ne[Be]=Ke.name),it.splice(fe,0,N),st&&(this.data.splice(fe,0,null),this.processData()),"point"===Le.legendType&&this.generatePoints(),te&&(Oe[0]&&Oe[0].remove?Oe[0].remove(!1):(Oe.shift(),this.updateParallelArrays(Ke,"shift"),it.shift())),!1!==Ce&&H(this,"addPoint",{point:Ke}),this.isDirtyData=this.isDirty=!0,de&&ze.redraw(be)},Te.prototype.removePoint=function(N,de,te){var be=this,Ce=be.data,Le=Ce[N],Oe=be.points,ze=be.chart,Ne=function(){Oe&&Oe.length===Ce.length&&Oe.splice(N,1),Ce.splice(N,1),be.options.data.splice(N,1),be.updateParallelArrays(Le||{series:be},"splice",N,1),Le&&Le.destroy(),be.isDirty=!0,be.isDirtyData=!0,de&&ze.redraw()};M(te,ze),de=P(de,!0),Le?Le.firePointEvent("remove",null,Ne):Ne()},Te.prototype.remove=function(N,de,te,be){function Ce(){Le.destroy(be),Oe.isDirtyLegend=Oe.isDirtyBox=!0,Oe.linkSeries(),P(N,!0)&&Oe.redraw(de)}var Le=this,Oe=Le.chart;!1!==te?H(Le,"remove",null,Ce):Ce()},Te.prototype.update=function(N,de){N=T(N,this.userOptions),H(this,"update",{options:N});var lt,te=this,be=te.chart,Ce=te.userOptions,Le=te.initialType||te.type,Oe=be.options.plotOptions,ze=J[Le].prototype,Ne=te.finishedAnimating&&{animation:!1},it={},st=["eventOptions","navigatorSeries","baseSeries"],Ke=N.type||Ce.type||be.options.chart.type,Be=!(this.hasDerivedData||Ke&&Ke!==this.type||void 0!==N.pointStart||void 0!==N.pointInterval||void 0!==N.relativeXValue||te.hasOptionChanged("dataGrouping")||te.hasOptionChanged("pointStart")||te.hasOptionChanged("pointInterval")||te.hasOptionChanged("pointIntervalUnit")||te.hasOptionChanged("keys"));if(Ke=Ke||Le,Be&&(st.push("data","isDirtyData","points","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","mapMap","mapData","minY","maxY","minX","maxX"),!1!==N.visible&&st.push("area","graph"),te.parallelArrays.forEach(function(Ie){st.push(Ie+"Data")}),N.data&&(N.dataSorting&&j(te.options.dataSorting,N.dataSorting),this.setData(N.data,!1))),N=Ae(Ce,Ne,{index:void 0===Ce.index?te.index:Ce.index,pointStart:P(Oe&&Oe.series&&Oe.series.pointStart,Ce.pointStart,te.xData[0])},!Be&&{data:te.options.data},N),Be&&N.data&&(N.data=te.options.data),(st=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(st)).forEach(function(Ie){st[Ie]=te[Ie],delete te[Ie]}),Oe=!1,J[Ke]){if(Oe=Ke!==te.type,te.remove(!1,!1,!1,!0),Oe)if(Object.setPrototypeOf)Object.setPrototypeOf(te,J[Ke].prototype);else{for(lt in Ne=Object.hasOwnProperty.call(te,"hcEvents")&&te.hcEvents,ze)te[lt]=void 0;j(te,J[Ke].prototype),Ne?te.hcEvents=Ne:delete te.hcEvents}}else U(17,!0,be,{missingModuleFor:Ke});if(st.forEach(function(Ie){te[Ie]=st[Ie]}),te.init(be,N),Be&&this.points){var fe=te.options;!1===fe.visible?(it.graphic=1,it.dataLabel=1):te._hasPointLabels||(ze=fe.dataLabels,!(N=fe.marker)||!1!==N.enabled&&(Ce.marker&&Ce.marker.symbol)===N.symbol||(it.graphic=1),ze&&!1===ze.enabled&&(it.dataLabel=1)),this.points.forEach(function(Ie){Ie&&Ie.series&&(Ie.resolveColor(),Object.keys(it).length&&Ie.destroyElements(it),!1===fe.showInLegend&&Ie.legendItem&&be.legend.destroyItem(Ie))},this)}te.initialType=Le,be.linkSeries(),Oe&&te.linkedSeries.length&&(te.isDirtyData=!0),H(this,"afterUpdate"),P(de,!0)&&be.redraw(!!Be&&void 0)},Te.prototype.setName=function(N){this.name=this.options.name=this.userOptions.name=N,this.chart.isDirtyLegend=!0},Te.prototype.hasOptionChanged=function(N){var de=this.options[N],te=this.chart.options.plotOptions,be=this.userOptions[N];return be?de!==be:de!==P(te&&te[this.type]&&te[this.type][N],te&&te.series&&te.series[N],de)},Te.prototype.onMouseOver=function(){var N=this.chart,de=N.hoverSeries;N.pointer.setHoverChartIndex(),de&&de!==this&&de.onMouseOut(),this.options.events.mouseOver&&H(this,"mouseOver"),this.setState("hover"),N.hoverSeries=this},Te.prototype.onMouseOut=function(){var N=this.options,de=this.chart,te=de.tooltip,be=de.hoverPoint;de.hoverSeries=null,be&&be.onMouseOut(),this&&N.events.mouseOut&&H(this,"mouseOut"),!te||this.stickyTracking||te.shared&&!this.noSharedTooltip||te.hide(),de.series.forEach(function(Ce){Ce.setState("",!0)})},Te.prototype.setState=function(N,de){var te=this,be=te.options,Ce=te.graph,Le=be.inactiveOtherPoints,Oe=be.states,ze=P(Oe[N||"normal"]&&Oe[N||"normal"].animation,te.chart.options.chart.animation),Ne=be.lineWidth,it=0,lt=be.opacity;if(te.state!==(N=N||"")&&([te.group,te.markerGroup,te.dataLabelsGroup].forEach(function(st){st&&(te.state&&st.removeClass("highcharts-series-"+te.state),N&&st.addClass("highcharts-series-"+N))}),te.state=N,!te.chart.styledMode)){if(Oe[N]&&!1===Oe[N].enabled)return;if(N&&(Ne=Oe[N].lineWidth||Ne+(Oe[N].lineWidthPlus||0),lt=P(Oe[N].opacity,lt)),Ce&&!Ce.dashstyle)for(Ce.animate(be={"stroke-width":Ne},ze);te["zone-graph-"+it];)te["zone-graph-"+it].animate(be,ze),it+=1;Le||[te.group,te.markerGroup,te.dataLabelsGroup,te.labelBySeries].forEach(function(st){st&&st.animate({opacity:lt},ze)})}de&&Le&&te.points&&te.setAllPointsToState(N||void 0)},Te.prototype.setAllPointsToState=function(N){this.points.forEach(function(de){de.setState&&de.setState(N)})},Te.prototype.setVisible=function(N,de){var te=this,be=te.chart,Ce=te.legendItem,Le=be.options.chart.ignoreHiddenSeries,ze=(te.visible=N=te.options.visible=te.userOptions.visible=void 0===N?!te.visible:N)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(Ne){te[Ne]&&te[Ne][ze]()}),(be.hoverSeries===te||(be.hoverPoint&&be.hoverPoint.series)===te)&&te.onMouseOut(),Ce&&be.legend.colorizeItem(te,N),te.isDirty=!0,te.options.stacking&&be.series.forEach(function(Ne){Ne.options.stacking&&Ne.visible&&(Ne.isDirty=!0)}),te.linkedSeries.forEach(function(Ne){Ne.setVisible(N,!1)}),Le&&(be.isDirtyBox=!0),H(te,ze),!1!==de&&be.redraw()},Te.prototype.show=function(){this.setVisible(!0)},Te.prototype.hide=function(){this.setVisible(!1)},Te.prototype.select=function(N){this.selected=N=this.options.selected=void 0===N?!this.selected:N,this.checkbox&&(this.checkbox.checked=N),H(this,N?"select":"unselect")},Te.prototype.shouldShowTooltip=function(N,de,te){return void 0===te&&(te={}),te.series=this,te.visiblePlotOnly=!0,this.chart.isInsidePlot(N,de,te)},Te.defaultOptions=re,Te}(),j(ae.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:he.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:ie,requireSorting:!0,sorted:!0}),B.series=ae,ae}),Se(me,"Extensions/ScrollablePlotArea.js",[me["Core/Animation/AnimationUtilities.js"],me["Core/Axis/Axis.js"],me["Core/Chart/Chart.js"],me["Core/Series/Series.js"],me["Core/Renderer/RendererRegistry.js"],me["Core/Utilities.js"]],function(ae,ce,ge,xe,he,ie){var re=ae.stop,B=ie.addEvent,Q=ie.createElement,W=ie.merge,q=ie.pick;B(ge,"afterSetChartSize",function(M){var I=this.options.chart.scrollablePlotArea,R=I&&I.minWidth;if(I=I&&I.minHeight,!this.renderer.forExport){if(R){if(this.scrollablePixelsX=R=Math.max(0,R-this.chartWidth)){this.scrollablePlotBox=this.renderer.scrollablePlotBox=W(this.plotBox),this.plotBox.width=this.plotWidth+=R,this.inverted?this.clipBox.height+=R:this.clipBox.width+=R;var V={1:{name:"right",value:R}}}}else I&&(this.scrollablePixelsY=R=Math.max(0,I-this.chartHeight))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=W(this.plotBox),this.plotBox.height=this.plotHeight+=R,this.inverted?this.clipBox.width+=R:this.clipBox.height+=R,V={2:{name:"bottom",value:R}});V&&!M.skipAxes&&this.axes.forEach(function($){V[$.side]?$.getPlotLinePath=function(){var L=V[$.side].name,J=this[L];this[L]=J-V[$.side].value;var Y=ce.prototype.getPlotLinePath.apply(this,arguments);return this[L]=J,Y}:($.setAxisSize(),$.setAxisTranslation())})}}),B(ge,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),ge.prototype.setUpScrolling=function(){var M=this,I={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(I.overflowX="auto"),this.scrollablePixelsY&&(I.overflowY="auto"),this.scrollingParent=Q("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=Q("div",{className:"highcharts-scrolling"},I,this.scrollingParent),B(this.scrollingContainer,"scroll",function(){M.pointer&&delete M.pointer.chartPosition}),this.innerContainer=Q("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},ge.prototype.moveFixedElements=function(){var V,M=this.container,I=this.fixedRenderer,R=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?V=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?V=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(V=".highcharts-yaxis"),V&&R.push(V+":not(.highcharts-radial-axis)",V+"-labels:not(.highcharts-radial-axis-labels)"),R.forEach(function($){[].forEach.call(M.querySelectorAll($),function(L){(L.namespaceURI===I.SVG_NS?I.box:I.box.parentNode).appendChild(L),L.style.pointerEvents="auto"})})},ge.prototype.applyFixed=function(){var M=!this.fixedDiv,I=this.options.chart,R=I.scrollablePlotArea,V=he.getRendererType();M?(this.fixedDiv=Q("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(I.style&&I.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=I=new V(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=I.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":q(R.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),B(this,"afterShowResetZoom",this.moveFixedElements),B(this,"afterDrilldown",this.moveFixedElements),B(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||M)&&(this.scrollableDirty=!1,this.moveFixedElements()),I=this.chartWidth+(this.scrollablePixelsX||0),V=this.chartHeight+(this.scrollablePixelsY||0),re(this.container),this.container.style.width=I+"px",this.container.style.height=V+"px",this.renderer.boxWrapper.attr({width:I,height:V,viewBox:[0,0,I,V].join(" ")}),this.chartBackground.attr({width:I,height:V}),this.scrollingContainer.style.height=this.chartHeight+"px",M&&(R.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*R.scrollPositionX),R.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*R.scrollPositionY)),M=this.plotTop-(V=this.axisOffset)[0]-1,R=this.plotLeft-V[3]-1,I=this.plotTop+this.plotHeight+V[2]+1,V=this.plotLeft+this.plotWidth+V[1]+1;var $=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),L=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);M=this.scrollablePixelsX?[["M",0,M],["L",this.plotLeft-1,M],["L",this.plotLeft-1,I],["L",0,I],["Z"],["M",$,M],["L",this.chartWidth,M],["L",this.chartWidth,I],["L",$,I],["Z"]]:this.scrollablePixelsY?[["M",R,0],["L",R,this.plotTop-1],["L",V,this.plotTop-1],["L",V,0],["Z"],["M",R,L],["L",R,this.chartHeight],["L",V,this.chartHeight],["L",V,L],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:M})},B(ce,"afterInit",function(){this.chart.scrollableDirty=!0}),B(xe,"show",function(){this.chart.scrollableDirty=!0})}),Se(me,"Core/Axis/StackingAxis.js",[me["Core/Animation/AnimationUtilities.js"],me["Core/Axis/Axis.js"],me["Core/Utilities.js"]],function(ae,ce,ge){var W,xe=ae.getDeferredAnimation,he=ge.addEvent,ie=ge.destroyObjectProperties,re=ge.fireEvent,B=ge.isNumber,Q=ge.objectEach;return function(q){function M(){var $=this.stacking;if($){var L=$.stacks;Q(L,function(J,Y){ie(J),L[Y]=null}),$&&$.stackTotalGroup&&$.stackTotalGroup.destroy()}}function I(){this.stacking||(this.stacking=new V(this))}var R=[];q.compose=function($){return-1===R.indexOf($)&&(R.push($),he($,"init",I),he($,"destroy",M)),$};var V=function(){function $(L){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=L}return $.prototype.buildStacks=function(){var ee,L=this.axis,J=L.series,Y=L.options.reversedStacks,se=J.length;if(!L.isXAxis){for(this.usePercentage=!1,ee=se;ee--;){var O=J[Y?ee:se-ee-1];O.setStackedPoints(),O.setGroupedPoints()}for(ee=0;ee<se;ee++)J[ee].modifyStacks();re(L,"afterBuildStacks")}},$.prototype.cleanStacks=function(){if(!this.axis.isXAxis){if(this.oldStacks)var L=this.stacks=this.oldStacks;Q(L,function(J){Q(J,function(Y){Y.cumulative=Y.total})})}},$.prototype.resetStacks=function(){var L=this;L.axis.isXAxis||Q(L.stacks,function(Y){Q(Y,function(se,ee){B(se.touched)&&se.touched<L.stacksTouched?(se.destroy(),delete Y[ee]):(se.total=null,se.cumulative=null)})})},$.prototype.renderStackTotals=function(){var L=this.axis,J=L.chart,Y=J.renderer,se=this.stacks;L=xe(J,L.options.stackLabels&&L.options.stackLabels.animation||!1);var ee=this.stackTotalGroup=this.stackTotalGroup||Y.g("stack-labels").attr({visibility:"visible",zIndex:6,opacity:0}).add();ee.translate(J.plotLeft,J.plotTop),Q(se,function(O){Q(O,function(T){T.render(ee)})}),ee.animate({opacity:1},L)},$}();q.Additions=V}(W||(W={})),W}),Se(me,"Extensions/Stacking.js",[me["Core/Axis/Axis.js"],me["Core/Chart/Chart.js"],me["Core/FormatUtilities.js"],me["Core/Globals.js"],me["Core/Series/Series.js"],me["Core/Axis/StackingAxis.js"],me["Core/Utilities.js"]],function(ae,ce,ge,xe,he,ie,re){var B=ge.format,Q=re.correctFloat,W=re.defined,q=re.destroyObjectProperties,M=re.isArray,I=re.isNumber,R=re.objectEach,V=re.pick,$=function(){function L(J,Y,se,ee,O){var T=J.chart.inverted;this.axis=J,this.isNegative=se,this.options=Y=Y||{},this.x=ee,this.total=null,this.points={},this.hasValidPoints=!1,this.stack=O,this.rightCliff=this.leftCliff=0,this.alignOptions={align:Y.align||(T?se?"left":"right":"center"),verticalAlign:Y.verticalAlign||(T?"middle":se?"bottom":"top"),y:Y.y,x:Y.x},this.textAlign=Y.textAlign||(T?se?"right":"left":"center")}return L.prototype.destroy=function(){q(this,this.axis)},L.prototype.render=function(J){var Y=this.axis.chart,se=this.options,ee=se.format;ee=ee?B(ee,this,Y):se.formatter.call(this),this.label?this.label.attr({text:ee,visibility:"hidden"}):(this.label=Y.renderer.label(ee,null,null,se.shape,null,null,se.useHTML,!1,"stack-labels"),ee={r:se.borderRadius||0,text:ee,rotation:se.rotation,padding:V(se.padding,5),visibility:"hidden"},Y.styledMode||(ee.fill=se.backgroundColor,ee.stroke=se.borderColor,ee["stroke-width"]=se.borderWidth,this.label.css(se.style)),this.label.attr(ee),this.label.added||this.label.add(J)),this.label.labelrank=Y.plotSizeY},L.prototype.setOffset=function(J,Y,se,ee,O){var T=this.axis,w=T.chart;ee=T.translate(T.stacking.usePercentage?100:ee||this.total,0,0,0,1),se=T.translate(se||0),se=W(ee)&&Math.abs(ee-se),J=V(O,w.xAxis[0].translate(this.x))+J,T=W(ee)&&this.getStackBox(w,this,J,ee,Y,se,T),Y=this.label,se=this.isNegative,J="justify"===V(this.options.overflow,"justify");var k=this.textAlign;Y&&T&&(O=Y.getBBox(),ee=Y.padding,k="left"===k?w.inverted?-ee:ee:"right"===k?O.width:w.inverted&&"center"===k?O.width/2:w.inverted?se?O.width+ee:-ee:O.width/2,se=w.inverted?O.height/2:se?-ee:O.height,this.alignOptions.x=V(this.options.x,0),this.alignOptions.y=V(this.options.y,0),T.x-=k,T.y-=se,Y.align(this.alignOptions,null,T),w.isInsidePlot(Y.alignAttr.x+k-this.alignOptions.x,Y.alignAttr.y+se-this.alignOptions.y)?Y.show():(Y.alignAttr.y=-9999,J=!1),J&&he.prototype.justifyDataLabel.call(this.axis,Y,this.alignOptions,Y.alignAttr,O,T),Y.attr({x:Y.alignAttr.x,y:Y.alignAttr.y}),V(!J&&this.options.crop,!0)&&((w=I(Y.x)&&I(Y.y)&&w.isInsidePlot(Y.x-ee+Y.width,Y.y)&&w.isInsidePlot(Y.x+ee,Y.y))||Y.hide()))},L.prototype.getStackBox=function(J,Y,se,ee,O,T,w){var k=Y.axis.reversed,C=J.inverted,U=w.height+w.pos-(C?J.plotLeft:J.plotTop);return Y=Y.isNegative&&!k||!Y.isNegative&&k,{x:C?Y?ee-w.right:ee-T+w.pos-J.plotLeft:se+J.xAxis[0].transB-J.plotLeft,y:C?w.height-se-O:Y?U-ee-T:U-ee,width:C?T:O,height:C?O:T}},L}();return ce.prototype.getStacks=function(){var L=this,J=L.inverted;L.yAxis.forEach(function(Y){Y.stacking&&Y.stacking.stacks&&Y.hasVisibleSeries&&(Y.stacking.oldStacks=Y.stacking.stacks)}),L.series.forEach(function(Y){var se=Y.xAxis&&Y.xAxis.options||{};!Y.options.stacking||!0!==Y.visible&&!1!==L.options.chart.ignoreHiddenSeries||(Y.stackKey=[Y.type,V(Y.options.stack,""),J?se.top:se.left,J?se.height:se.width].join())})},ie.compose(ae),he.prototype.setGroupedPoints=function(){var L=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?he.prototype.setStackedPoints.call(this,"group"):L&&R(L.stacks,function(J,Y){"group"===Y.slice(-5)&&(R(J,function(se){return se.destroy()}),delete L.stacks[Y])})},he.prototype.setStackedPoints=function(L){var J=L||this.options.stacking;if(J&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var Y=this.processedXData,se=this.processedYData,ee=[],O=se.length,T=this.options,w=T.threshold,k=V(T.startFromThreshold&&w,0);T=T.stack;var oe,ve,C="-"+(L=L?this.type+","+J:this.stackKey),U=this.negStacks,j=this.yAxis,S=j.stacking.stacks,H=j.stacking.oldStacks;for(j.stacking.stacksTouched+=1,ve=0;ve<O;ve++){var pe=Y[ve],Z=se[ve],Ae=this.getStackIndicator(Ae,pe,this.index),D=Ae.key,P=(oe=U&&Z<(k?0:w))?C:L;S[P]||(S[P]={}),S[P][pe]||(H[P]&&H[P][pe]?(S[P][pe]=H[P][pe],S[P][pe].total=null):S[P][pe]=new $(j,j.options.stackLabels,oe,pe,T)),P=S[P][pe],null!==Z?(P.points[D]=P.points[this.index]=[V(P.cumulative,k)],W(P.cumulative)||(P.base=D),P.touched=j.stacking.stacksTouched,0<Ae.index&&!1===this.singleStacks&&(P.points[D][0]=P.points[this.index+","+pe+",0"][0])):P.points[D]=P.points[this.index]=null,"percent"===J?(oe=oe?L:C,P.total=U&&S[oe]&&S[oe][pe]?(oe=S[oe][pe]).total=Math.max(oe.total,P.total)+Math.abs(Z)||0:Q(P.total+(Math.abs(Z)||0))):"group"===J?(M(Z)&&(Z=Z[0]),null!==Z&&(P.total=(P.total||0)+1)):P.total=Q(P.total+(Z||0)),P.cumulative="group"===J?(P.total||1)-1:V(P.cumulative,k)+(Z||0),null!==Z&&(P.points[D].push(P.cumulative),ee[ve]=P.cumulative,P.hasValidPoints=!0)}"percent"===J&&(j.stacking.usePercentage=!0),"group"!==J&&(this.stackedYData=ee),j.stacking.oldStacks={}}},he.prototype.modifyStacks=function(){var ee,L=this,J=L.stackKey,Y=L.yAxis.stacking.stacks,se=L.processedXData,O=L.options.stacking;L[O+"Stacker"]&&[J,"-"+J].forEach(function(T){for(var k,C,w=se.length;w--;)ee=L.getStackIndicator(ee,k=se[w],L.index,T),(C=(k=Y[T]&&Y[T][k])&&k.points[ee.key])&&L[O+"Stacker"](C,k,w)})},he.prototype.percentStacker=function(L,J,Y){L[0]=Q(L[0]*(J=J.total?100/J.total:0)),L[1]=Q(L[1]*J),this.stackedYData[Y]=L[1]},he.prototype.getStackIndicator=function(L,J,Y,se){return!W(L)||L.x!==J||se&&L.key!==se?L={x:J,index:0,key:se}:L.index++,L.key=[Y,J,L.index].join(),L},xe.StackItem=$,xe.StackItem}),Se(me,"Series/Line/LineSeries.js",[me["Core/Series/Series.js"],me["Core/Series/SeriesRegistry.js"],me["Core/Utilities.js"]],function(ae,ce,ge){var re,xe=this&&this.__extends||(re=function(B,Q){return(re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,q){W.__proto__=q}||function(W,q){for(var M in q)q.hasOwnProperty(M)&&(W[M]=q[M])})(B,Q)},function(B,Q){function W(){this.constructor=B}re(B,Q),B.prototype=null===Q?Object.create(Q):(W.prototype=Q.prototype,new W)}),he=ge.defined,ie=ge.merge;return ge=function(re){function B(){var Q=null!==re&&re.apply(this,arguments)||this;return Q.data=void 0,Q.options=void 0,Q.points=void 0,Q}return xe(B,re),B.prototype.drawGraph=function(){var Q=this,W=this.options,q=(this.gappedPath||this.getGraphPath).call(this),M=this.chart.styledMode,I=[["graph","highcharts-graph"]];M||I[0].push(W.lineColor||this.color||"#cccccc",W.dashStyle),(I=Q.getZonesGraphs(I)).forEach(function(R,V){var $=R[0],L=Q[$],J=L?"animate":"attr";L?(L.endX=Q.preventGraphAnimation?null:q.xMap,L.animate({d:q})):q.length&&(Q[$]=L=Q.chart.renderer.path(q).addClass(R[1]).attr({zIndex:1}).add(Q.group)),L&&!M&&($={stroke:R[2],"stroke-width":W.lineWidth,fill:Q.fillGraph&&Q.color||"none"},R[3]?$.dashstyle=R[3]:"square"!==W.linecap&&($["stroke-linecap"]=$["stroke-linejoin"]="round"),L[J]($).shadow(2>V&&W.shadow)),L&&(L.startX=q.xMap,L.isArea=q.isArea)})},B.prototype.getGraphPath=function(Q,W,q){var $,M=this,I=M.options,R=[],V=[],L=I.step,J=(Q=Q||M.points).reversed;return J&&Q.reverse(),(L={right:1,center:2}[L]||L&&3)&&J&&(L=4-L),(Q=this.getValidPoints(Q,!1,!(I.connectNulls&&!W&&!q))).forEach(function(Y,se){var ee=Y.plotX,O=Y.plotY,T=Q[se-1];(Y.leftCliff||T&&T.rightCliff)&&!q&&($=!0),Y.isNull&&!he(W)&&0<se?$=!I.connectNulls:Y.isNull&&!W?$=!0:(0===se||$?se=[["M",Y.plotX,Y.plotY]]:M.getPointSpline?se=[M.getPointSpline(Q,Y,se)]:L?(se=1===L?[["L",T.plotX,O]]:2===L?[["L",(T.plotX+ee)/2,T.plotY],["L",(T.plotX+ee)/2,O]]:[["L",ee,T.plotY]]).push(["L",ee,O]):se=[["L",ee,O]],V.push(Y.x),L&&(V.push(Y.x),2===L&&V.push(Y.x)),R.push.apply(R,se),$=!1)}),R.xMap=V,M.graphPath=R},B.prototype.getZonesGraphs=function(Q){return this.zones.forEach(function(W,q){q=["zone-graph-"+q,"highcharts-graph highcharts-zone-graph-"+q+" "+(W.className||"")],this.chart.styledMode||q.push(W.color||this.color,W.dashStyle||this.options.dashStyle),Q.push(q)},this),Q},B.defaultOptions=ie(ae.defaultOptions,{}),B}(ae),ce.registerSeriesType("line",ge),ge}),Se(me,"Series/Area/AreaSeries.js",[me["Core/Color/Color.js"],me["Core/Legend/LegendSymbol.js"],me["Core/Series/SeriesRegistry.js"],me["Core/Utilities.js"]],function(ae,ce,ge,xe){var q,he=this&&this.__extends||(q=function(M,I){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,V){R.__proto__=V}||function(R,V){for(var $ in V)V.hasOwnProperty($)&&(R[$]=V[$])})(M,I)},function(M,I){function R(){this.constructor=M}q(M,I),M.prototype=null===I?Object.create(I):(R.prototype=I.prototype,new R)}),ie=ae.parse,re=ge.seriesTypes.line,B=xe.merge,Q=xe.objectEach,W=xe.pick;return(ae=xe.extend)((xe=function(q){function M(){var I=null!==q&&q.apply(this,arguments)||this;return I.data=void 0,I.options=void 0,I.points=void 0,I}return he(M,q),M.prototype.drawGraph=function(){this.areaPath=[],q.prototype.drawGraph.apply(this);var I=this,R=this.areaPath,V=this.options,$=[["area","highcharts-area",this.color,V.fillColor]];this.zones.forEach(function(L,J){$.push(["zone-area-"+J,"highcharts-area highcharts-zone-area-"+J+" "+L.className,L.color||I.color,L.fillColor||V.fillColor])}),$.forEach(function(L){var J=L[0],Y=I[J],se=Y?"animate":"attr",ee={};Y?(Y.endX=I.preventGraphAnimation?null:R.xMap,Y.animate({d:R})):(ee.zIndex=0,(Y=I[J]=I.chart.renderer.path(R).addClass(L[1]).add(I.group)).isArea=!0),I.chart.styledMode||(ee.fill=W(L[3],ie(L[2]).setOpacity(W(V.fillOpacity,.75)).get())),Y[se](ee),Y.startX=R.xMap,Y.shiftUnit=V.step?2:1})},M.prototype.getGraphPath=function(I){var J,R=re.prototype.getGraphPath,V=this.options,$=V.stacking,L=this.yAxis,Y=[],se=[],ee=this.index,O=L.stacking.stacks[this.stackKey],T=V.threshold,w=Math.round(L.getThreshold(V.threshold));V=W(V.connectNulls,"percent"===$);var k=function(S,H,oe){var ve=I[S];S=$&&O[ve.x].points[ee];var pe=ve[oe+"Null"]||0;if(oe=ve[oe+"Cliff"]||0,ve=!0,oe||pe){var Z=(pe?S[0]:S[1])+oe,Ae=S[0]+oe;ve=!!pe}else!$&&I[H]&&I[H].isNull&&(Z=Ae=T);void 0!==Z&&(se.push({plotX:U,plotY:null===Z?w:L.getThreshold(Z),isNull:ve,isCliff:!0}),Y.push({plotX:U,plotY:null===Ae?w:L.getThreshold(Ae),doCurve:!1}))};for(I=I||this.points,$&&(I=this.getStackPoints(I)),J=0;J<I.length;J++){$||(I[J].leftCliff=I[J].rightCliff=I[J].leftNull=I[J].rightNull=void 0);var C=I[J].isNull,U=W(I[J].rectPlotX,I[J].plotX),j=$?W(I[J].yBottom,w):w;(!C||V)&&(V||k(J,J-1,"left"),C&&!$&&V||(se.push(I[J]),Y.push({x:J,plotX:U,plotY:j})),V||k(J,J+1,"right"))}return J=R.call(this,se,!0,!0),Y.reversed=!0,(j=(C=R.call(this,Y,!0,!0))[0])&&"M"===j[0]&&(C[0]=["L",j[1],j[2]]),(C=J.concat(C)).length&&C.push(["Z"]),R=R.call(this,se,!1,V),C.xMap=J.xMap,this.areaPath=C,R},M.prototype.getStackPoints=function(I){var R=this,V=[],$=[],L=this.xAxis,J=this.yAxis,Y=J.stacking.stacks[this.stackKey],se={},ee=J.series,O=ee.length,T=J.options.reversedStacks?1:-1,w=ee.indexOf(R);if(I=I||this.points,this.options.stacking){for(var k=0;k<I.length;k++)I[k].leftNull=I[k].rightNull=void 0,se[I[k].x]=I[k];Q(Y,function(U,j){null!==U.total&&$.push(j)}),$.sort(function(U,j){return U-j});var C=ee.map(function(U){return U.visible});$.forEach(function(U,j){var H,oe,S=0;if(se[U]&&!se[U].isNull)V.push(se[U]),[-1,1].forEach(function(pe){var Z=1===pe?"rightNull":"leftNull",Ae=0,D=Y[$[j+pe]];if(D)for(var P=w;0<=P&&P<O;){var X=ee[P].index;(H=D.points[X])||(X===R.index?se[U][Z]=!0:C[P]&&(oe=Y[U].points[X])&&(Ae-=oe[1]-oe[0])),P+=T}se[U][1===pe?"rightCliff":"leftCliff"]=Ae});else{for(var ve=w;0<=ve&&ve<O;){if(H=Y[U].points[ee[ve].index]){S=H[1];break}ve+=T}S=W(S,0),S=J.translate(S,0,1,0,1),V.push({isNull:!0,plotX:L.translate(U,0,0,0,1),x:U,plotY:S,yBottom:S})}})}return V},M.defaultOptions=B(re.defaultOptions,{threshold:0}),M}(re)).prototype,{singleStacks:!1,drawLegendSymbol:ce.drawRectangle}),ge.registerSeriesType("area",xe),xe}),Se(me,"Series/Spline/SplineSeries.js",[me["Core/Series/SeriesRegistry.js"],me["Core/Utilities.js"]],function(ae,ce){var re,ge=this&&this.__extends||(re=function(B,Q){return(re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,q){W.__proto__=q}||function(W,q){for(var M in q)q.hasOwnProperty(M)&&(W[M]=q[M])})(B,Q)},function(B,Q){function W(){this.constructor=B}re(B,Q),B.prototype=null===Q?Object.create(Q):(W.prototype=Q.prototype,new W)}),xe=ae.seriesTypes.line,he=ce.merge,ie=ce.pick;return ce=function(re){function B(){var Q=null!==re&&re.apply(this,arguments)||this;return Q.data=void 0,Q.options=void 0,Q.points=void 0,Q}return ge(B,re),B.prototype.getPointSpline=function(Q,W,q){var M=W.plotX||0,I=W.plotY||0,R=Q[q-1];if(q=Q[q+1],R&&!R.isNull&&!1!==R.doCurve&&!W.isCliff&&q&&!q.isNull&&!1!==q.doCurve&&!W.isCliff){var V=q.plotX||0,$=0,L=(1.5*M+(R.plotX||0))/2.5,J=(1.5*I+(Q=R.plotY||0))/2.5,Y=(1.5*I+(q=q.plotY||0))/2.5;(V=(1.5*M+V)/2.5)!==L&&($=(Y-J)*(V-M)/(V-L)+I-Y),Y+=$,(J+=$)>Q&&J>I?Y=2*I-(J=Math.max(Q,I)):J<Q&&J<I&&(Y=2*I-(J=Math.min(Q,I))),Y>q&&Y>I?J=2*I-(Y=Math.max(q,I)):Y<q&&Y<I&&(J=2*I-(Y=Math.min(q,I))),W.rightContX=V,W.rightContY=Y}return W=["C",ie(R.rightContX,R.plotX,0),ie(R.rightContY,R.plotY,0),ie(L,M,0),ie(J,I,0),M,I],R.rightContX=R.rightContY=void 0,W},B.defaultOptions=he(xe.defaultOptions),B}(xe),ae.registerSeriesType("spline",ce),ce}),Se(me,"Series/AreaSpline/AreaSplineSeries.js",[me["Series/Area/AreaSeries.js"],me["Series/Spline/SplineSeries.js"],me["Core/Legend/LegendSymbol.js"],me["Core/Series/SeriesRegistry.js"],me["Core/Utilities.js"]],function(ae,ce,ge,xe,he){var W,ie=this&&this.__extends||(W=function(q,M){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,R){I.__proto__=R}||function(I,R){for(var V in R)R.hasOwnProperty(V)&&(I[V]=R[V])})(q,M)},function(q,M){function I(){this.constructor=q}W(q,M),q.prototype=null===M?Object.create(M):(I.prototype=M.prototype,new I)}),re=ae.prototype,Q=he.merge;return(0,he.extend)((he=function(W){function q(){var M=null!==W&&W.apply(this,arguments)||this;return M.data=void 0,M.points=void 0,M.options=void 0,M}return ie(q,W),q.defaultOptions=Q(ce.defaultOptions,ae.defaultOptions),q}(ce)).prototype,{getGraphPath:re.getGraphPath,getStackPoints:re.getStackPoints,drawGraph:re.drawGraph,drawLegendSymbol:ge.drawRectangle}),xe.registerSeriesType("areaspline",he),he}),Se(me,"Series/Column/ColumnSeries.js",[me["Core/Animation/AnimationUtilities.js"],me["Core/Color/Color.js"],me["Core/Globals.js"],me["Core/Legend/LegendSymbol.js"],me["Core/Series/Series.js"],me["Core/Series/SeriesRegistry.js"],me["Core/Utilities.js"]],function(ae,ce,ge,xe,he,ie,re){var O,B=this&&this.__extends||(O=function(T,w){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,C){k.__proto__=C}||function(k,C){for(var U in C)C.hasOwnProperty(U)&&(k[U]=C[U])})(T,w)},function(T,w){function k(){this.constructor=T}O(T,w),T.prototype=null===w?Object.create(w):(k.prototype=w.prototype,new k)}),Q=ae.animObject,W=ce.parse,q=ge.hasTouch;ae=ge.noop;var M=re.clamp,I=re.css,R=re.defined,V=re.extend,$=re.fireEvent,L=re.isArray,J=re.isNumber,Y=re.merge,se=re.pick,ee=re.objectEach;return re=function(O){function T(){var w=null!==O&&O.apply(this,arguments)||this;return w.borderWidth=void 0,w.data=void 0,w.group=void 0,w.options=void 0,w.points=void 0,w}return B(T,O),T.prototype.animate=function(w){var k=this,C=this.yAxis,U=k.options,j=this.chart.inverted,S={},H=j?"translateX":"translateY";if(w)S.scaleY=.001,w=M(C.toPixels(U.threshold),C.pos,C.pos+C.len),j?S.translateX=w-C.len:S.translateY=w,k.clipBox&&k.setClip(),k.group.attr(S);else{var oe=Number(k.group.attr(H));k.group.animate({scaleY:1},V(Q(k.options.animation),{step:function(ve,pe){k.group&&(S[H]=oe+pe.pos*(C.pos-oe),k.group.attr(S))}}))}},T.prototype.init=function(w,k){O.prototype.init.apply(this,arguments);var C=this;(w=C.chart).hasRendered&&w.series.forEach(function(U){U.type===C.type&&(U.isDirty=!0)})},T.prototype.getColumnMetrics=function(){var w=this,k=w.options,C=w.xAxis,U=w.yAxis,j=C.options.reversedStacks;j=C.reversed&&!j||!C.reversed&&j;var H,S={},oe=0;!1===k.grouping?oe=1:w.chart.series.forEach(function(Ae){var D=Ae.yAxis,P=Ae.options;if(Ae.type===w.type&&(Ae.visible||!w.chart.options.chart.ignoreHiddenSeries)&&U.len===D.len&&U.pos===D.pos){if(P.stacking&&"group"!==P.stacking){void 0===S[H=Ae.stackKey]&&(S[H]=oe++);var X=S[H]}else!1!==P.grouping&&(X=oe++);Ae.columnIndex=X}});var ve=Math.min(Math.abs(C.transA)*(C.ordinal&&C.ordinal.slope||k.pointRange||C.closestPointRange||C.tickInterval||1),C.len),pe=ve*k.groupPadding,Z=(ve-2*pe)/(oe||1);return k=Math.min(k.maxPointWidth||C.len,se(k.pointWidth,Z*(1-2*k.pointPadding))),w.columnMetrics={width:k,offset:(Z-k)/2+(pe+((w.columnIndex||0)+(j?1:0))*Z-ve/2)*(j?-1:1),paddedWidth:Z,columnCount:oe},w.columnMetrics},T.prototype.crispCol=function(w,k,C,U){var j=this.chart,S=this.borderWidth,H=-(S%2?.5:0);return S=S%2?.5:1,j.inverted&&j.renderer.isVML&&(S+=1),this.options.crisp&&(C=Math.round(w+C)+H,C-=w=Math.round(w)+H),U=Math.round(k+U)+S,H=.5>=Math.abs(k)&&.5<U,U-=k=Math.round(k)+S,H&&U&&(--k,U+=1),{x:w,y:k,width:C,height:U}},T.prototype.adjustForMissingColumns=function(w,k,C,U){var j=this,S=this.options.stacking;if(!C.isNull&&1<U.columnCount){var H=0,oe=0;ee(this.yAxis.stacking&&this.yAxis.stacking.stacks,function(ve){if("number"==typeof C.x&&(ve=ve[C.x.toString()])){var pe=ve.points[j.index],Z=ve.total;S?(pe&&(H=oe),ve.hasValidPoints&&oe++):L(pe)&&(H=pe[1],oe=Z||0)}}),w=(C.plotX||0)+((oe-1)*U.paddedWidth+k)/2-k-H*U.paddedWidth}return w},T.prototype.translate=function(){var w=this,k=w.chart,C=w.options,U=w.dense=2>w.closestPointRange*w.xAxis.transA;U=w.borderWidth=se(C.borderWidth,U?0:1);var j=w.xAxis,S=w.yAxis,H=C.threshold,oe=w.translatedThreshold=S.getThreshold(H),ve=se(C.minPointLength,5),pe=w.getColumnMetrics(),Z=pe.width,Ae=w.pointXOffset=pe.offset,D=w.dataMin,P=w.dataMax,X=w.barW=Math.max(Z,1+2*U);k.inverted&&(oe-=.5),C.pointPadding&&(X=Math.ceil(X)),he.prototype.translate.apply(w),w.points.forEach(function(_e){var ye=se(_e.yBottom,oe),Te=999+Math.abs(ye),N=_e.plotX||0;Te=M(_e.plotY,-Te,S.len+Te);var de=Math.min(Te,ye),te=Math.max(Te,ye)-de,be=Z,Ce=N+Ae,Le=X;ve&&Math.abs(te)<ve&&(te=ve,N=!S.reversed&&!_e.negative||S.reversed&&_e.negative,J(H)&&J(P)&&_e.y===H&&P<=H&&(S.min||0)<H&&(D!==P||(S.max||0)<=H)&&(N=!N),de=Math.abs(de-oe)>ve?ye-ve:oe-(N?ve:0)),R(_e.options.pointWidth)&&(be=Le=Math.ceil(_e.options.pointWidth),Ce-=Math.round((be-Z)/2)),C.centerInCategory&&(Ce=w.adjustForMissingColumns(Ce,be,_e,pe)),_e.barX=Ce,_e.pointWidth=be,_e.tooltipPos=k.inverted?[M(S.len+S.pos-k.plotLeft-Te,S.pos-k.plotLeft,S.len+S.pos-k.plotLeft),j.len+j.pos-k.plotTop-Ce-Le/2,te]:[j.left-k.plotLeft+Ce+Le/2,M(Te+S.pos-k.plotTop,S.pos-k.plotTop,S.len+S.pos-k.plotTop),te],_e.shapeType=w.pointClass.prototype.shapeType||"rect",_e.shapeArgs=w.crispCol.apply(w,_e.isNull?[Ce,oe,Le,0]:[Ce,de,Le,te])})},T.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},T.prototype.pointAttribs=function(w,k){var C=this.options,U=this.pointAttrToOptions||{},j=U.stroke||"borderColor",S=U["stroke-width"]||"borderWidth",H=w&&w.color||this.color,oe=w&&w[j]||C[j]||H;U=w&&w.options.dashStyle||C.dashStyle;var ve=w&&w[S]||C[S]||this[S]||0,pe=se(w&&w.opacity,C.opacity,1);if(w&&this.zones.length){var Z=w.getZone();H=w.options.color||Z&&(Z.color||w.nonZonedColor)||this.color,Z&&(oe=Z.borderColor||oe,U=Z.dashStyle||U,ve=Z.borderWidth||ve)}return k&&w&&(k=(w=Y(C.states[k],w.options.states&&w.options.states[k]||{})).brightness,H=w.color||void 0!==k&&W(H).brighten(w.brightness).get()||H,oe=w[j]||oe,ve=w[S]||ve,U=w.dashStyle||U,pe=se(w.opacity,pe)),j={fill:H,stroke:oe,"stroke-width":ve,opacity:pe},U&&(j.dashstyle=U),j},T.prototype.drawPoints=function(){var S,w=this,k=this.chart,C=w.options,U=k.renderer,j=C.animationLimit||250;w.points.forEach(function(H){var oe=H.graphic,ve=!!oe,pe=oe&&k.pointCount<j?"animate":"attr";J(H.plotY)&&null!==H.y?(S=H.shapeArgs,oe&&H.hasNewShapeType()&&(oe=oe.destroy()),w.enabledDataSorting&&(H.startXPos=w.xAxis.reversed?-(S&&S.width||0):w.xAxis.width),oe||(H.graphic=oe=U[H.shapeType](S).add(H.group||w.group))&&w.enabledDataSorting&&k.hasRendered&&k.pointCount<j&&(oe.attr({x:H.startXPos}),ve=!0,pe="animate"),oe&&ve&&oe[pe](Y(S)),C.borderRadius&&oe[pe]({r:C.borderRadius}),k.styledMode||oe[pe](w.pointAttribs(H,H.selected&&"select")).shadow(!1!==H.allowShadow&&C.shadow,null,C.stacking&&!C.borderRadius),oe&&(oe.addClass(H.getClassName(),!0),oe.attr({visibility:H.visible?"inherit":"hidden"}))):oe&&(H.graphic=oe.destroy())})},T.prototype.drawTracker=function(){var j,w=this,k=w.chart,C=k.pointer,U=function(S){var H=C.getPointFromEvent(S);void 0!==H&&(C.isDirectTouch=!0,H.onMouseOver(S))};w.points.forEach(function(S){j=L(S.dataLabels)?S.dataLabels:S.dataLabel?[S.dataLabel]:[],S.graphic&&(S.graphic.element.point=S),j.forEach(function(H){H.div?H.div.point=S:H.element.point=S})}),w._hasTracking||(w.trackerGroups.forEach(function(S){w[S]&&(w[S].addClass("highcharts-tracker").on("mouseover",U).on("mouseout",function(H){C.onTrackerMouseOut(H)}),q&&w[S].on("touchstart",U),!k.styledMode&&w.options.cursor&&w[S].css(I).css({cursor:w.options.cursor}))}),w._hasTracking=!0),$(this,"afterDrawTracker")},T.prototype.remove=function(){var w=this,k=w.chart;k.hasRendered&&k.series.forEach(function(C){C.type===w.type&&(C.isDirty=!0)}),he.prototype.remove.apply(w,arguments)},T.defaultOptions=Y(he.defaultOptions,{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),T}(he),V(re.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:xe.drawRectangle,getSymbol:ae,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),ie.registerSeriesType("column",re),re}),Se(me,"Core/Series/DataLabel.js",[me["Core/Animation/AnimationUtilities.js"],me["Core/FormatUtilities.js"],me["Core/Utilities.js"]],function(ae,ce,ge){var R,xe=ae.getDeferredAnimation,he=ce.format,ie=ge.defined,re=ge.extend,B=ge.fireEvent,Q=ge.isArray,W=ge.merge,q=ge.objectEach,M=ge.pick,I=ge.splat;return function(V){function $(T,w,k,C,U){var j=this,S=this.chart,H=this.isCartesian&&S.inverted,oe=this.enabledDataSorting,ve=M(T.dlBox&&T.dlBox.centerX,T.plotX,-9999),pe=M(T.plotY,-9999),Z=w.getBBox(),Ae=k.rotation,D=k.align,P=S.isInsidePlot(ve,Math.round(pe),{inverted:H,paneCoordinates:!0,series:j}),X=function(N){oe&&j.xAxis&&!_e&&j.setDataLabelStartPos(T,w,U,P,N)},_e="justify"===M(k.overflow,oe?"none":"justify"),ye=this.visible&&!1!==T.visible&&(T.series.forceDL||oe&&!_e||P||M(k.inside,!!this.options.stacking)&&C&&S.isInsidePlot(ve,H?C.x+1:C.y+C.height-1,{inverted:H,paneCoordinates:!0,series:j}));if(ye){var Te=S.renderer.fontMetrics(S.styledMode?void 0:k.style.fontSize,w).b;C=re({x:H?this.yAxis.len-pe:ve,y:Math.round(H?this.xAxis.len-ve:pe),width:0,height:0},C),re(k,{width:Z.width,height:Z.height}),Ae?(_e=!1,ve=S.renderer.rotCorr(Te,Ae),X(ve={x:C.x+(k.x||0)+C.width/2+ve.x,y:C.y+(k.y||0)+{top:0,middle:.5,bottom:1}[k.verticalAlign]*C.height}),w[U?"attr":"animate"](ve).attr({align:D}),X=180<(X=(Ae+720)%360)&&360>X,"left"===D?ve.y-=X?Z.height:0:"center"===D?(ve.x-=Z.width/2,ve.y-=Z.height/2):"right"===D&&(ve.x-=Z.width,ve.y-=X?0:Z.height),w.placed=!0,w.alignAttr=ve):(X(C),w.align(k,void 0,C),ve=w.alignAttr),_e&&0<=C.height?this.justifyDataLabel(w,k,ve,Z,C,U):M(k.crop,!0)&&(ye=S.isInsidePlot(ve.x,ve.y,{paneCoordinates:!0,series:j})&&S.isInsidePlot(ve.x+Z.width,ve.y+Z.height,{paneCoordinates:!0,series:j})),k.shape&&!Ae&&w[U?"attr":"animate"]({anchorX:H?S.plotWidth-T.plotY:T.plotX,anchorY:H?S.plotHeight-T.plotX:T.plotY})}U&&oe&&(w.placed=!1),ye||oe&&!_e||(w.hide(!0),w.placed=!1)}function J(){var T=this,w=T.chart,k=T.options,C=T.points,U=T.hasRendered||0,j=w.renderer,S=k.dataLabels,oe=S.animation;if(oe=S.defer?xe(w,oe,T):{defer:0,duration:0},S=se(se(w.options.plotOptions&&w.options.plotOptions.series&&w.options.plotOptions.series.dataLabels,w.options.plotOptions&&w.options.plotOptions[T.type]&&w.options.plotOptions[T.type].dataLabels),S),B(this,"drawDataLabels"),Q(S)||S.enabled||T._hasPointLabels){var ve=T.plotGroup("dataLabelsGroup","data-labels",U?"inherit":"hidden",S.zIndex||6);ve.attr({opacity:+U}),!U&&(U=T.dataLabelsGroup)&&(T.visible&&ve.show(!0),U[k.animation?"animate":"attr"]({opacity:1},oe)),C.forEach(function(pe){I(se(S,pe.dlOptions||pe.options&&pe.options.dataLabels)).forEach(function(Z,Ae){var D=Z.enabled&&(!pe.isNull||pe.dataLabelOnNull)&&function(T,w){var k=w.filter;return!k||(w=k.operator,T=T[k.property],k=k.value,">"===w&&T>k||"<"===w&&T<k||">="===w&&T>=k||"<="===w&&T<=k||"=="===w&&T==k||"==="===w&&T===k)}(pe,Z),P=pe.connectors?pe.connectors[Ae]:pe.connector,X=pe.dataLabels?pe.dataLabels[Ae]:pe.dataLabel,_e=M(Z.distance,pe.labelDistance),ye=!X;if(D){var Te=pe.getLabelConfig(),N=M(Z[pe.formatPrefix+"Format"],Z.format);Te=ie(N)?he(N,Te,w):(Z[pe.formatPrefix+"Formatter"]||Z.formatter).call(Te,Z),N=Z.style;var de=Z.rotation;w.styledMode||(N.color=M(Z.color,N.color,T.color,"#000000"),"contrast"===N.color?(pe.contrastColor=j.getContrast(pe.color||T.color),N.color=!ie(_e)&&Z.inside||0>_e||k.stacking?pe.contrastColor:"#000000"):delete pe.contrastColor,k.cursor&&(N.cursor=k.cursor));var te={r:Z.borderRadius||0,rotation:de,padding:Z.padding,zIndex:1};w.styledMode||(te.fill=Z.backgroundColor,te.stroke=Z.borderColor,te["stroke-width"]=Z.borderWidth),q(te,function(be,Ce){void 0===be&&delete te[Ce]})}!X||D&&ie(Te)?D&&ie(Te)&&(X?te.text=Te:(pe.dataLabels=pe.dataLabels||[],X=pe.dataLabels[Ae]=de?j.text(Te,0,-9999,Z.useHTML).addClass("highcharts-data-label"):j.label(Te,0,-9999,Z.shape,null,null,Z.useHTML,null,"data-label"),Ae||(pe.dataLabel=X),X.addClass(" highcharts-data-label-color-"+pe.colorIndex+" "+(Z.className||"")+(Z.useHTML?" highcharts-tracker":""))),X.options=Z,X.attr(te),w.styledMode||X.css(N).shadow(Z.shadow),X.added||X.add(ve),Z.textPath&&!Z.useHTML&&(X.setTextPath(pe.getDataLabelPath&&pe.getDataLabelPath(X)||pe.graphic,Z.textPath),pe.dataLabelPath&&!Z.textPath.enabled&&(pe.dataLabelPath=pe.dataLabelPath.destroy())),T.alignDataLabel(pe,X,Z,null,ye)):(pe.dataLabel=pe.dataLabel&&pe.dataLabel.destroy(),pe.dataLabels&&(1===pe.dataLabels.length?delete pe.dataLabels:delete pe.dataLabels[Ae]),Ae||delete pe.dataLabel,P&&(pe.connector=pe.connector.destroy(),pe.connectors&&(1===pe.connectors.length?delete pe.connectors:delete pe.connectors[Ae])))})})}B(this,"afterDrawDataLabels")}function Y(T,w,k,C,U,j){var S=this.chart,H=w.align,oe=w.verticalAlign,ve=T.box?0:T.padding||0,pe=w.x;pe=void 0===pe?0:pe;var Z=w.y;Z=void 0===Z?0:Z;var Ae=(k.x||0)+ve;if(0>Ae){"right"===H&&0<=pe?(w.align="left",w.inside=!0):pe-=Ae;var D=!0}return(Ae=(k.x||0)+C.width-ve)>S.plotWidth&&("left"===H&&0>=pe?(w.align="right",w.inside=!0):pe+=S.plotWidth-Ae,D=!0),0>(Ae=k.y+ve)&&("bottom"===oe&&0<=Z?(w.verticalAlign="top",w.inside=!0):Z-=Ae,D=!0),(Ae=(k.y||0)+C.height-ve)>S.plotHeight&&("top"===oe&&0>=Z?(w.verticalAlign="bottom",w.inside=!0):Z+=S.plotHeight-Ae,D=!0),D&&(w.x=pe,w.y=Z,T.placed=!j,T.align(w,void 0,U)),D}function se(T,w){var C,k=[];if(Q(T)&&!Q(w))k=T.map(function(U){return W(U,w)});else if(Q(w)&&!Q(T))k=w.map(function(U){return W(T,U)});else if(Q(T)||Q(w))for(C=Math.max(T.length,w.length);C--;)k[C]=W(T[C],w[C]);else k=W(T,w);return k}function ee(T,w,k,C,U){var j=this.chart,S=j.inverted,H=this.xAxis,oe=H.reversed,ve=S?w.height/2:w.width/2;T=(T=T.pointWidth)?T/2:0,w.startXPos=S?U.x:oe?-ve-T:H.width-ve+T,w.startYPos=S?oe?this.yAxis.height-ve+T:-ve-T:U.y,C?"hidden"===w.visibility&&(w.show(),w.attr({opacity:0}).animate({opacity:1})):w.attr({opacity:1}).animate({opacity:0},void 0,w.hide),j.hasRendered&&(k&&w.attr({x:w.startXPos,y:w.startYPos}),w.placed=!0)}var O=[];V.compose=function(T){if(-1===O.indexOf(T)){var w=T.prototype;O.push(T),w.alignDataLabel=$,w.drawDataLabels=J,w.justifyDataLabel=Y,w.setDataLabelStartPos=ee}}}(R||(R={})),R}),Se(me,"Series/Column/ColumnDataLabel.js",[me["Core/Series/DataLabel.js"],me["Core/Series/SeriesRegistry.js"],me["Core/Utilities.js"]],function(ae,ce,ge){var re,xe=ce.series,he=ge.merge,ie=ge.pick;return function(B){function Q(q,M,I,R,V){var $=this.chart.inverted,L=q.series,J=(L.xAxis?L.xAxis.len:this.chart.plotSizeX)||0,Y=q.dlBox||q.shapeArgs,se=ie(q.below,q.plotY>ie(this.translatedThreshold,L=(L.yAxis?L.yAxis.len:this.chart.plotSizeY)||0)),ee=ie(I.inside,!!this.options.stacking);Y&&(0>(R=he(Y)).y&&(R.height+=R.y,R.y=0),0<(Y=R.y+R.height-L)&&Y<R.height&&(R.height-=Y),$&&(R={x:L-R.y-R.height,y:J-R.x-R.width,width:R.height,height:R.width}),ee||($?(R.x+=se?0:R.width,R.width=0):(R.y+=se?R.height:0,R.height=0))),I.align=ie(I.align,!$||ee?"center":se?"right":"left"),I.verticalAlign=ie(I.verticalAlign,$||ee?"middle":se?"top":"bottom"),xe.prototype.alignDataLabel.call(this,q,M,I,R,V),I.inside&&q.contrastColor&&M.css({color:q.contrastColor})}var W=[];B.compose=function(q){ae.compose(xe),-1===W.indexOf(q)&&(W.push(q),q.prototype.alignDataLabel=Q)}}(re||(re={})),re}),Se(me,"Series/Bar/BarSeries.js",[me["Series/Column/ColumnSeries.js"],me["Core/Series/SeriesRegistry.js"],me["Core/Utilities.js"]],function(ae,ce,ge){var re,xe=this&&this.__extends||(re=function(B,Q){return(re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,q){W.__proto__=q}||function(W,q){for(var M in q)q.hasOwnProperty(M)&&(W[M]=q[M])})(B,Q)},function(B,Q){function W(){this.constructor=B}re(B,Q),B.prototype=null===Q?Object.create(Q):(W.prototype=Q.prototype,new W)}),ie=ge.merge;return(0,ge.extend)((ge=function(re){function B(){var Q=null!==re&&re.apply(this,arguments)||this;return Q.data=void 0,Q.options=void 0,Q.points=void 0,Q}return xe(B,re),B.defaultOptions=ie(ae.defaultOptions,{}),B}(ae)).prototype,{inverted:!0}),ce.registerSeriesType("bar",ge),ge}),Se(me,"Series/Scatter/ScatterSeries.js",[me["Series/Column/ColumnSeries.js"],me["Series/Line/LineSeries.js"],me["Core/Series/SeriesRegistry.js"],me["Core/Utilities.js"]],function(ae,ce,ge,xe){var Q,he=this&&this.__extends||(Q=function(W,q){return(Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,I){M.__proto__=I}||function(M,I){for(var R in I)I.hasOwnProperty(R)&&(M[R]=I[R])})(W,q)},function(W,q){function M(){this.constructor=W}Q(W,q),W.prototype=null===q?Object.create(q):(M.prototype=q.prototype,new M)}),ie=xe.addEvent,B=xe.merge;return(0,xe.extend)((xe=function(Q){function W(){var q=null!==Q&&Q.apply(this,arguments)||this;return q.data=void 0,q.options=void 0,q.points=void 0,q}return he(W,Q),W.prototype.applyJitter=function(){var q=this,M=this.options.jitter,I=this.points.length;M&&this.points.forEach(function(R,V){["x","y"].forEach(function($,L){var J="plot"+$.toUpperCase();if(M[$]&&!R.isNull){var Y=q[$+"Axis"],se=M[$]*Y.transA;if(Y&&!Y.isLog){var ee=Math.max(0,R[J]-se);Y=Math.min(Y.len,R[J]+se),L=1e4*Math.sin(V+L*I),R[J]=ee+(Y-ee)*(L-Math.floor(L)),"x"===$&&(R.clientX=R.plotX)}}})})},W.prototype.drawGraph=function(){this.options.lineWidth?Q.prototype.drawGraph.call(this):this.graph&&(this.graph=this.graph.destroy())},W.defaultOptions=B(ce.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),W}(ce)).prototype,{drawTracker:ae.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),ie(xe,"afterTranslate",function(){this.applyJitter()}),ge.registerSeriesType("scatter",xe),xe}),Se(me,"Series/CenteredUtilities.js",[me["Core/Globals.js"],me["Core/Series/Series.js"],me["Core/Utilities.js"]],function(ae,ce,ge){var B,Q,xe=ae.deg2rad,he=ge.isNumber,ie=ge.pick,re=ge.relativeLength;return(Q=B||(B={})).getCenter=function(){var W=this.options,q=this.chart,M=2*(W.slicedOffset||0),I=q.plotWidth-2*M,R=q.plotHeight-2*M,V=W.center,$=Math.min(I,R),L=W.size,J=W.innerSize||0;for("string"==typeof L&&(L=parseFloat(L)),"string"==typeof J&&(J=parseFloat(J)),W=[ie(V[0],"50%"),ie(V[1],"50%"),ie(L&&0>L?void 0:W.size,"100%"),ie(J&&0>J?void 0:W.innerSize||0,"0%")],!q.angular||this instanceof ce||(W[3]=0),V=0;4>V;++V)L=W[V],q=2>V||2===V&&/%$/.test(L),W[V]=re(L,[I,R,$,W[2]][V])+(q?M:0);return W[3]>W[2]&&(W[3]=W[2]),W},Q.getStartAndEndRadians=function(W,q){return W=he(W)?W:0,q=he(q)&&q>W&&360>q-W?q:W+360,{start:xe*(W+-90),end:xe*(q+-90)}},B}),Se(me,"Series/Pie/PiePoint.js",[me["Core/Animation/AnimationUtilities.js"],me["Core/Series/Point.js"],me["Core/Utilities.js"]],function(ae,ce,ge){var q,xe=this&&this.__extends||(q=function(M,I){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,V){R.__proto__=V}||function(R,V){for(var $ in V)V.hasOwnProperty($)&&(R[$]=V[$])})(M,I)},function(M,I){function R(){this.constructor=M}q(M,I),M.prototype=null===I?Object.create(I):(R.prototype=I.prototype,new R)}),he=ae.setAnimation,ie=ge.addEvent,re=ge.defined,B=ge.isNumber,Q=ge.pick,W=ge.relativeLength;return(ae=ge.extend)((ce=function(q){function M(){var I=null!==q&&q.apply(this,arguments)||this;return I.labelDistance=void 0,I.options=void 0,I.series=void 0,I}return xe(M,q),M.prototype.getConnectorPath=function(){var I=this.labelPosition,R=this.series.options.dataLabels,V=this.connectorShapes,$=R.connectorShape;return V[$]&&($=V[$]),$.call(this,{x:I.final.x,y:I.final.y,alignment:I.alignment},I.connectorPosition,R)},M.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},M.prototype.haloPath=function(I){var R=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(R.x,R.y,R.r+I,R.r+I,{innerR:R.r-1,start:R.start,end:R.end})},M.prototype.init=function(){var I=this;q.prototype.init.apply(this,arguments),this.name=Q(this.name,"Slice");var R=function(V){I.slice("select"===V.type)};return ie(this,"select",R),ie(this,"unselect",R),this},M.prototype.isValid=function(){return B(this.y)&&0<=this.y},M.prototype.setVisible=function(I,R){var V=this,$=this.series,L=$.chart,J=$.options.ignoreHiddenPoint;R=Q(R,J),I!==this.visible&&(this.visible=this.options.visible=I=void 0===I?!this.visible:I,$.options.data[$.data.indexOf(this)]=this.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function(Y){V[Y]&&V[Y][I?"show":"hide"](I)}),this.legendItem&&L.legend.colorizeItem(this,I),I||"hover"!==this.state||this.setState(""),J&&($.isDirty=!0),R&&L.redraw())},M.prototype.slice=function(I,R,V){var $=this.series;he(V,$.chart),Q(R,!0),this.sliced=this.options.sliced=re(I)?I:!this.sliced,$.options.data[$.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},M}(ce)).prototype,{connectorShapes:{fixedOffset:function(q,M,I){var R=M.breakAt;return M=M.touchingSliceAt,[["M",q.x,q.y],I.softConnector?["C",q.x+("left"===q.alignment?-5:5),q.y,2*R.x-M.x,2*R.y-M.y,R.x,R.y]:["L",R.x,R.y],["L",M.x,M.y]]},straight:function(q,M){return[["M",q.x,q.y],["L",(M=M.touchingSliceAt).x,M.y]]},crookedLine:function(q,M,I){M=M.touchingSliceAt;var R=this.series,V=R.center[0],$=R.chart.plotWidth,L=R.chart.plotLeft;R=q.alignment;var J=this.shapeArgs.r;return I=W(I.crookDistance,1),I=["L",$="left"===R?V+J+($+L-V-J)*(1-I):L+(V-J)*I,q.y],V=!0,("left"===R?$>q.x||$<M.x:$<q.x||$>M.x)&&(V=!1),q=[["M",q.x,q.y]],V&&q.push(I),q.push(["L",M.x,M.y]),q}}}),ce}),Se(me,"Series/Pie/PieSeries.js",[me["Series/CenteredUtilities.js"],me["Series/Column/ColumnSeries.js"],me["Core/Globals.js"],me["Core/Legend/LegendSymbol.js"],me["Series/Pie/PiePoint.js"],me["Core/Series/Series.js"],me["Core/Series/SeriesRegistry.js"],me["Core/Renderer/SVG/Symbols.js"],me["Core/Utilities.js"]],function(ae,ce,ge,xe,he,ie,re,B,Q){var J,W=this&&this.__extends||(J=function(Y,se){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ee,O){ee.__proto__=O}||function(ee,O){for(var T in O)O.hasOwnProperty(T)&&(ee[T]=O[T])})(Y,se)},function(Y,se){function ee(){this.constructor=Y}J(Y,se),Y.prototype=null===se?Object.create(se):(ee.prototype=se.prototype,new ee)}),q=ae.getStartAndEndRadians;ge=ge.noop;var M=Q.clamp,R=Q.fireEvent,V=Q.merge,$=Q.pick,L=Q.relativeLength;return(0,Q.extend)((Q=function(J){function Y(){var se=null!==J&&J.apply(this,arguments)||this;return se.center=void 0,se.data=void 0,se.maxLabelDistance=void 0,se.options=void 0,se.points=void 0,se}return W(Y,J),Y.prototype.animate=function(se){var ee=this,T=ee.startAngleRad;se||ee.points.forEach(function(w){var k=w.graphic,C=w.shapeArgs;k&&C&&(k.attr({r:$(w.startR,ee.center&&ee.center[3]/2),start:T,end:T}),k.animate({r:C.r,start:C.start,end:C.end},ee.options.animation))})},Y.prototype.drawEmpty=function(){var se=this.startAngleRad,ee=this.endAngleRad,O=this.options;if(0===this.total&&this.center){var T=this.center[0],w=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(T,w,this.center[1]/2,0,se,ee).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:B.arc(T,w,this.center[2]/2,0,{start:se,end:ee,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":O.borderWidth,fill:O.fillColor||"none",stroke:O.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},Y.prototype.drawPoints=function(){var se=this.chart.renderer;this.points.forEach(function(ee){ee.graphic&&ee.hasNewShapeType()&&(ee.graphic=ee.graphic.destroy()),ee.graphic||(ee.graphic=se[ee.shapeType](ee.shapeArgs).add(ee.series.group),ee.delayedRendering=!0)})},Y.prototype.generatePoints=function(){J.prototype.generatePoints.call(this),this.updateTotals()},Y.prototype.getX=function(se,ee,O){var T=this.center,w=this.radii?this.radii[O.index]||0:T[2]/2;return se=Math.asin(M((se-T[1])/(w+O.labelDistance),-1,1)),T[0]+(ee?-1:1)*Math.cos(se)*(w+O.labelDistance)+(0<O.labelDistance?(ee?-1:1)*this.options.dataLabels.padding:0)},Y.prototype.hasData=function(){return!!this.processedXData.length},Y.prototype.redrawPoints=function(){var w,k,C,U,se=this,ee=se.chart,O=ee.renderer,T=se.options.shadow;this.drawEmpty(),!T||se.shadowGroup||ee.styledMode||(se.shadowGroup=O.g("shadow").attr({zIndex:-1}).add(se.group)),se.points.forEach(function(j){var S={};if(k=j.graphic,!j.isNull&&k){var H=void 0;U=j.shapeArgs,w=j.getTranslate(),ee.styledMode||(H=j.shadowGroup,T&&!H&&(H=j.shadowGroup=O.g("shadow").add(se.shadowGroup)),H&&H.attr(w),C=se.pointAttribs(j,j.selected&&"select")),j.delayedRendering?(k.setRadialReference(se.center).attr(U).attr(w),ee.styledMode||k.attr(C).attr({"stroke-linejoin":"round"}).shadow(T,H),j.delayedRendering=!1):(k.setRadialReference(se.center),ee.styledMode||V(!0,S,C),V(!0,S,U,w),k.animate(S)),k.attr({visibility:j.visible?"inherit":"hidden"}),k.addClass(j.getClassName(),!0)}else k&&(j.graphic=k.destroy())})},Y.prototype.sortByAngle=function(se,ee){se.sort(function(O,T){return void 0!==O.angle&&(T.angle-O.angle)*ee})},Y.prototype.translate=function(se){this.generatePoints();var ee=this.options,O=ee.slicedOffset,T=O+(ee.borderWidth||0),w=q(ee.startAngle,ee.endAngle),k=this.startAngleRad=w.start;w=(this.endAngleRad=w.end)-k;var C=this.points,U=ee.dataLabels.distance;ee=ee.ignoreHiddenPoint;var S,j=C.length,H=0;for(se||(this.center=se=this.getCenter()),S=0;S<j;S++){var oe=C[S],ve=k+H*w;!oe.isValid()||ee&&!oe.visible||(H+=oe.percentage/100);var pe=k+H*w,Z={x:se[0],y:se[1],r:se[2]/2,innerR:se[3]/2,start:Math.round(1e3*ve)/1e3,end:Math.round(1e3*pe)/1e3};oe.shapeType="arc",oe.shapeArgs=Z,oe.labelDistance=$(oe.options.dataLabels&&oe.options.dataLabels.distance,U),oe.labelDistance=L(oe.labelDistance,Z.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,oe.labelDistance),(pe=(pe+ve)/2)>1.5*Math.PI?pe-=2*Math.PI:pe<-Math.PI/2&&(pe+=2*Math.PI),oe.slicedTranslation={translateX:Math.round(Math.cos(pe)*O),translateY:Math.round(Math.sin(pe)*O)},Z=Math.cos(pe)*se[2]/2;var Ae=Math.sin(pe)*se[2]/2;oe.tooltipPos=[se[0]+.7*Z,se[1]+.7*Ae],oe.half=pe<-Math.PI/2||pe>Math.PI/2?1:0,oe.angle=pe,ve=Math.min(T,oe.labelDistance/5),oe.labelPosition={natural:{x:se[0]+Z+Math.cos(pe)*oe.labelDistance,y:se[1]+Ae+Math.sin(pe)*oe.labelDistance},final:{},alignment:0>oe.labelDistance?"center":oe.half?"right":"left",connectorPosition:{breakAt:{x:se[0]+Z+Math.cos(pe)*ve,y:se[1]+Ae+Math.sin(pe)*ve},touchingSliceAt:{x:se[0]+Z,y:se[1]+Ae}}}}R(this,"afterTranslate")},Y.prototype.updateTotals=function(){var T,se=this.points,ee=se.length,O=this.options.ignoreHiddenPoint,w=0;for(T=0;T<ee;T++){var k=se[T];!k.isValid()||O&&!k.visible||(w+=k.y)}for(this.total=w,T=0;T<ee;T++)(k=se[T]).percentage=0<w&&(k.visible||!O)?k.y/w*100:0,k.total=w},Y.defaultOptions=V(ie.defaultOptions,{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),Y}(ie)).prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:xe.drawRectangle,drawTracker:ce.prototype.drawTracker,getCenter:ae.getCenter,getSymbol:ge,isCartesian:!1,noSharedTooltip:!0,pointAttribs:ce.prototype.pointAttribs,pointClass:he,requireSorting:!1,searchPoint:ge,trackerGroups:["group","dataLabelsGroup"]}),re.registerSeriesType("pie",Q),Q}),Se(me,"Series/Pie/PieDataLabel.js",[me["Core/Series/DataLabel.js"],me["Core/Globals.js"],me["Core/Renderer/RendererUtilities.js"],me["Core/Series/SeriesRegistry.js"],me["Core/Utilities.js"]],function(ae,ce,ge,xe,he){var V,ie=ce.noop,re=ge.distribute,B=xe.series,Q=he.arrayMax,W=he.clamp,q=he.defined,M=he.merge,I=he.pick,R=he.relativeLength;return function($){function L(){var P,X,_e,ye,Te,N,de,te,be,Ce,Le,Oe,O=this,T=O.data,w=O.chart,k=O.options.dataLabels||{},C=k.connectorPadding,U=w.plotWidth,j=w.plotHeight,S=w.plotLeft,H=Math.round(w.chartWidth/3),oe=O.center,ve=oe[2]/2,pe=oe[1],Z=[[],[]],Ae=[0,0,0,0],D=O.dataLabelPositioners;O.visible&&(k.enabled||O._hasPointLabels)&&(T.forEach(function(ze){ze.dataLabel&&ze.visible&&ze.dataLabel.shortened&&(ze.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),ze.dataLabel.shortened=!1)}),B.prototype.drawDataLabels.apply(O),T.forEach(function(ze){ze.dataLabel&&(ze.visible?(Z[ze.half].push(ze),ze.dataLabel._pos=null,!q(k.style.width)&&!q(ze.options.dataLabels&&ze.options.dataLabels.style&&ze.options.dataLabels.style.width)&&ze.dataLabel.getBBox().width>H&&(ze.dataLabel.css({width:Math.round(.7*H)+"px"}),ze.dataLabel.shortened=!0)):(ze.dataLabel=ze.dataLabel.destroy(),ze.dataLabels&&1===ze.dataLabels.length&&delete ze.dataLabels))}),Z.forEach(function(ze,Ne){var st,it=ze.length,lt=[];if(it){if(O.sortByAngle(ze,Ne-.5),0<O.maxLabelDistance){var Ke=Math.max(0,pe-ve-O.maxLabelDistance),Be=Math.min(pe+ve+O.maxLabelDistance,w.plotHeight);ze.forEach(function(fe){0<fe.labelDistance&&fe.dataLabel&&(fe.top=Math.max(0,pe-ve-fe.labelDistance),fe.bottom=Math.min(pe+ve+fe.labelDistance,w.plotHeight),st=fe.dataLabel.getBBox().height||21,fe.distributeBox={target:fe.labelPosition.natural.y-fe.top+st/2,size:st,rank:fe.y},lt.push(fe.distributeBox))}),re(lt,Ke=Be+st-Ke,Ke/5)}for(Le=0;Le<it;Le++){if(ye=(P=ze[Le]).dataLabel,Ce=!1===P.visible?"hidden":"inherit",be=Ke=(N=P.labelPosition).natural.y,lt&&q(P.distributeBox)&&(void 0===P.distributeBox.pos?Ce="hidden":(de=P.distributeBox.size,be=D.radialDistributionY(P))),delete P.positionIndex,k.justify)te=D.justify(P,ve,oe);else switch(k.alignTo){case"connectors":te=D.alignToConnectors(ze,Ne,U,S);break;case"plotEdges":te=D.alignToPlotEdges(ye,Ne,U,S);break;default:te=D.radialDistributionX(O,P,be,Ke)}ye._attr={visibility:Ce,align:N.alignment},ye._pos={x:te+I((Oe=P.options.dataLabels||{}).x,k.x)+({left:C,right:-C}[N.alignment]||0),y:be+I(Oe.y,k.y)-10},N.final.x=te,N.final.y=be,I(k.crop,!0)&&(Te=ye.getBBox().width,Ke=null,te-Te<C&&1===Ne?(Ke=Math.round(Te-te+C),Ae[3]=Math.max(Ke,Ae[3])):te+Te>U-C&&0===Ne&&(Ke=Math.round(te+Te-U+C),Ae[1]=Math.max(Ke,Ae[1])),0>be-de/2?Ae[0]=Math.max(Math.round(de/2-be),Ae[0]):be+de/2>j&&(Ae[2]=Math.max(Math.round(be+de/2-j),Ae[2])),ye.sideOverflow=Ke)}}}),0===Q(Ae)||this.verifyDataLabelOverflow(Ae))&&(this.placeDataLabels(),this.points.forEach(function(ze){var Ne;Oe=M(k,ze.options.dataLabels),(X=I(Oe.connectorWidth,1))&&(_e=ze.connector,(ye=ze.dataLabel)&&ye._pos&&ze.visible&&0<ze.labelDistance?(Ce=ye._attr.visibility,(Ne=!_e)&&(ze.connector=_e=w.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+ze.colorIndex+(ze.className?" "+ze.className:"")).add(O.dataLabelsGroup),w.styledMode||_e.attr({"stroke-width":X,stroke:Oe.connectorColor||ze.color||"#666666"})),_e[Ne?"attr":"animate"]({d:ze.getConnectorPath()}),_e.attr("visibility",Ce)):_e&&(ze.connector=_e.destroy()))}))}function J(){this.points.forEach(function(O){var w,T=O.dataLabel;T&&O.visible&&((w=T._pos)?(T.sideOverflow&&(T._attr.width=Math.max(T.getBBox().width-T.sideOverflow,0),T.css({width:T._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),T.shortened=!0),T.attr(T._attr),T[T.moved?"animate":"attr"](w),T.moved=!0):T&&T.attr({y:-9999})),delete O.distributeBox},this)}function Y(O){var T=this.center,w=this.options,k=w.center,C=w.minSize||80,U=null!==w.size;if(!U){if(null!==k[0])var j=Math.max(T[2]-Math.max(O[1],O[3]),C);else j=Math.max(T[2]-O[1]-O[3],C),T[0]+=(O[3]-O[1])/2;null!==k[1]?j=W(j,C,T[2]-Math.max(O[0],O[2])):(j=W(j,C,T[2]-O[0]-O[2]),T[1]+=(O[0]-O[2])/2),j<T[2]?(T[2]=j,T[3]=Math.min(R(w.innerSize||0,j),j),this.translate(T),this.drawDataLabels&&this.drawDataLabels()):U=!0}return U}var se=[],ee={radialDistributionY:function(O){return O.top+O.distributeBox.pos},radialDistributionX:function(O,T,w,k){return O.getX(w<T.top+2||w>T.bottom-2?k:w,T.half,T)},justify:function(O,T,w){return w[0]+(O.half?-1:1)*(T+O.labelDistance)},alignToPlotEdges:function(O,T,w,k){return O=O.getBBox().width,T?O+k:w-O-k},alignToConnectors:function(O,T,w,k){var U,C=0;return O.forEach(function(j){(U=j.dataLabel.getBBox().width)>C&&(C=U)}),T?C+k:w-C-k}};$.compose=function(O){ae.compose(B),-1===se.indexOf(O)&&(se.push(O),(O=O.prototype).dataLabelPositioners=ee,O.alignDataLabel=ie,O.drawDataLabels=L,O.placeDataLabels=J,O.verifyDataLabelOverflow=Y)}}(V||(V={})),V}),Se(me,"Extensions/OverlappingDataLabels.js",[me["Core/Chart/Chart.js"],me["Core/Utilities.js"]],function(ae,ce){function ge(W,q){var M=!1;if(W){var I=W.newOpacity;W.oldOpacity!==I&&(W.alignAttr&&W.placed?(W[I?"removeClass":"addClass"]("highcharts-data-label-hidden"),M=!0,W.alignAttr.opacity=I,W[W.isOld?"animate":"attr"](W.alignAttr,null,function(){q.styledMode||W.css({pointerEvents:I?"auto":"none"})}),he(q,"afterHideOverlappingLabel")):W.attr({opacity:I})),W.isOld=!0}return M}var he=ce.fireEvent,ie=ce.isArray,re=ce.isNumber,B=ce.objectEach,Q=ce.pick;(0,ce.addEvent)(ae,"render",function(){var W=this,q=[];(this.labelCollectors||[]).forEach(function(M){q=q.concat(M())}),(this.yAxis||[]).forEach(function(M){M.stacking&&M.options.stackLabels&&!M.options.stackLabels.allowOverlap&&B(M.stacking.stacks,function(I){B(I,function(R){R.label&&"hidden"!==R.label.visibility&&q.push(R.label)})})}),(this.series||[]).forEach(function(M){var I=M.options.dataLabels;M.visible&&(!1!==I.enabled||M._hasPointLabels)&&((I=function(R){return R.forEach(function(V){V.visible&&(ie(V.dataLabels)?V.dataLabels:V.dataLabel?[V.dataLabel]:[]).forEach(function($){var L=$.options;$.labelrank=Q(L.labelrank,V.labelrank,V.shapeArgs&&V.shapeArgs.height),L.allowOverlap?($.oldOpacity=$.opacity,$.newOpacity=1,ge($,W)):q.push($)})})})(M.nodes||[]),I(M.points))}),this.hideOverlappingLabels(q)}),ae.prototype.hideOverlappingLabels=function(W){var R,V,$,q=this,M=W.length,I=q.renderer,L=!1,J=function(ee){var O,k,T=ee.box?0:ee.padding||0,w=O=0;if(ee&&(!ee.alignAttr||ee.placed)){var C=ee.alignAttr||{x:ee.attr("x"),y:ee.attr("y")},U=ee.parentGroup;return ee.width||(O=ee.getBBox(),ee.width=O.width,ee.height=O.height,O=I.fontMetrics(null,ee.element).h),(k={left:"0",center:"0.5",right:"1"}[ee.alignValue])?w=+k*(ee.width-2*T):re(ee.x)&&Math.round(ee.x)!==ee.translateX&&(w=ee.x-ee.translateX),{x:C.x+(U.translateX||0)+T-(w||0),y:C.y+(U.translateY||0)+T-O,width:ee.width-2*T,height:ee.height-2*T}}};for(V=0;V<M;V++)(R=W[V])&&(R.oldOpacity=R.opacity,R.newOpacity=1,R.absoluteBox=J(R));for(W.sort(function(ee,O){return(O.labelrank||0)-(ee.labelrank||0)}),V=0;V<M;V++){var Y=(J=W[V])&&J.absoluteBox;for(R=V+1;R<M;++R){var se=($=W[R])&&$.absoluteBox;!Y||!se||J===$||0===J.newOpacity||0===$.newOpacity||se.x>=Y.x+Y.width||se.x+se.width<=Y.x||se.y>=Y.y+Y.height||se.y+se.height<=Y.y||((J.labelrank<$.labelrank?J:$).newOpacity=0)}}W.forEach(function(ee){ge(ee,q)&&(L=!0)}),L&&he(q,"afterHideAllOverlappingLabels")}}),Se(me,"Core/Responsive.js",[me["Core/Utilities.js"]],function(ae){var q,ce=ae.extend,ge=ae.find,xe=ae.isArray,he=ae.isObject,ie=ae.merge,re=ae.objectEach,B=ae.pick,Q=ae.splat,W=ae.uniqueKey;return function(M){var I=[];M.compose=function(V){return-1===I.indexOf(V)&&(I.push(V),ce(V.prototype,R.prototype)),V};var R=function(){function V(){}return V.prototype.currentOptions=function($){var J=this,Y={};return function L(se,ee,O,T){var w;re(se,function(k,C){if(!T&&-1<J.collectionsWithUpdate.indexOf(C)&&ee[C])for(k=Q(k),O[C]=[],w=0;w<Math.max(k.length,ee[C].length);w++)ee[C][w]&&(void 0===k[w]?O[C][w]=ee[C][w]:(O[C][w]={},L(k[w],ee[C][w],O[C][w],T+1)));else he(k)?(O[C]=xe(k)?[]:{},L(k,ee[C]||{},O[C],T+1)):O[C]=void 0===ee[C]?null:ee[C]})}($,this.options,Y,0),Y},V.prototype.matchResponsiveRule=function($,L){var J=$.condition;(J.callback||function(){return this.chartWidth<=B(J.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=B(J.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=B(J.minWidth,0)&&this.chartHeight>=B(J.minHeight,0)}).call(this)&&L.push($._id)},V.prototype.setResponsive=function($,L){var J=this,Y=this.options.responsive,se=this.currentResponsive,ee=[];!L&&Y&&Y.rules&&Y.rules.forEach(function(O){void 0===O._id&&(O._id=W()),J.matchResponsiveRule(O,ee)},this),(L=ie.apply(void 0,ee.map(function(O){return ge((Y||{}).rules||[],function(T){return T._id===O})}).map(function(O){return O&&O.chartOptions}))).isResponsiveOptions=!0,(ee=ee.toString()||void 0)!==(se&&se.ruleIds)&&(se&&this.update(se.undoOptions,$,!0),ee?((se=this.currentOptions(L)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:ee,mergedOptions:L,undoOptions:se},this.update(L,$,!0)):this.currentResponsive=void 0)},V}()}(q||(q={})),q}),Se(me,"masters/highcharts.src.js",[me["Core/Globals.js"],me["Core/Utilities.js"],me["Core/DefaultOptions.js"],me["Core/Animation/Fx.js"],me["Core/Animation/AnimationUtilities.js"],me["Core/Renderer/HTML/AST.js"],me["Core/FormatUtilities.js"],me["Core/Renderer/RendererUtilities.js"],me["Core/Renderer/SVG/SVGElement.js"],me["Core/Renderer/SVG/SVGRenderer.js"],me["Core/Renderer/HTML/HTMLElement.js"],me["Core/Renderer/HTML/HTMLRenderer.js"],me["Core/Axis/Axis.js"],me["Core/Axis/DateTimeAxis.js"],me["Core/Axis/LogarithmicAxis.js"],me["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],me["Core/Axis/Tick.js"],me["Core/Tooltip.js"],me["Core/Series/Point.js"],me["Core/Pointer.js"],me["Core/MSPointer.js"],me["Core/Legend/Legend.js"],me["Core/Chart/Chart.js"],me["Core/Series/Series.js"],me["Core/Series/SeriesRegistry.js"],me["Series/Column/ColumnSeries.js"],me["Series/Column/ColumnDataLabel.js"],me["Series/Pie/PieSeries.js"],me["Series/Pie/PieDataLabel.js"],me["Core/Series/DataLabel.js"],me["Core/Responsive.js"],me["Core/Color/Color.js"],me["Core/Time.js"]],function(ae,ce,ge,xe,he,ie,re,B,Q,W,q,M,I,R,V,$,L,J,Y,se,ee,O,T,w,k,C,U,j,S,H,oe,ve,pe){return ae.animate=he.animate,ae.animObject=he.animObject,ae.getDeferredAnimation=he.getDeferredAnimation,ae.setAnimation=he.setAnimation,ae.stop=he.stop,ae.timers=xe.timers,ae.AST=ie,ae.Axis=I,ae.Chart=T,ae.chart=T.chart,ae.Fx=xe,ae.Legend=O,ae.PlotLineOrBand=$,ae.Point=Y,ae.Pointer=ee.isRequired()?ee:se,ae.Series=w,ae.SVGElement=Q,ae.SVGRenderer=W,ae.Tick=L,ae.Time=pe,ae.Tooltip=J,ae.Color=ve,ae.color=ve.parse,M.compose(W),q.compose(Q),ae.defaultOptions=ge.defaultOptions,ae.getOptions=ge.getOptions,ae.time=ge.defaultTime,ae.setOptions=ge.setOptions,ae.dateFormat=re.dateFormat,ae.format=re.format,ae.numberFormat=re.numberFormat,ae.addEvent=ce.addEvent,ae.arrayMax=ce.arrayMax,ae.arrayMin=ce.arrayMin,ae.attr=ce.attr,ae.clearTimeout=ce.clearTimeout,ae.correctFloat=ce.correctFloat,ae.createElement=ce.createElement,ae.css=ce.css,ae.defined=ce.defined,ae.destroyObjectProperties=ce.destroyObjectProperties,ae.discardElement=ce.discardElement,ae.distribute=B.distribute,ae.erase=ce.erase,ae.error=ce.error,ae.extend=ce.extend,ae.extendClass=ce.extendClass,ae.find=ce.find,ae.fireEvent=ce.fireEvent,ae.getMagnitude=ce.getMagnitude,ae.getStyle=ce.getStyle,ae.inArray=ce.inArray,ae.isArray=ce.isArray,ae.isClass=ce.isClass,ae.isDOMElement=ce.isDOMElement,ae.isFunction=ce.isFunction,ae.isNumber=ce.isNumber,ae.isObject=ce.isObject,ae.isString=ce.isString,ae.keys=ce.keys,ae.merge=ce.merge,ae.normalizeTickInterval=ce.normalizeTickInterval,ae.objectEach=ce.objectEach,ae.offset=ce.offset,ae.pad=ce.pad,ae.pick=ce.pick,ae.pInt=ce.pInt,ae.relativeLength=ce.relativeLength,ae.removeEvent=ce.removeEvent,ae.seriesType=k.seriesType,ae.splat=ce.splat,ae.stableSort=ce.stableSort,ae.syncTimeout=ce.syncTimeout,ae.timeUnits=ce.timeUnits,ae.uniqueKey=ce.uniqueKey,ae.useSerialIds=ce.useSerialIds,ae.wrap=ce.wrap,U.compose(C),H.compose(w),R.compose(I),V.compose(I),S.compose(j),$.compose(I),oe.compose(T),ae}),me["masters/highcharts.src.js"]._modules=me,me["masters/highcharts.src.js"]},Nt.exports?(Se.default=Se,Nt.exports=Je.document?Se(Je):Se):void 0!==(c=function(){return Se(Je)}.call(gt,Fe,gt,Nt))&&(Nt.exports=c)},6676:function(Nt,gt){!function(Fe){"use strict";function c(I){return Array.prototype.slice.call(I)}function Je(I){return new Promise(function(R,V){I.onsuccess=function(){R(I.result)},I.onerror=function(){V(I.error)}})}function Se(I,R,V){var $,L=new Promise(function(J,Y){Je($=I[R].apply(I,V)).then(J,Y)});return L.request=$,L}function me(I,R,V){var $=Se(I,R,V);return $.then(function(L){if(L)return new ie(L,$.request)})}function ae(I,R,V){V.forEach(function($){Object.defineProperty(I.prototype,$,{get:function(){return this[R][$]},set:function(L){this[R][$]=L}})})}function ce(I,R,V,$){$.forEach(function(L){L in V.prototype&&(I.prototype[L]=function(){return Se(this[R],L,arguments)})})}function ge(I,R,V,$){$.forEach(function(L){L in V.prototype&&(I.prototype[L]=function(){return this[R][L].apply(this[R],arguments)})})}function xe(I,R,V,$){$.forEach(function(L){L in V.prototype&&(I.prototype[L]=function(){return me(this[R],L,arguments)})})}function he(I){this._index=I}function ie(I,R){this._cursor=I,this._request=R}function re(I){this._store=I}function B(I){this._tx=I,this.complete=new Promise(function(R,V){I.oncomplete=function(){R()},I.onerror=function(){V(I.error)},I.onabort=function(){V(I.error)}})}function Q(I,R,V){this._db=I,this.oldVersion=R,this.transaction=new B(V)}function W(I){this._db=I}ae(he,"_index",["name","keyPath","multiEntry","unique"]),ce(he,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),xe(he,"_index",IDBIndex,["openCursor","openKeyCursor"]),ae(ie,"_cursor",["direction","key","primaryKey","value"]),ce(ie,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(I){I in IDBCursor.prototype&&(ie.prototype[I]=function(){var R=this,V=arguments;return Promise.resolve().then(function(){return R._cursor[I].apply(R._cursor,V),Je(R._request).then(function($){if($)return new ie($,R._request)})})})}),re.prototype.createIndex=function(){return new he(this._store.createIndex.apply(this._store,arguments))},re.prototype.index=function(){return new he(this._store.index.apply(this._store,arguments))},ae(re,"_store",["name","keyPath","indexNames","autoIncrement"]),ce(re,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),xe(re,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ge(re,"_store",IDBObjectStore,["deleteIndex"]),B.prototype.objectStore=function(){return new re(this._tx.objectStore.apply(this._tx,arguments))},ae(B,"_tx",["objectStoreNames","mode"]),ge(B,"_tx",IDBTransaction,["abort"]),Q.prototype.createObjectStore=function(){return new re(this._db.createObjectStore.apply(this._db,arguments))},ae(Q,"_db",["name","version","objectStoreNames"]),ge(Q,"_db",IDBDatabase,["deleteObjectStore","close"]),W.prototype.transaction=function(){return new B(this._db.transaction.apply(this._db,arguments))},ae(W,"_db",["name","version","objectStoreNames"]),ge(W,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(I){[re,he].forEach(function(R){I in R.prototype&&(R.prototype[I.replace("open","iterate")]=function(){var V=c(arguments),$=V[V.length-1],L=this._store||this._index,J=L[I].apply(L,V.slice(0,-1));J.onsuccess=function(){$(J.result)}})})}),[he,re].forEach(function(I){I.prototype.getAll||(I.prototype.getAll=function(R,V){var $=this,L=[];return new Promise(function(J){$.iterateCursor(R,function(Y){Y?(L.push(Y.value),void 0===V||L.length!=V?Y.continue():J(L)):J(L)})})})}),Fe.openDb=function(I,R,V){var $=Se(indexedDB,"open",[I,R]),L=$.request;return L&&(L.onupgradeneeded=function(J){V&&V(new Q(L.result,J.oldVersion,L.transaction))}),$.then(function(J){return new W(J)})},Fe.deleteDb=function(I){return Se(indexedDB,"deleteDatabase",[I])},Object.defineProperty(Fe,"__esModule",{value:!0})}(gt)},7574:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{y:()=>re});var c=Fe(7393),Se=Fe(9181),me=Fe(6490),ce=Fe(6554),ge=Fe(4487);var ie=Fe(2494);let re=(()=>{class Q{constructor(q){this._isScalar=!1,q&&(this._subscribe=q)}lift(q){const M=new Q;return M.source=this,M.operator=q,M}subscribe(q,M,I){const{operator:R}=this,V=function(Q,W,q){if(Q){if(Q instanceof c.L)return Q;if(Q[Se.b])return Q[Se.b]()}return Q||W||q?new c.L(Q,W,q):new c.L(me.c)}(q,M,I);if(V.add(R?R.call(V,this.source):this.source||ie.v.useDeprecatedSynchronousErrorHandling&&!V.syncErrorThrowable?this._subscribe(V):this._trySubscribe(V)),ie.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable&&(V.syncErrorThrowable=!1,V.syncErrorThrown))throw V.syncErrorValue;return V}_trySubscribe(q){try{return this._subscribe(q)}catch(M){ie.v.useDeprecatedSynchronousErrorHandling&&(q.syncErrorThrown=!0,q.syncErrorValue=M),function(Q){for(;Q;){const{closed:W,destination:q,isStopped:M}=Q;if(W||M)return!1;Q=q&&q instanceof c.L?q:null}return!0}(q)?q.error(M):console.warn(M)}}forEach(q,M){return new(M=B(M))((I,R)=>{let V;V=this.subscribe($=>{try{q($)}catch(L){R(L),V&&V.unsubscribe()}},R,I)})}_subscribe(q){const{source:M}=this;return M&&M.subscribe(q)}[ce.L](){return this}pipe(...q){return 0===q.length?this:function(Q){return 0===Q.length?ge.y:1===Q.length?Q[0]:function(q){return Q.reduce((M,I)=>I(M),q)}}(q)(this)}toPromise(q){return new(q=B(q))((M,I)=>{let R;this.subscribe(V=>R=V,V=>I(V),()=>M(R))})}}return Q.create=W=>new Q(W),Q})();function B(Q){if(Q||(Q=ie.v.Promise||Promise),!Q)throw new Error("no Promise impl found");return Q}},6490:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{c:()=>Se});var c=Fe(2494),Je=Fe(4449);const Se={closed:!0,next(me){},error(me){if(c.v.useDeprecatedSynchronousErrorHandling)throw me;(0,Je.z)(me)},complete(){}}},9765:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{Yc:()=>ge,xQ:()=>xe});var c=Fe(7574),Je=Fe(7393),Se=Fe(5319),me=Fe(7971),ae=Fe(8858),ce=Fe(9181);class ge extends Je.L{constructor(re){super(re),this.destination=re}}let xe=(()=>{class ie extends c.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ce.b](){return new ge(this)}lift(B){const Q=new he(this,this);return Q.operator=B,Q}next(B){if(this.closed)throw new me.N;if(!this.isStopped){const{observers:Q}=this,W=Q.length,q=Q.slice();for(let M=0;M<W;M++)q[M].next(B)}}error(B){if(this.closed)throw new me.N;this.hasError=!0,this.thrownError=B,this.isStopped=!0;const{observers:Q}=this,W=Q.length,q=Q.slice();for(let M=0;M<W;M++)q[M].error(B);this.observers.length=0}complete(){if(this.closed)throw new me.N;this.isStopped=!0;const{observers:B}=this,Q=B.length,W=B.slice();for(let q=0;q<Q;q++)W[q].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(B){if(this.closed)throw new me.N;return super._trySubscribe(B)}_subscribe(B){if(this.closed)throw new me.N;return this.hasError?(B.error(this.thrownError),Se.w.EMPTY):this.isStopped?(B.complete(),Se.w.EMPTY):(this.observers.push(B),new ae.W(this,B))}asObservable(){const B=new c.y;return B.source=this,B}}return ie.create=(re,B)=>new he(re,B),ie})();class he extends xe{constructor(re,B){super(),this.destination=re,this.source=B}next(re){const{destination:B}=this;B&&B.next&&B.next(re)}error(re){const{destination:B}=this;B&&B.error&&this.destination.error(re)}complete(){const{destination:re}=this;re&&re.complete&&this.destination.complete()}_subscribe(re){const{source:B}=this;return B?this.source.subscribe(re):Se.w.EMPTY}}},8858:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{W:()=>Je});var c=Fe(5319);class Je extends c.w{constructor(me,ae){super(),this.subject=me,this.subscriber=ae,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const me=this.subject,ae=me.observers;if(this.subject=null,!ae||0===ae.length||me.isStopped||me.closed)return;const ce=ae.indexOf(this.subscriber);-1!==ce&&ae.splice(ce,1)}}},7393:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{L:()=>ge});var c=Fe(9105),Je=Fe(6490),Se=Fe(5319),me=Fe(9181),ae=Fe(2494),ce=Fe(4449);class ge extends Se.w{constructor(ie,re,B){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Je.c;break;case 1:if(!ie){this.destination=Je.c;break}if("object"==typeof ie){ie instanceof ge?(this.syncErrorThrowable=ie.syncErrorThrowable,this.destination=ie,ie.add(this)):(this.syncErrorThrowable=!0,this.destination=new xe(this,ie));break}default:this.syncErrorThrowable=!0,this.destination=new xe(this,ie,re,B)}}[me.b](){return this}static create(ie,re,B){const Q=new ge(ie,re,B);return Q.syncErrorThrowable=!1,Q}next(ie){this.isStopped||this._next(ie)}error(ie){this.isStopped||(this.isStopped=!0,this._error(ie))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(ie){this.destination.next(ie)}_error(ie){this.destination.error(ie),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:ie}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=ie,this}}class xe extends ge{constructor(ie,re,B,Q){super(),this._parentSubscriber=ie;let W,q=this;(0,c.m)(re)?W=re:re&&(W=re.next,B=re.error,Q=re.complete,re!==Je.c&&(q=Object.create(re),(0,c.m)(q.unsubscribe)&&this.add(q.unsubscribe.bind(q)),q.unsubscribe=this.unsubscribe.bind(this))),this._context=q,this._next=W,this._error=B,this._complete=Q}next(ie){if(!this.isStopped&&this._next){const{_parentSubscriber:re}=this;ae.v.useDeprecatedSynchronousErrorHandling&&re.syncErrorThrowable?this.__tryOrSetError(re,this._next,ie)&&this.unsubscribe():this.__tryOrUnsub(this._next,ie)}}error(ie){if(!this.isStopped){const{_parentSubscriber:re}=this,{useDeprecatedSynchronousErrorHandling:B}=ae.v;if(this._error)B&&re.syncErrorThrowable?(this.__tryOrSetError(re,this._error,ie),this.unsubscribe()):(this.__tryOrUnsub(this._error,ie),this.unsubscribe());else if(re.syncErrorThrowable)B?(re.syncErrorValue=ie,re.syncErrorThrown=!0):(0,ce.z)(ie),this.unsubscribe();else{if(this.unsubscribe(),B)throw ie;(0,ce.z)(ie)}}}complete(){if(!this.isStopped){const{_parentSubscriber:ie}=this;if(this._complete){const re=()=>this._complete.call(this._context);ae.v.useDeprecatedSynchronousErrorHandling&&ie.syncErrorThrowable?(this.__tryOrSetError(ie,re),this.unsubscribe()):(this.__tryOrUnsub(re),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(ie,re){try{ie.call(this._context,re)}catch(B){if(this.unsubscribe(),ae.v.useDeprecatedSynchronousErrorHandling)throw B;(0,ce.z)(B)}}__tryOrSetError(ie,re,B){if(!ae.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{re.call(this._context,B)}catch(Q){return ae.v.useDeprecatedSynchronousErrorHandling?(ie.syncErrorValue=Q,ie.syncErrorThrown=!0,!0):((0,ce.z)(Q),!0)}return!1}_unsubscribe(){const{_parentSubscriber:ie}=this;this._context=null,this._parentSubscriber=null,ie.unsubscribe()}}},5319:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{w:()=>ce});var c=Fe(9796),Je=Fe(1555),Se=Fe(9105);const ae=(()=>{function xe(he){return Error.call(this),this.message=he?`${he.length} errors occurred during unsubscription:\n${he.map((ie,re)=>`${re+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=he,this}return xe.prototype=Object.create(Error.prototype),xe})();class ce{constructor(he){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,he&&(this._ctorUnsubscribe=!0,this._unsubscribe=he)}unsubscribe(){let he;if(this.closed)return;let{_parentOrParents:ie,_ctorUnsubscribe:re,_unsubscribe:B,_subscriptions:Q}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,ie instanceof ce)ie.remove(this);else if(null!==ie)for(let W=0;W<ie.length;++W)ie[W].remove(this);if((0,Se.m)(B)){re&&(this._unsubscribe=void 0);try{B.call(this)}catch(W){he=W instanceof ae?ge(W.errors):[W]}}if((0,c.k)(Q)){let W=-1,q=Q.length;for(;++W<q;){const M=Q[W];if((0,Je.K)(M))try{M.unsubscribe()}catch(I){he=he||[],I instanceof ae?he=he.concat(ge(I.errors)):he.push(I)}}}if(he)throw new ae(he)}add(he){let ie=he;if(!he)return ce.EMPTY;switch(typeof he){case"function":ie=new ce(he);case"object":if(ie===this||ie.closed||"function"!=typeof ie.unsubscribe)return ie;if(this.closed)return ie.unsubscribe(),ie;if(!(ie instanceof ce)){const Q=ie;ie=new ce,ie._subscriptions=[Q]}break;default:throw new Error("unrecognized teardown "+he+" added to Subscription.")}let{_parentOrParents:re}=ie;if(null===re)ie._parentOrParents=this;else if(re instanceof ce){if(re===this)return ie;ie._parentOrParents=[re,this]}else{if(-1!==re.indexOf(this))return ie;re.push(this)}const B=this._subscriptions;return null===B?this._subscriptions=[ie]:B.push(ie),ie}remove(he){const ie=this._subscriptions;if(ie){const re=ie.indexOf(he);-1!==re&&ie.splice(re,1)}}}var xe;function ge(xe){return xe.reduce((he,ie)=>he.concat(ie instanceof ae?ie.errors:ie),[])}ce.EMPTY=((xe=new ce).closed=!0,xe)},2494:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{v:()=>Je});let c=!1;const Je={Promise:void 0,set useDeprecatedSynchronousErrorHandling(Se){if(Se){const me=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+me.stack)}else c&&console.log("RxJS: Back to a better error behavior. Thank you. <3");c=Se},get useDeprecatedSynchronousErrorHandling(){return c}}},5345:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{IY:()=>me,Ds:()=>ce,ft:()=>xe});var c=Fe(7393),Je=Fe(7574),Se=Fe(7444);class me extends c.L{constructor(ie){super(),this.parent=ie}_next(ie){this.parent.notifyNext(ie)}_error(ie){this.parent.notifyError(ie),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ce extends c.L{notifyNext(ie){this.destination.next(ie)}notifyError(ie){this.destination.error(ie)}notifyComplete(){this.destination.complete()}}function xe(he,ie){if(ie.closed)return;if(he instanceof Je.y)return he.subscribe(ie);let re;try{re=(0,Se.s)(he)(ie)}catch(B){ie.error(B)}return re}},2441:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{c:()=>ae,N:()=>ce});var c=Fe(9765),Je=Fe(7574),Se=Fe(5319),me=Fe(1307);class ae extends Je.y{constructor(re,B){super(),this.source=re,this.subjectFactory=B,this._refCount=0,this._isComplete=!1}_subscribe(re){return this.getSubject().subscribe(re)}getSubject(){const re=this._subject;return(!re||re.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let re=this._connection;return re||(this._isComplete=!1,re=this._connection=new Se.w,re.add(this.source.subscribe(new ge(this.getSubject(),this))),re.closed&&(this._connection=null,re=Se.w.EMPTY)),re}refCount(){return(0,me.x)()(this)}}const ce=(()=>{const ie=ae.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ie._subscribe},_isComplete:{value:ie._isComplete,writable:!0},getSubject:{value:ie.getSubject},connect:{value:ie.connect},refCount:{value:ie.refCount}}})();class ge extends c.Yc{constructor(re,B){super(re),this.connectable=B}_error(re){this._unsubscribe(),super._error(re)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const re=this.connectable;if(re){this.connectable=null;const B=re._connection;re._refCount=0,re._subject=null,re._connection=null,B&&B.unsubscribe()}}}},9193:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{E:()=>Je,c:()=>Se});var c=Fe(7574);const Je=new c.y(ae=>ae.complete());function Se(ae){return ae?function(ae){return new c.y(ce=>ae.schedule(()=>ce.complete()))}(ae):Je}},4402:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{D:()=>q});var c=Fe(7574),Je=Fe(7444),Se=Fe(5319),me=Fe(6554),ge=Fe(4087),xe=Fe(377),re=Fe(4072),B=Fe(9489);function q(M,I){return I?function(M,I){if(null!=M){if(function(M){return M&&"function"==typeof M[me.L]}(M))return function(M,I){return new c.y(R=>{const V=new Se.w;return V.add(I.schedule(()=>{const $=M[me.L]();V.add($.subscribe({next(L){V.add(I.schedule(()=>R.next(L)))},error(L){V.add(I.schedule(()=>R.error(L)))},complete(){V.add(I.schedule(()=>R.complete()))}}))})),V})}(M,I);if((0,re.t)(M))return function(M,I){return new c.y(R=>{const V=new Se.w;return V.add(I.schedule(()=>M.then($=>{V.add(I.schedule(()=>{R.next($),V.add(I.schedule(()=>R.complete()))}))},$=>{V.add(I.schedule(()=>R.error($)))}))),V})}(M,I);if((0,B.z)(M))return(0,ge.r)(M,I);if(function(M){return M&&"function"==typeof M[xe.hZ]}(M)||"string"==typeof M)return function(M,I){if(!M)throw new Error("Iterable cannot be null");return new c.y(R=>{const V=new Se.w;let $;return V.add(()=>{$&&"function"==typeof $.return&&$.return()}),V.add(I.schedule(()=>{$=M[xe.hZ](),V.add(I.schedule(function(){if(R.closed)return;let L,J;try{const Y=$.next();L=Y.value,J=Y.done}catch(Y){return void R.error(Y)}J?R.complete():(R.next(L),this.schedule())}))})),V})}(M,I)}throw new TypeError((null!==M&&typeof M||M)+" is not observable")}(M,I):M instanceof c.y?M:new c.y((0,Je.s)(M))}},6693:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{n:()=>me});var c=Fe(7574),Je=Fe(5015),Se=Fe(4087);function me(ae,ce){return ce?(0,Se.r)(ae,ce):new c.y((0,Je.V)(ae))}},6682:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{T:()=>ae});var c=Fe(7574),Je=Fe(4869),Se=Fe(3282),me=Fe(6693);function ae(...ce){let ge=Number.POSITIVE_INFINITY,xe=null,he=ce[ce.length-1];return(0,Je.K)(he)?(xe=ce.pop(),ce.length>1&&"number"==typeof ce[ce.length-1]&&(ge=ce.pop())):"number"==typeof he&&(ge=ce.pop()),null===xe&&1===ce.length&&ce[0]instanceof c.y?ce[0]:(0,Se.J)(ge)((0,me.n)(ce,xe))}},5917:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{of:()=>me});var c=Fe(4869),Je=Fe(6693),Se=Fe(4087);function me(...ae){let ce=ae[ae.length-1];return(0,c.K)(ce)?(ae.pop(),(0,Se.r)(ae,ce)):(0,Je.n)(ae)}},205:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{_:()=>Je});var c=Fe(7574);function Je(me,ae){return new c.y(ae?ce=>ae.schedule(Se,0,{error:me,subscriber:ce}):ce=>ce.error(me))}function Se({error:me,subscriber:ae}){ae.error(me)}},8002:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{U:()=>Je});var c=Fe(7393);function Je(ae,ce){return function(xe){if("function"!=typeof ae)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return xe.lift(new Se(ae,ce))}}class Se{constructor(ce,ge){this.project=ce,this.thisArg=ge}call(ce,ge){return ge.subscribe(new me(ce,this.project,this.thisArg))}}class me extends c.L{constructor(ce,ge,xe){super(ce),this.project=ge,this.count=0,this.thisArg=xe||this}_next(ce){let ge;try{ge=this.project.call(this.thisArg,ce,this.count++)}catch(xe){return void this.destination.error(xe)}this.destination.next(ge)}}},3282:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{J:()=>Se});var c=Fe(9773),Je=Fe(4487);function Se(me=Number.POSITIVE_INFINITY){return(0,c.zg)(Je.y,me)}},9773:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{zg:()=>me});var c=Fe(8002),Je=Fe(4402),Se=Fe(5345);function me(xe,he,ie=Number.POSITIVE_INFINITY){return"function"==typeof he?re=>re.pipe(me((B,Q)=>(0,Je.D)(xe(B,Q)).pipe((0,c.U)((W,q)=>he(B,W,Q,q))),ie)):("number"==typeof he&&(ie=he),re=>re.lift(new ae(xe,ie)))}class ae{constructor(he,ie=Number.POSITIVE_INFINITY){this.project=he,this.concurrent=ie}call(he,ie){return ie.subscribe(new ce(he,this.project,this.concurrent))}}class ce extends Se.Ds{constructor(he,ie,re=Number.POSITIVE_INFINITY){super(he),this.project=ie,this.concurrent=re,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(he){this.active<this.concurrent?this._tryNext(he):this.buffer.push(he)}_tryNext(he){let ie;const re=this.index++;try{ie=this.project(he,re)}catch(B){return void this.destination.error(B)}this.active++,this._innerSub(ie)}_innerSub(he){const ie=new Se.IY(this),re=this.destination;re.add(ie);const B=(0,Se.ft)(he,ie);B!==ie&&re.add(B)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(he){this.destination.next(he)}notifyComplete(){const he=this.buffer;this.active--,he.length>0?this._next(he.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{ht:()=>he,QV:()=>ge});var c=Fe(7393),Je=Fe(9193),Se=Fe(5917),me=Fe(205);class ce{constructor(B,Q,W){this.kind=B,this.value=Q,this.error=W,this.hasValue="N"===B}observe(B){switch(this.kind){case"N":return B.next&&B.next(this.value);case"E":return B.error&&B.error(this.error);case"C":return B.complete&&B.complete()}}do(B,Q,W){switch(this.kind){case"N":return B&&B(this.value);case"E":return Q&&Q(this.error);case"C":return W&&W()}}accept(B,Q,W){return B&&"function"==typeof B.next?this.observe(B):this.do(B,Q,W)}toObservable(){switch(this.kind){case"N":return(0,Se.of)(this.value);case"E":return(0,me._)(this.error);case"C":return(0,Je.c)()}throw new Error("unexpected notification kind value")}static createNext(B){return void 0!==B?new ce("N",B):ce.undefinedValueNotification}static createError(B){return new ce("E",void 0,B)}static createComplete(){return ce.completeNotification}}function ge(re,B=0){return function(W){return W.lift(new xe(re,B))}}ce.completeNotification=new ce("C"),ce.undefinedValueNotification=new ce("N",void 0);class xe{constructor(B,Q=0){this.scheduler=B,this.delay=Q}call(B,Q){return Q.subscribe(new he(B,this.scheduler,this.delay))}}class he extends c.L{constructor(B,Q,W=0){super(B),this.scheduler=Q,this.delay=W}static dispatch(B){const{notification:Q,destination:W}=B;Q.observe(W),this.unsubscribe()}scheduleMessage(B){this.destination.add(this.scheduler.schedule(he.dispatch,this.delay,new ie(B,this.destination)))}_next(B){this.scheduleMessage(ce.createNext(B))}_error(B){this.scheduleMessage(ce.createError(B)),this.unsubscribe()}_complete(){this.scheduleMessage(ce.createComplete()),this.unsubscribe()}}class ie{constructor(B,Q){this.notification=B,this.destination=Q}}},1307:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{x:()=>Je});var c=Fe(7393);function Je(){return function(ce){return ce.lift(new Se(ce))}}class Se{constructor(ce){this.connectable=ce}call(ce,ge){const{connectable:xe}=this;xe._refCount++;const he=new me(ce,xe),ie=ge.subscribe(he);return he.closed||(he.connection=xe.connect()),ie}}class me extends c.L{constructor(ce,ge){super(ce),this.connectable=ge}_unsubscribe(){const{connectable:ce}=this;if(!ce)return void(this.connection=null);this.connectable=null;const ge=ce._refCount;if(ge<=0)return void(this.connection=null);if(ce._refCount=ge-1,ge>1)return void(this.connection=null);const{connection:xe}=this,he=ce._connection;this.connection=null,he&&(!xe||he===xe)&&he.unsubscribe()}}},8819:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{B:()=>ge});var c=Fe(2441);var me=Fe(1307),ae=Fe(9765);function ce(){return new ae.xQ}function ge(){return xe=>(0,me.x)()(function(xe,he){return function(re){let B;B="function"==typeof xe?xe:function(){return xe};const Q=Object.create(re,c.N);return Q.source=re,Q.subjectFactory=B,Q}}(ce)(xe))}},9673:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{R:()=>ae});var c=Fe(7574),Je=Fe(4581),Se=Fe(6561);class me extends c.y{constructor(xe,he=0,ie=Je.e){super(),this.source=xe,this.delayTime=he,this.scheduler=ie,(!(0,Se.k)(he)||he<0)&&(this.delayTime=0),(!ie||"function"!=typeof ie.schedule)&&(this.scheduler=Je.e)}static create(xe,he=0,ie=Je.e){return new me(xe,he,ie)}static dispatch(xe){const{source:he,subscriber:ie}=xe;return this.add(he.subscribe(ie))}_subscribe(xe){return this.scheduler.schedule(me.dispatch,this.delayTime,{source:this.source,subscriber:xe})}}function ae(ge,xe=0){return function(ie){return ie.lift(new ce(ge,xe))}}class ce{constructor(xe,he){this.scheduler=xe,this.delay=he}call(xe,he){return new me(he,this.delay,this.scheduler).subscribe(xe)}}},3342:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{b:()=>me});var c=Fe(7393);function Je(){}var Se=Fe(9105);function me(ge,xe,he){return function(re){return re.lift(new ae(ge,xe,he))}}class ae{constructor(xe,he,ie){this.nextOrObserver=xe,this.error=he,this.complete=ie}call(xe,he){return he.subscribe(new ce(xe,this.nextOrObserver,this.error,this.complete))}}class ce extends c.L{constructor(xe,he,ie,re){super(xe),this._tapNext=Je,this._tapError=Je,this._tapComplete=Je,this._tapError=ie||Je,this._tapComplete=re||Je,(0,Se.m)(he)?(this._context=this,this._tapNext=he):he&&(this._context=he,this._tapNext=he.next||Je,this._tapError=he.error||Je,this._tapComplete=he.complete||Je)}_next(xe){try{this._tapNext.call(this._context,xe)}catch(he){return void this.destination.error(he)}this.destination.next(xe)}_error(xe){try{this._tapError.call(this._context,xe)}catch(he){return void this.destination.error(he)}this.destination.error(xe)}_complete(){try{this._tapComplete.call(this._context)}catch(xe){return void this.destination.error(xe)}return this.destination.complete()}}},4087:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{r:()=>Se});var c=Fe(7574),Je=Fe(5319);function Se(me,ae){return new c.y(ce=>{const ge=new Je.w;let xe=0;return ge.add(ae.schedule(function(){xe!==me.length?(ce.next(me[xe++]),ce.closed||ge.add(this.schedule())):ce.complete()})),ge})}},6465:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{o:()=>Se});var c=Fe(5319);class Je extends c.w{constructor(ae,ce){super()}schedule(ae,ce=0){return this}}class Se extends Je{constructor(ae,ce){super(ae,ce),this.scheduler=ae,this.work=ce,this.pending=!1}schedule(ae,ce=0){if(this.closed)return this;this.state=ae;const ge=this.id,xe=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(xe,ge,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(xe,this.id,ce),this}requestAsyncId(ae,ce,ge=0){return setInterval(ae.flush.bind(ae,this),ge)}recycleAsyncId(ae,ce,ge=0){if(null!==ge&&this.delay===ge&&!1===this.pending)return ce;clearInterval(ce)}execute(ae,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(ae,ce);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,ce){let xe,ge=!1;try{this.work(ae)}catch(he){ge=!0,xe=!!he&&he||new Error(he)}if(ge)return this.unsubscribe(),xe}_unsubscribe(){const ae=this.id,ce=this.scheduler,ge=ce.actions,xe=ge.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==xe&&ge.splice(xe,1),null!=ae&&(this.id=this.recycleAsyncId(ce,ae,null)),this.delay=null}}},6102:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{v:()=>Je});let c=(()=>{class Se{constructor(ae,ce=Se.now){this.SchedulerAction=ae,this.now=ce}schedule(ae,ce=0,ge){return new this.SchedulerAction(this,ae).schedule(ge,ce)}}return Se.now=()=>Date.now(),Se})();class Je extends c{constructor(me,ae=c.now){super(me,()=>Je.delegate&&Je.delegate!==this?Je.delegate.now():ae()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(me,ae=0,ce){return Je.delegate&&Je.delegate!==this?Je.delegate.schedule(me,ae,ce):super.schedule(me,ae,ce)}flush(me){const{actions:ae}=this;if(this.active)return void ae.push(me);let ce;this.active=!0;do{if(ce=me.execute(me.state,me.delay))break}while(me=ae.shift());if(this.active=!1,ce){for(;me=ae.shift();)me.unsubscribe();throw ce}}}},4581:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{e:()=>B,E:()=>re});let c=1;const Je=Promise.resolve(),Se={};function me(Q){return Q in Se&&(delete Se[Q],!0)}const ae={setImmediate(Q){const W=c++;return Se[W]=!0,Je.then(()=>me(W)&&Q()),W},clearImmediate(Q){me(Q)}};var ge=Fe(6465),he=Fe(6102);const re=new class extends he.v{flush(W){this.active=!0,this.scheduled=void 0;const{actions:q}=this;let M,I=-1,R=q.length;W=W||q.shift();do{if(M=W.execute(W.state,W.delay))break}while(++I<R&&(W=q.shift()));if(this.active=!1,M){for(;++I<R&&(W=q.shift());)W.unsubscribe();throw M}}}(class extends ge.o{constructor(W,q){super(W,q),this.scheduler=W,this.work=q}requestAsyncId(W,q,M=0){return null!==M&&M>0?super.requestAsyncId(W,q,M):(W.actions.push(this),W.scheduled||(W.scheduled=ae.setImmediate(W.flush.bind(W,null))))}recycleAsyncId(W,q,M=0){if(null!==M&&M>0||null===M&&this.delay>0)return super.recycleAsyncId(W,q,M);0===W.actions.length&&(ae.clearImmediate(q),W.scheduled=void 0)}}),B=re},3637:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{z:()=>Se,P:()=>me});var c=Fe(6465);const Se=new(Fe(6102).v)(c.o),me=Se},7771:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{c:()=>ce,N:()=>ae});var c=Fe(6465),Se=Fe(6102);const ae=new class extends Se.v{}(class extends c.o{constructor(xe,he){super(xe,he),this.scheduler=xe,this.work=he}schedule(xe,he=0){return he>0?super.schedule(xe,he):(this.delay=he,this.state=xe,this.scheduler.flush(this),this)}execute(xe,he){return he>0||this.closed?super.execute(xe,he):this._execute(xe,he)}requestAsyncId(xe,he,ie=0){return null!==ie&&ie>0||null===ie&&this.delay>0?super.requestAsyncId(xe,he,ie):xe.flush(this)}}),ce=ae},377:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{hZ:()=>Je});const Je="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{b:()=>c});const c="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{N:()=>Je});const Je=(()=>{function Se(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return Se.prototype=Object.create(Error.prototype),Se})()},4449:(Nt,gt,Fe)=>{"use strict";function c(Je){setTimeout(()=>{throw Je},0)}Fe.d(gt,{z:()=>c})},4487:(Nt,gt,Fe)=>{"use strict";function c(Je){return Je}Fe.d(gt,{y:()=>c})},9796:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{k:()=>c});const c=Array.isArray||(Je=>Je&&"number"==typeof Je.length)},9489:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{z:()=>c});const c=Je=>Je&&"number"==typeof Je.length&&"function"!=typeof Je},9105:(Nt,gt,Fe)=>{"use strict";function c(Je){return"function"==typeof Je}Fe.d(gt,{m:()=>c})},6561:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{k:()=>Je});var c=Fe(9796);function Je(Se){return!(0,c.k)(Se)&&Se-parseFloat(Se)+1>=0}},1555:(Nt,gt,Fe)=>{"use strict";function c(Je){return null!==Je&&"object"==typeof Je}Fe.d(gt,{K:()=>c})},4072:(Nt,gt,Fe)=>{"use strict";function c(Je){return!!Je&&"function"!=typeof Je.subscribe&&"function"==typeof Je.then}Fe.d(gt,{t:()=>c})},4869:(Nt,gt,Fe)=>{"use strict";function c(Je){return Je&&"function"==typeof Je.schedule}Fe.d(gt,{K:()=>c})},7444:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{s:()=>re});var c=Fe(5015),Je=Fe(4449),me=Fe(377),ce=Fe(6554),xe=Fe(9489),he=Fe(4072),ie=Fe(1555);const re=B=>{if(B&&"function"==typeof B[ce.L])return(B=>Q=>{const W=B[ce.L]();if("function"!=typeof W.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return W.subscribe(Q)})(B);if((0,xe.z)(B))return(0,c.V)(B);if((0,he.t)(B))return(B=>Q=>(B.then(W=>{Q.closed||(Q.next(W),Q.complete())},W=>Q.error(W)).then(null,Je.z),Q))(B);if(B&&"function"==typeof B[me.hZ])return(B=>Q=>{const W=B[me.hZ]();for(;;){let q;try{q=W.next()}catch(M){return Q.error(M),Q}if(q.done){Q.complete();break}if(Q.next(q.value),Q.closed)break}return"function"==typeof W.return&&Q.add(()=>{W.return&&W.return()}),Q})(B);{const W=`You provided ${(0,ie.K)(B)?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(W)}}},5015:(Nt,gt,Fe)=>{"use strict";Fe.d(gt,{V:()=>c});const c=Je=>Se=>{for(let me=0,ae=Je.length;me<ae&&!Se.closed;me++)Se.next(Je[me]);Se.complete()}},2935:(Nt,gt,Fe)=>{"use strict";var c=Fe(7716);let Je=null;function Se(){return Je}const ge=new c.OlP("DocumentToken");let xe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,c.Yz7)({factory:he,token:n,providedIn:"platform"}),n})();function he(){return(0,c.LFG)(re)}const ie=new c.OlP("Location Initialized");let re=(()=>{class n extends xe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Se().getBaseHref(this._doc)}onPopState(e){const i=Se().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Se().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){B()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){B()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ge))},n.\u0275prov=(0,c.Yz7)({factory:Q,token:n,providedIn:"platform"}),n})();function B(){return!!window.history.pushState}function Q(){return new re((0,c.LFG)(ge))}function W(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function q(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function M(n){return n&&"?"!==n[0]?"?"+n:n}let I=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,c.Yz7)({factory:R,token:n,providedIn:"root"}),n})();function R(n){const t=(0,c.LFG)(ge).location;return new $((0,c.LFG)(xe),t&&t.origin||"")}const V=new c.OlP("appBaseHref");let $=(()=>{class n extends I{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return W(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+M(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,a){const h=this.prepareExternalUrl(r+M(a));this._platformLocation.pushState(e,i,h)}replaceState(e,i,r,a){const h=this.prepareExternalUrl(r+M(a));this._platformLocation.replaceState(e,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(xe),c.LFG(V,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),L=(()=>{class n extends I{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=W(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,a){let h=this.prepareExternalUrl(r+M(a));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(e,i,h)}replaceState(e,i,r,a){let h=this.prepareExternalUrl(r+M(a));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(xe),c.LFG(V,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),J=(()=>{class n{constructor(e,i){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=q(ee(r)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+M(i))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,ee(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+M(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+M(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(I),c.LFG(xe))},n.normalizeQueryParams=M,n.joinWithSlash=W,n.stripTrailingSlash=q,n.\u0275prov=(0,c.Yz7)({factory:Y,token:n,providedIn:"root"}),n})();function Y(){return new J((0,c.LFG)(I),(0,c.LFG)(xe))}function ee(n){return n.replace(/\/index.html$/,"")}var w=(()=>((w=w||{})[w.Zero=0]="Zero",w[w.One=1]="One",w[w.Two=2]="Two",w[w.Few=3]="Few",w[w.Many=4]="Many",w[w.Other=5]="Other",w))(),k=(()=>((k=k||{})[k.Format=0]="Format",k[k.Standalone=1]="Standalone",k))(),C=(()=>((C=C||{})[C.Narrow=0]="Narrow",C[C.Abbreviated=1]="Abbreviated",C[C.Wide=2]="Wide",C[C.Short=3]="Short",C))(),U=(()=>((U=U||{})[U.Short=0]="Short",U[U.Medium=1]="Medium",U[U.Long=2]="Long",U[U.Full=3]="Full",U))(),j=(()=>((j=j||{})[j.Decimal=0]="Decimal",j[j.Group=1]="Group",j[j.List=2]="List",j[j.PercentSign=3]="PercentSign",j[j.PlusSign=4]="PlusSign",j[j.MinusSign=5]="MinusSign",j[j.Exponential=6]="Exponential",j[j.SuperscriptingExponent=7]="SuperscriptingExponent",j[j.PerMille=8]="PerMille",j[j.Infinity=9]="Infinity",j[j.NaN=10]="NaN",j[j.TimeSeparator=11]="TimeSeparator",j[j.CurrencyDecimal=12]="CurrencyDecimal",j[j.CurrencyGroup=13]="CurrencyGroup",j))();function P(n,t){return it((0,c.cg1)(n)[c.wAp.DateFormat],t)}function X(n,t){return it((0,c.cg1)(n)[c.wAp.TimeFormat],t)}function _e(n,t){return it((0,c.cg1)(n)[c.wAp.DateTimeFormat],t)}function ye(n,t){const e=(0,c.cg1)(n),i=e[c.wAp.NumberSymbols][t];if(void 0===i){if(t===j.CurrencyDecimal)return e[c.wAp.NumberSymbols][j.Decimal];if(t===j.CurrencyGroup)return e[c.wAp.NumberSymbols][j.Group]}return i}const Ce=c.kL8;function Le(n){if(!n[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function it(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function lt(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const fe=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ie={},Ve=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ze=(()=>((Ze=Ze||{})[Ze.Short=0]="Short",Ze[Ze.ShortGMT=1]="ShortGMT",Ze[Ze.Long=2]="Long",Ze[Ze.Extended=3]="Extended",Ze))(),je=(()=>((je=je||{})[je.FullYear=0]="FullYear",je[je.Month=1]="Month",je[je.Date=2]="Date",je[je.Hours=3]="Hours",je[je.Minutes=4]="Minutes",je[je.Seconds=5]="Seconds",je[je.FractionalSeconds=6]="FractionalSeconds",je[je.Day=7]="Day",je))(),et=(()=>((et=et||{})[et.DayPeriods=0]="DayPeriods",et[et.Days=1]="Days",et[et.Months=2]="Months",et[et.Eras=3]="Eras",et))();function mt(n,t,e,i){let r=function(n){if(Wc(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,a=1,h=1]=n.split("-").map(f=>+f);return It(r,a-1,h)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(fe))return function(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,a=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const h=Number(n[4]||0)-e,f=Number(n[5]||0)-i,m=Number(n[6]||0),b=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(t,h,f,m,b),t}(i)}const t=new Date(n);if(!Wc(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Lt(e,t)||t;let f,h=[];for(;t;){if(f=Ve.exec(t),!f){h.push(t);break}{h=h.concat(f.slice(1));const F=h.pop();if(!F)break;t=F}}let m=r.getTimezoneOffset();i&&(m=Cr(i,m),r=function(n,t,e){const r=n.getTimezoneOffset();return function(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,-1*(Cr(t,r)-r))}(r,i));let b="";return h.forEach(F=>{const K=function(n){if(An[n])return An[n];let t;switch(n){case"G":case"GG":case"GGG":t=He(et.Eras,C.Abbreviated);break;case"GGGG":t=He(et.Eras,C.Wide);break;case"GGGGG":t=He(et.Eras,C.Narrow);break;case"y":t=We(je.FullYear,1,0,!1,!0);break;case"yy":t=We(je.FullYear,2,0,!0,!0);break;case"yyy":t=We(je.FullYear,3,0,!1,!0);break;case"yyyy":t=We(je.FullYear,4,0,!1,!0);break;case"Y":t=ti(1);break;case"YY":t=ti(2,!0);break;case"YYY":t=ti(3);break;case"YYYY":t=ti(4);break;case"M":case"L":t=We(je.Month,1,1);break;case"MM":case"LL":t=We(je.Month,2,1);break;case"MMM":t=He(et.Months,C.Abbreviated);break;case"MMMM":t=He(et.Months,C.Wide);break;case"MMMMM":t=He(et.Months,C.Narrow);break;case"LLL":t=He(et.Months,C.Abbreviated,k.Standalone);break;case"LLLL":t=He(et.Months,C.Wide,k.Standalone);break;case"LLLLL":t=He(et.Months,C.Narrow,k.Standalone);break;case"w":t=_n(1);break;case"ww":t=_n(2);break;case"W":t=_n(1,!0);break;case"d":t=We(je.Date,1);break;case"dd":t=We(je.Date,2);break;case"c":case"cc":t=We(je.Day,1);break;case"ccc":t=He(et.Days,C.Abbreviated,k.Standalone);break;case"cccc":t=He(et.Days,C.Wide,k.Standalone);break;case"ccccc":t=He(et.Days,C.Narrow,k.Standalone);break;case"cccccc":t=He(et.Days,C.Short,k.Standalone);break;case"E":case"EE":case"EEE":t=He(et.Days,C.Abbreviated);break;case"EEEE":t=He(et.Days,C.Wide);break;case"EEEEE":t=He(et.Days,C.Narrow);break;case"EEEEEE":t=He(et.Days,C.Short);break;case"a":case"aa":case"aaa":t=He(et.DayPeriods,C.Abbreviated);break;case"aaaa":t=He(et.DayPeriods,C.Wide);break;case"aaaaa":t=He(et.DayPeriods,C.Narrow);break;case"b":case"bb":case"bbb":t=He(et.DayPeriods,C.Abbreviated,k.Standalone,!0);break;case"bbbb":t=He(et.DayPeriods,C.Wide,k.Standalone,!0);break;case"bbbbb":t=He(et.DayPeriods,C.Narrow,k.Standalone,!0);break;case"B":case"BB":case"BBB":t=He(et.DayPeriods,C.Abbreviated,k.Format,!0);break;case"BBBB":t=He(et.DayPeriods,C.Wide,k.Format,!0);break;case"BBBBB":t=He(et.DayPeriods,C.Narrow,k.Format,!0);break;case"h":t=We(je.Hours,1,-12);break;case"hh":t=We(je.Hours,2,-12);break;case"H":t=We(je.Hours,1);break;case"HH":t=We(je.Hours,2);break;case"m":t=We(je.Minutes,1);break;case"mm":t=We(je.Minutes,2);break;case"s":t=We(je.Seconds,1);break;case"ss":t=We(je.Seconds,2);break;case"S":t=We(je.FractionalSeconds,1);break;case"SS":t=We(je.FractionalSeconds,2);break;case"SSS":t=We(je.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=tt(Ze.Short);break;case"ZZZZZ":t=tt(Ze.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=tt(Ze.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=tt(Ze.Long);break;default:return null}return An[n]=t,t}(F);b+=K?K(r,e,m):"''"===F?"'":F.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function It(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Lt(n,t){const e=function(n){return(0,c.cg1)(n)[c.wAp.LocaleId]}(n);if(Ie[e]=Ie[e]||{},Ie[e][t])return Ie[e][t];let i="";switch(t){case"shortDate":i=P(n,U.Short);break;case"mediumDate":i=P(n,U.Medium);break;case"longDate":i=P(n,U.Long);break;case"fullDate":i=P(n,U.Full);break;case"shortTime":i=X(n,U.Short);break;case"mediumTime":i=X(n,U.Medium);break;case"longTime":i=X(n,U.Long);break;case"fullTime":i=X(n,U.Full);break;case"short":const r=Lt(n,"shortTime"),a=Lt(n,"shortDate");i=Et(_e(n,U.Short),[r,a]);break;case"medium":const h=Lt(n,"mediumTime"),f=Lt(n,"mediumDate");i=Et(_e(n,U.Medium),[h,f]);break;case"long":const m=Lt(n,"longTime"),b=Lt(n,"longDate");i=Et(_e(n,U.Long),[m,b]);break;case"full":const F=Lt(n,"fullTime"),K=Lt(n,"fullDate");i=Et(_e(n,U.Full),[F,K])}return i&&(Ie[e][t]=i),i}function Et(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function At(n,t,e="-",i,r){let a="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,a=e));let h=String(n);for(;h.length<t;)h="0"+h;return i&&(h=h.substr(h.length-t)),a+h}function We(n,t,e=0,i=!1,r=!1){return function(a,h){let f=function(n,t){switch(n){case je.FullYear:return t.getFullYear();case je.Month:return t.getMonth();case je.Date:return t.getDate();case je.Hours:return t.getHours();case je.Minutes:return t.getMinutes();case je.Seconds:return t.getSeconds();case je.FractionalSeconds:return t.getMilliseconds();case je.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((e>0||f>-e)&&(f+=e),n===je.Hours)0===f&&-12===e&&(f=12);else if(n===je.FractionalSeconds)return function(n,t){return At(n,3).substr(0,t)}(f,t);const m=ye(h,j.MinusSign);return At(f,t,m,i,r)}}function He(n,t,e=k.Format,i=!1){return function(r,a){return function(n,t,e,i,r,a){switch(e){case et.Months:return function(n,t,e){const i=(0,c.cg1)(n),a=it([i[c.wAp.MonthsFormat],i[c.wAp.MonthsStandalone]],t);return it(a,e)}(t,r,i)[n.getMonth()];case et.Days:return function(n,t,e){const i=(0,c.cg1)(n),a=it([i[c.wAp.DaysFormat],i[c.wAp.DaysStandalone]],t);return it(a,e)}(t,r,i)[n.getDay()];case et.DayPeriods:const h=n.getHours(),f=n.getMinutes();if(a){const b=function(n){const t=(0,c.cg1)(n);return Le(t),(t[c.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?lt(i):[lt(i[0]),lt(i[1])])}(t),F=function(n,t,e){const i=(0,c.cg1)(n);Le(i);const a=it([i[c.wAp.ExtraData][0],i[c.wAp.ExtraData][1]],t)||[];return it(a,e)||[]}(t,r,i),K=b.findIndex(we=>{if(Array.isArray(we)){const[Re,qe]=we,rt=h>=Re.hours&&f>=Re.minutes,ht=h<qe.hours||h===qe.hours&&f<qe.minutes;if(Re.hours<qe.hours){if(rt&&ht)return!0}else if(rt||ht)return!0}else if(we.hours===h&&we.minutes===f)return!0;return!1});if(-1!==K)return F[K]}return function(n,t,e){const i=(0,c.cg1)(n),a=it([i[c.wAp.DayPeriodsFormat],i[c.wAp.DayPeriodsStandalone]],t);return it(a,e)}(t,r,i)[h<12?0:1];case et.Eras:return function(n,t){return it((0,c.cg1)(n)[c.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,a,n,t,e,i)}}function tt(n){return function(t,e,i){const r=-1*i,a=ye(e,j.MinusSign),h=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Ze.Short:return(r>=0?"+":"")+At(h,2,a)+At(Math.abs(r%60),2,a);case Ze.ShortGMT:return"GMT"+(r>=0?"+":"")+At(h,1,a);case Ze.Long:return"GMT"+(r>=0?"+":"")+At(h,2,a)+":"+At(Math.abs(r%60),2,a);case Ze.Extended:return 0===i?"Z":(r>=0?"+":"")+At(h,2,a)+":"+At(Math.abs(r%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}function Zt(n){return It(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function _n(n,t=!1){return function(e,i){let r;if(t){const a=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,h=e.getDate();r=1+Math.floor((h+a)/7)}else{const a=Zt(e),h=function(n){const t=It(n,0,1).getDay();return It(n,0,1+(t<=4?4:11)-t)}(a.getFullYear()),f=a.getTime()-h.getTime();r=1+Math.round(f/6048e5)}return At(r,n,ye(i,j.MinusSign))}}function ti(n,t=!1){return function(e,i){return At(Zt(e).getFullYear(),n,ye(i,j.MinusSign),t)}}const An={};function Cr(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Wc(n){return n instanceof Date&&!isNaN(n.valueOf())}class xr{}let Si=(()=>{class n extends xr{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(Ce(i||this.locale)(e)){case w.Zero:return"zero";case w.One:return"one";case w.Two:return"two";case w.Few:return"few";case w.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.soG))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();let Js=(()=>{class n{constructor(e,i,r,a){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class ns{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vn=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=[];e.forEachOperation((r,a,h)=>{if(null==r.previousIndex){const f=this._viewContainer.createEmbeddedView(this._template,new ns(null,this._ngForOf,-1,-1),null===h?void 0:h),m=new qc(r,f);i.push(m)}else if(null==h)this._viewContainer.remove(null===a?void 0:a);else if(null!==a){const f=this._viewContainer.get(a);this._viewContainer.move(f,h);const m=new qc(r,f);i.push(m)}});for(let r=0;r<i.length;r++)this._perViewChange(i[r].view,i[r].record);for(let r=0,a=this._viewContainer.length;r<a;r++){const h=this._viewContainer.get(r);h.context.index=r,h.context.count=a,h.context.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{this._viewContainer.get(r.currentIndex).context.$implicit=r.item})}_perViewChange(e,i){e.context.$implicit=i.item}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class qc{constructor(t,e){this.record=t,this.view=e}}let Sr=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Hl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ha("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ha("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Hl{constructor(){this.$implicit=null,this.ngIf=null}}function Ha(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(t)}'.`)}let Ga=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,a]=e.split(".");null!=(i=null!=i&&a?`${i}${a}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();let Fd=(()=>{class n{constructor(e){this.locale=e}transform(e,i="mediumDate",r,a){if(null==e||""===e||e!=e)return null;try{return mt(e,i,a||this.locale,r)}catch(h){throw function(n,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,c.AaK)(n)}'`)}(n,h.message)}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.soG,16))},n.\u0275pipe=c.Yjl({name:"date",type:n,pure:!0}),n})(),sa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:xr,useClass:Si}]}),n})();function Yc(n){return"browser"===n}function Ka(n){return"server"===n}let oa=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Wl((0,c.LFG)(ge),window)}),n})();class Wl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const h=a.getElementById(t)||a.querySelector(`[name="${t}"]`);if(h)return h}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ql(this.window.history)||ql(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function ql(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Yl extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Yl,Je||(Je=n)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(ss=ss||document.querySelector("base"),ss?ss.getAttribute("href"):null);return null==e?null:function(n){Fn=Fn||document.createElement("a"),Fn.setAttribute("href",n);const t=Fn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ss=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,a]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(a)}return null}(document.cookie,t)}}let Fn,ss=null;const Kc=new c.OlP("TRANSITION_ID"),Ki=[{provide:c.ip1,useFactory:function(n,t,e){return()=>{e.get(c.CZH).donePromise.then(()=>{const i=Se(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[Kc,ge,c.zs3],multi:!0}];class ni{static init(){(0,c.VLi)(new ni)}addToWindow(t){c.dqk.getAngularTestability=(i,r=!0)=>{const a=t.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},c.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let a=r.length,h=!1;const f=function(m){h=h||m,a--,0==a&&i(h)};r.forEach(function(m){m.whenStable(f)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?Se().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Qc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const no=new c.OlP("EventManagerPlugins");let yt=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const h=r[a];if(h.supports(e))return this._eventNameToPlugin.set(e,h),h}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(no),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class dn{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=Se().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let th=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),On=(()=>{class n extends th{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(a=>{const h=this._doc.createElement("style");h.textContent=a,r.push(i.appendChild(h))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(nh),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(nh))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ge))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function nh(n){Se().remove(n)}const Ms={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Br=/%COMP%/g;function oi(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?oi(n,r,e):(r=r.replace(Br,n),e.push(r))}return e}function Vr(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let io=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Qi(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new ec(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case c.ifc.ShadowDom:return new rh(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=oi(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(yt),c.LFG(On),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Qi{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Ms[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const a=Ms[r];a?t.setAttributeNS(a,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Ms[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(c.JOm.DashCase|c.JOm.Important)?t.style.setProperty(e,i,r&c.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&c.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Vr(i)):this.eventManager.addEventListener(t,e,Vr(i))}}class ec extends Qi{constructor(t,e,i,r){super(t),this.component=i;const a=oi(r+"-"+i.id,i.styles,[]);e.addStyles(a),this.contentAttr="_ngcontent-%COMP%".replace(Br,r+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Br,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class rh extends Qi{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=oi(r.id,r.styles,[]);for(let h=0;h<a.length;h++){const f=document.createElement("style");f.textContent=a[h],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let aa=(()=>{class n extends dn{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ge))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ca=["alt","control","meta","shift"],sh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$i={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Oy={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let oh=(()=>{class n extends dn{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const a=n.parseEventName(i),h=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Se().onAndCancel(e,a.domEventName,h))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let h="";if(ca.forEach(m=>{const b=i.indexOf(m);b>-1&&(i.splice(b,1),h+=m+".")}),h+=a,0!=i.length||0===a.length)return null;const f={};return f.domEventName=r,f.fullKey=h,f}static getEventFullKey(e){let i="",r=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&$i.hasOwnProperty(t)&&(t=$i[t]))}return sh[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),ca.forEach(a=>{a!=r&&Oy[a](e)&&(i+=a+".")}),i+=r,i}static eventCallback(e,i,r){return a=>{n.getEventFullKey(a)===e&&r.runGuarded(()=>i(a))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ge))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),hr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,c.Yz7)({factory:function(){return(0,c.LFG)(nl)},token:n,providedIn:"root"}),n})(),nl=(()=>{class n extends hr{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.yhl)(i),(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,c.JVY)(e)}bypassSecurityTrustStyle(e){return(0,c.L6k)(e)}bypassSecurityTrustScript(e){return(0,c.eBb)(e)}bypassSecurityTrustUrl(e){return(0,c.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,c.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ge))},n.\u0275prov=(0,c.Yz7)({factory:function(){return function(n){return new nl(n.get(ge))}((0,c.LFG)(c.gxx))},token:n,providedIn:"root"}),n})();const ua=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function(){Yl.makeCurrent(),ni.init()},multi:!0},{provide:ge,useFactory:function(){return(0,c.RDi)(document),document},deps:[]}]),uh=[[],{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function(){return new c.qLn},deps:[]},{provide:no,useClass:aa,multi:!0,deps:[ge,c.R0b,c.Lbi]},{provide:no,useClass:oh,multi:!0,deps:[ge]},[],{provide:io,useClass:io,deps:[yt,On,c.AFp]},{provide:c.FYo,useExisting:io},{provide:th,useExisting:On},{provide:On,useClass:On,deps:[ge]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:yt,useClass:yt,deps:[no,c.R0b]},{provide:class{},useClass:Qc,deps:[]},[]];let hh=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:c.AFp,useValue:e.appId},{provide:Kc,useExisting:c.AFp},Ki]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:uh,imports:[sa,c.hGG]}),n})();"undefined"!=typeof window&&window;var Un=Fe(4402),Rt=Fe(5917),cn=Fe(9765),cc=Fe(7971);class Hi extends cn.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new cc.N;return this._value}next(t){super.next(this._value=t)}}var No=Fe(4869),fa=Fe(9796),ai=Fe(7393);class eu extends ai.L{notifyNext(t,e,i,r,a){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class A0 extends ai.L{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Fo=Fe(7444),jn=Fe(7574);function Jd(n,t,e,i,r=new A0(n,e,i)){if(!r.closed)return t instanceof jn.y?t.subscribe(r):(0,Fo.s)(t)(r)}var tu=Fe(6693);const uc={};class mh{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new rl(t,this.resultSelector))}}class rl extends eu{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(uc),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++)this.add(Jd(this,t[i],void 0,i))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i){const r=this.values,h=this.toRespond?r[i]===uc?--this.toRespond:this.toRespond:0;r[i]=e,0===h&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const os=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var Ur=Fe(3282);function sl(...n){return(0,Ur.J)(1)((0,Rt.of)(...n))}var Fs=Fe(9193);function as(n){return new jn.y(t=>{let e;try{e=n()}catch(r){return void t.error(r)}return(e?(0,Un.D)(e):(0,Fs.c)()).subscribe(t)})}var ef=Fe(2441),Gt=Fe(8002),ls=Fe(5345);function Ii(n,t){return"function"==typeof t?e=>e.pipe(Ii((i,r)=>(0,Un.D)(n(i,r)).pipe((0,Gt.U)((a,h)=>t(i,a,r,h))))):e=>e.lift(new Py(n))}class Py{constructor(t){this.project=t}call(t,e){return e.subscribe(new Wn(t,this.project))}}class Wn extends ls.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new ls.IY(this),r=this.destination;r.add(i),this.innerSubscription=(0,ls.ft)(t,i),this.innerSubscription!==i&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const nu=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function ao(n){return t=>0===n?(0,Fs.c)():t.lift(new tf(n))}class tf{constructor(t){if(this.total=t,this.total<0)throw new nu}call(t,e){return e.subscribe(new Ny(t,this.total))}}class Ny extends ai.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function jr(...n){const t=n[n.length-1];return(0,No.K)(t)?(n.pop(),e=>sl(n,e,t)):e=>sl(n,e)}function ol(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(r){return r.lift(new nf(n,t,e))}}class nf{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new Fy(t,this.accumulator,this.seed,this.hasSeed))}}class Fy extends ai.L{constructor(t,e,i,r){super(t),this.accumulator=e,this._seed=i,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=i,this.destination.next(i)}}function Gi(n,t){return function(i){return i.lift(new hc(n,t))}}class hc{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Vo(t,this.predicate,this.thisArg))}}class Vo extends ai.L{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function lo(n){return function(e){const i=new Kn(n),r=e.lift(i);return i.caught=r}}class Kn{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Ls(t,this.selector,this.caught))}}class Ls extends ls.Ds{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(a){return void super.error(a)}this._unsubscribeAndRecycle();const i=new ls.IY(this);this.add(i);const r=(0,ls.ft)(e,i);r!==i&&this.add(r)}}}var Ln=Fe(9773);function al(n,t){return(0,Ln.zg)(n,t,1)}function rf(n){return function(e){return 0===n?(0,Fs.c)():e.lift(new cs(n))}}class cs{constructor(t){if(this.total=t,this.total<0)throw new nu}call(t,e){return e.subscribe(new Bs(t,this.total))}}class Bs extends ai.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,r=this.count++;e.length<i?e.push(t):e[r%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,r=this.ring;for(let a=0;a<i;a++){const h=e++%i;t.next(r[h])}}t.complete()}}function pa(n=sf){return t=>t.lift(new Tr(n))}class Tr{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new co(t,this.errorFactory))}}class co extends ai.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function sf(){return new os}function iu(n=null){return t=>t.lift(new ga(n))}class ga{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new of(t,this.defaultValue))}}class of extends ai.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var ma=Fe(4487);function Qn(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Gi((r,a)=>n(r,a,i)):ma.y,ao(1),e?iu(t):pa(()=>new os))}var li=Fe(3342),Uo=Fe(1307),Vs=Fe(5319);class G{constructor(t){this.callback=t}call(t,e){return e.subscribe(new ne(t,this.callback))}}class ne extends ai.L{constructor(t,e){super(t),this.add(new Vs.w(e))}}class Ee{constructor(t,e){this.id=t,this.url=e}}class Ge extends Ee{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xe extends Ee{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class at extends Ee{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vt extends Ee{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ot extends Ee{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pt extends Ee{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bn extends Ee{constructor(t,e,i,r,a){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class kn extends Ee{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ci extends Ee{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dr{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ti{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ll{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dc{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cl{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hr{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kr{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const rn="primary";class ug{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Hn(n){return new ug(n)}const lf="ngNavigationCancelingError";function cf(n){const t=Error("NavigationCancelingError: "+n);return t[lf]=!0,t}function _h(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const h=i[a],f=n[a];if(h.startsWith(":"))r[h.substring(1)]=f;else if(h!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function us(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let a=0;a<e.length;a++)if(r=e[a],!hg(n[r],t[r]))return!1;return!0}function hg(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,a)=>i[a]===r)}return n===t}function v0(n){return Array.prototype.concat.apply([],n)}function fc(n){return n.length>0?n[n.length-1]:null}function Di(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Ji(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,Un.D)(Promise.resolve(n)):(0,Rt.of)(n)}const Vy={exact:function jy(n,t,e){if(!mc(n.segments,t.segments)||!uf(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!jy(n.children[i],t.children[i],e))return!1;return!0},subset:gc},pc={exact:function(n,t){return us(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>hg(n[e],t[e]))},ignored:()=>!0};function Ah(n,t,e){return Vy[e.paths](n.root,t.root,e.matrixParams)&&pc[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function gc(n,t,e){return ru(n,t,t.segments,e)}function ru(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!mc(r,e)||t.hasChildren()||!uf(r,e,i))}if(n.segments.length===e.length){if(!mc(n.segments,e)||!uf(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!gc(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),a=e.slice(n.segments.length);return!!(mc(n.segments,r)&&uf(n.segments,r,i)&&n.children[rn])&&ru(n.children[rn],t,a,i)}}function uf(n,t,e){return t.every((i,r)=>pc[e](n[r].parameters,i.parameters))}class su{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hn(this.queryParams)),this._queryParamMap}toString(){return fg.serialize(this)}}class mn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Di(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ya(this)}}class vh{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Hn(this.parameters)),this._parameterMap}toString(){return pg(this)}}function mc(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class dg{}class ou{parse(t){const e=new hl(t);return new su(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var n;return`${`/${bh(t.root,!0)}`}${function(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${wh(e)}=${wh(r)}`).join("&"):`${wh(e)}=${wh(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const fg=new ou;function ya(n){return n.segments.map(t=>pg(t)).join("/")}function bh(n,t){if(!n.hasChildren())return ya(n);if(t){const e=n.children[rn]?bh(n.children[rn],!1):"",i=[];return Di(n.children,(r,a)=>{a!==rn&&i.push(`${a}:${bh(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function(n,t){let e=[];return Di(n.children,(i,r)=>{r===rn&&(e=e.concat(t(i,r)))}),Di(n.children,(i,r)=>{r!==rn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===rn?[bh(n.children[rn],!1)]:[`${r}:${bh(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[rn]?`${ya(n)}/${e[0]}`:`${ya(n)}/(${e.join("//")})`}}function Hy(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wh(n){return Hy(n).replace(/%3B/gi,";")}function yc(n){return Hy(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ch(n){return decodeURIComponent(n)}function df(n){return Ch(n.replace(/\+/g,"%20"))}function pg(n){return`${yc(n.path)}${function(n){return Object.keys(n).map(t=>`;${yc(t)}=${yc(n[t])}`).join("")}(n.parameters)}`}const Gy=/^[^\/()?;=#]+/;function Eh(n){const t=n.match(Gy);return t?t[0]:""}const E0=/^[^=?&#]+/,Aa=/^[^?&#]+/;class hl{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mn([],{}):new mn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[rn]=new mn(t,e)),i}parseSegment(){const t=Eh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new vh(Ch(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Eh(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Eh(this.remaining);r&&(i=r,this.capture(i))}t[Ch(e)]=Ch(i)}parseQueryParam(t){const e=function(n){const t=n.match(E0);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const h=function(n){const t=n.match(Aa);return t?t[0]:""}(this.remaining);h&&(i=h,this.capture(i))}const r=df(e),a=df(i);if(t.hasOwnProperty(r)){let h=t[r];Array.isArray(h)||(h=[h],t[r]=h),h.push(a)}else t[r]=a}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Eh(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let a;i.indexOf(":")>-1?(a=i.substr(0,i.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=rn);const h=this.parseChildren();e[a]=1===Object.keys(h).length?h[rn]:new mn([],h),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class zy{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=gg(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=gg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Sh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Sh(t,this._root).map(e=>e.value)}}function gg(n,t){if(n===t.value)return t;for(const e of t.children){const i=gg(n,e);if(i)return i}return null}function Sh(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Sh(n,e);if(i.length)return i.unshift(t),i}return[]}class va{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function _c(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class mg extends zy{constructor(t,e){super(t),this.snapshot=e,pf(this,t)}toString(){return this.snapshot.toString()}}function Wy(n,t){const e=function(n,t){const h=new ff([],{},{},"",{},rn,t,null,n.root,-1,{});return new au("",new va(h,[]))}(n,t),i=new Hi([new vh("",{})]),r=new Hi({}),a=new Hi({}),h=new Hi({}),f=new Hi(""),m=new Ho(i,r,h,f,a,rn,t,e.root);return m.snapshot=e.root,new mg(new va(m,[]),e)}class Ho{constructor(t,e,i,r,a,h,f,m){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=h,this.component=f,this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Gt.U)(t=>Hn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Gt.U)(t=>Hn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qy(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],a=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class ff{constructor(t,e,i,r,a,h,f,m,b,F,K){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=h,this.component=f,this.routeConfig=m,this._urlSegment=b,this._lastPathIndex=F,this._resolve=K}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class au extends zy{constructor(t,e){super(e),this.url=t,pf(this,e)}toString(){return uo(this._root)}}function pf(n,t){t.value._routerState=n,t.children.forEach(e=>pf(n,e))}function uo(n){const t=n.children.length>0?` { ${n.children.map(uo).join(", ")} } `:"";return`${n.value}${t}`}function Ac(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,us(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),us(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!us(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),us(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ih(n,t){return us(n.params,t.params)&&function(n,t){return mc(n,t)&&n.every((e,i)=>us(e.parameters,t[i].parameters))}(n.url,t.url)&&!(!n.parent!=!t.parent)&&(!n.parent||Ih(n.parent,t.parent))}function Th(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Th(n,i,r);return Th(n,i)})}(n,t,e);return new va(i,r)}{if(n.shouldAttach(t.value)){const a=n.retrieve(t.value);if(null!==a){const h=a.route;return S0(t,h),h}}const i=function(n){return new Ho(new Hi(n.url),new Hi(n.params),new Hi(n.queryParams),new Hi(n.fragment),new Hi(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(a=>Th(n,a));return new va(i,r)}}function S0(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let e=0;e<n.children.length;++e)S0(n.children[e],t.children[e])}function lu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Go(n){return"object"==typeof n&&null!=n&&n.outlets}function Qy(n,t,e,i,r){let a={};return i&&Di(i,(h,f)=>{a[f]=Array.isArray(h)?h.map(m=>`${m}`):`${h}`}),new su(e.root===n?t:I0(e.root,n,t),a,r)}function I0(n,t,e){const i={};return Di(n.children,(r,a)=>{i[a]=r===t?e:I0(r,t,e)}),new mn(n.segments,i)}class Ag{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&lu(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Go);if(r&&r!==fc(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vg{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function dl(n,t,e){if(n||(n=new mn([],{})),0===n.segments.length&&n.hasChildren())return Dh(n,t,e);const i=function(n,t,e){let i=0,r=t;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return a;const h=n.segments[r],f=e[i];if(Go(f))break;const m=`${f}`,b=i<e.length-1?e[i+1]:null;if(r>0&&void 0===m)break;if(m&&b&&"object"==typeof b&&void 0===b.outlets){if(!e_(m,b,h))return a;i+=2}else{if(!e_(m,{},h))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new mn(n.segments.slice(0,i.pathIndex),{});return a.children[rn]=new mn(n.segments.slice(i.pathIndex),n.children),Dh(a,0,r)}return i.match&&0===r.length?new mn(n.segments,{}):i.match&&!n.hasChildren()?bg(n,t,e):i.match?Dh(n,0,r):bg(n,t,e)}function Dh(n,t,e){if(0===e.length)return new mn(n.segments,{});{const i=function(n){return Go(n[0])?n[0].outlets:{[rn]:n}}(e),r={};return Di(i,(a,h)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[h]=dl(n.children[h],t,a))}),Di(n.children,(a,h)=>{void 0===i[h]&&(r[h]=a)}),new mn(n.segments,r)}}function bg(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const a=e[r];if(Go(a)){const m=ui(a.outlets);return new mn(i,m)}if(0===r&&lu(e[0])){i.push(new vh(n.segments[t].path,Xy(e[0]))),r++;continue}const h=Go(a)?a.outlets[rn]:`${a}`,f=r<e.length-1?e[r+1]:null;h&&f&&lu(f)?(i.push(new vh(h,Xy(f))),r+=2):(i.push(new vh(h,{})),r++)}return new mn(i,{})}function ui(n){const t={};return Di(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=bg(new mn([],{}),0,e))}),t}function Xy(n){const t={};return Di(n,(e,i)=>t[i]=`${e}`),t}function e_(n,t,e){return n==e.path&&us(t,e.parameters)}class kh{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Ac(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=_c(e);t.children.forEach(a=>{const h=a.value.outlet;this.deactivateRoutes(a,r[h],i),delete r[h]}),Di(r,(a,h)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(t,e,i){const r=t.value,a=e?e.value:null;if(r===a)if(r.component){const h=i.getContext(r.outlet);h&&this.deactivateChildRoutes(t,e,h.children)}else this.deactivateChildRoutes(t,e,i);else a&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet);if(i&&i.outlet){const r=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,a=_c(t);for(const h of Object.keys(a))this.deactivateRouteAndItsChildren(a[h],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=_c(e);t.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new Hr(a.value.snapshot))}),t.children.length&&this.forwardEvent(new dc(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,a=e?e.value:null;if(Ac(r),r===a)if(r.component){const h=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,h.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const h=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),h.children.onOutletReAttached(f.contexts),h.attachRef=f.componentRef,h.route=f.route.value,h.outlet&&h.outlet.attach(f.componentRef,f.route.value),_f(f.route)}else{const f=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),m=f?f.module.componentFactoryResolver:null;h.attachRef=null,h.route=r,h.resolver=m,h.outlet&&h.outlet.activateWith(r,m),this.activateChildRoutes(t,null,h.children)}}else this.activateChildRoutes(t,null,i)}}function _f(n){Ac(n.value),n.children.forEach(_f)}class wg{constructor(t,e){this.routes=t,this.module=e}}function zo(n){return"function"==typeof n}function Wo(n){return n instanceof su}const cu=Symbol("INITIAL_VALUE");function vc(){return Ii(n=>function(...n){let t,e;return(0,No.K)(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&(0,fa.k)(n[0])&&(n=n[0]),(0,tu.n)(n,e).lift(new mh(t))}(n.map(t=>t.pipe(ao(1),jr(cu)))).pipe(ol((t,e)=>{let i=!1;return e.reduce((r,a,h)=>r!==cu?r:(a===cu&&(i=!0),i||!1!==a&&h!==e.length-1&&!Wo(a)?r:a),t)},cu),Gi(t=>t!==cu),(0,Gt.U)(t=>Wo(t)?t:!0===t),ao(1)))}let er=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&c._UZ(0,"router-outlet")},directives:function(){return[wf]},encapsulation:2}),n})();function ds(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];Af(i,M0(t,i))}}function Af(n,t){n.children&&ds(n.children,t)}function M0(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Cg(n){const t=n.children&&n.children.map(Cg),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==rn&&(e.component=er),e}function fs(n){return n.outlet||rn}function Eg(n,t){const e=n.filter(i=>fs(i)===t);return e.push(...n.filter(i=>fs(i)!==t)),e}const dr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function uu(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},dr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const a=(t.matcher||_h)(e,n,t);if(!a)return Object.assign({},dr);const h={};Di(a.posParams,(m,b)=>{h[b]=m.path});const f=a.consumed.length>0?Object.assign(Object.assign({},h),a.consumed[a.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:a.consumed,lastChild:a.consumed.length,parameters:f,positionalParamSegments:null!==(i=a.posParams)&&void 0!==i?i:{}}}function bc(n,t,e,i,r="corrected"){if(e.length>0&&function(n,t,e){return e.some(i=>wc(n,t,i)&&fs(i)!==rn)}(n,e,i)){const h=new mn(t,function(n,t,e,i){const r={};r[rn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const a of e)if(""===a.path&&fs(a)!==rn){const h=new mn([],{});h._sourceSegment=n,h._segmentIndexShift=t.length,r[fs(a)]=h}return r}(n,t,i,new mn(e,n.children)));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(i=>wc(n,t,i))}(n,e,i)){const h=new mn(n.segments,function(n,t,e,i,r,a){const h={};for(const f of i)if(wc(n,e,f)&&!r[fs(f)]){const m=new mn([],{});m._sourceSegment=n,m._segmentIndexShift="legacy"===a?n.segments.length:t.length,h[fs(f)]=m}return Object.assign(Object.assign({},r),h)}(n,t,e,i,n.children,r));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:e}}const a=new mn(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}function wc(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Ph(n,t,e,i){return!!(fs(n)===i||i!==rn&&wc(t,e,n))&&("**"===n.path||uu(t,n,e).matched)}function n_(n,t,e){return 0===t.length&&!n.children[e]}class vf{constructor(t){this.segmentGroup=t||null}}class Sg{constructor(t){this.urlTree=t}}function Cc(n){return new jn.y(t=>t.error(new vf(n)))}function v(n){return new jn.y(t=>t.error(new Sg(n)))}function g(n){return new jn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class ue{constructor(t,e,i,r,a){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0,this.ngModule=t.get(c.h0i)}apply(){const t=bc(this.urlTree.root,[],[],this.config).segmentGroup,e=new mn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,rn).pipe((0,Gt.U)(a=>this.createUrlTree($e(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(lo(a=>{if(a instanceof Sg)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof vf?this.noMatchError(a):a}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,rn).pipe((0,Gt.U)(r=>this.createUrlTree($e(r),t.queryParams,t.fragment))).pipe(lo(r=>{throw r instanceof vf?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new mn([],{[rn]:t}):t;return new su(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Gt.U)(a=>new mn([],a))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,Un.D)(r).pipe(al(a=>{const h=i.children[a],f=Eg(e,a);return this.expandSegmentGroup(t,f,h,a).pipe((0,Gt.U)(m=>({segment:m,outlet:a})))}),ol((a,h)=>(a[h.outlet]=h.segment,a),{}),function(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Gi((r,a)=>n(r,a,i)):ma.y,rf(1),e?iu(t):pa(()=>new os))}())}expandSegment(t,e,i,r,a,h){return(0,Un.D)(i).pipe(al(f=>this.expandSegmentAgainstRoute(t,e,i,f,r,a,h).pipe(lo(b=>{if(b instanceof vf)return(0,Rt.of)(null);throw b}))),Qn(f=>!!f),lo((f,m)=>{if(f instanceof os||"EmptyError"===f.name){if(n_(e,r,a))return(0,Rt.of)(new mn([],{}));throw new vf(e)}throw f}))}expandSegmentAgainstRoute(t,e,i,r,a,h,f){return Ph(r,e,a,h)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,a,h):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,a,h):Cc(e):Cc(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,a,h){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,h):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,a,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?v(a):this.lineralizeSegments(i,a).pipe((0,Ln.zg)(h=>{const f=new mn(h,{});return this.expandSegment(t,f,e,h,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,a,h){const{matched:f,consumedSegments:m,lastChild:b,positionalParamSegments:F}=uu(e,r,a);if(!f)return Cc(e);const K=this.applyRedirectCommands(m,r.redirectTo,F);return r.redirectTo.startsWith("/")?v(K):this.lineralizeSegments(r,K).pipe((0,Ln.zg)(we=>this.expandSegment(t,e,i,we.concat(a.slice(b)),h,!1)))}matchSegmentAgainstRoute(t,e,i,r,a){if("**"===i.path)return i.loadChildren?(i._loadedConfig?(0,Rt.of)(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,Gt.U)(we=>(i._loadedConfig=we,new mn(r,{})))):(0,Rt.of)(new mn(r,{}));const{matched:h,consumedSegments:f,lastChild:m}=uu(e,i,r);if(!h)return Cc(e);const b=r.slice(m);return this.getChildConfig(t,i,r).pipe((0,Ln.zg)(K=>{const we=K.module,Re=K.routes,{segmentGroup:qe,slicedSegments:rt}=bc(e,f,b,Re),ht=new mn(qe.segments,qe.children);if(0===rt.length&&ht.hasChildren())return this.expandChildren(we,Re,ht).pipe((0,Gt.U)(Wt=>new mn(f,Wt)));if(0===Re.length&&0===rt.length)return(0,Rt.of)(new mn(f,{}));const St=fs(i)===a;return this.expandSegment(we,ht,Re,rt,St?rn:a,!0).pipe((0,Gt.U)(zt=>new mn(f.concat(zt.segments),zt.children)))}))}getChildConfig(t,e,i){return e.children?(0,Rt.of)(new wg(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,Rt.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,Ln.zg)(r=>{return r?this.configLoader.load(t.injector,e).pipe((0,Gt.U)(a=>(e._loadedConfig=a,a))):(n=e,new jn.y(t=>t.error(cf(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Rt.of)(new wg([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;if(!r||0===r.length)return(0,Rt.of)(!0);const a=r.map(h=>{const f=t.get(h);let m;if((n=f)&&zo(n.canLoad))m=f.canLoad(e,i);else{if(!zo(f))throw new Error("Invalid CanLoad guard");m=f(e,i)}var n;return Ji(m)});return(0,Rt.of)(a).pipe(vc(),(0,li.b)(h=>{if(!Wo(h))return;const f=cf(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw f.url=h,f}),(0,Gt.U)(h=>!0===h))}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,Rt.of)(i);if(r.numberOfChildren>1||!r.children[rn])return g(t.redirectTo);r=r.children[rn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const a=this.createSegmentGroup(t,e.root,i,r);return new su(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Di(t,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[a]=e[f]}else i[a]=r}),i}createSegmentGroup(t,e,i,r){const a=this.createSegments(t,e.segments,i,r);let h={};return Di(e.children,(f,m)=>{h[m]=this.createSegmentGroup(t,f,i,r)}),new mn(a,h)}createSegments(t,e,i,r){return e.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,r):this.findOrReturn(a,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function $e(n){const t={};for(const i of Object.keys(n.children)){const a=$e(n.children[i]);(a.segments.length>0||a.hasChildren())&&(t[i]=a)}return function(n){if(1===n.numberOfChildren&&n.children[rn]){const t=n.children[rn];return new mn(n.segments.concat(t.segments),t.children)}return n}(new mn(n.segments,t))}class Tt{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Mt{constructor(t,e){this.component=t,this.route=e}}function Jt(n,t,e){const i=n._root;return Ec(i,t?t._root:null,e,[i.value])}function hi(n,t,e){const i=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function Ec(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=_c(t);return n.children.forEach(h=>{(function(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,h=t?t.value:null,f=e?e.getContext(n.value.outlet):null;if(h&&a.routeConfig===h.routeConfig){const m=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!mc(n.url,t.url);case"pathParamsOrQueryParamsChange":return!mc(n.url,t.url)||!us(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ih(n,t)||!us(n.queryParams,t.queryParams);case"paramsChange":default:return!Ih(n,t)}}(h,a,a.routeConfig.runGuardsAndResolvers);m?r.canActivateChecks.push(new Tt(i)):(a.data=h.data,a._resolvedData=h._resolvedData),Ec(n,t,a.component?f?f.children:null:e,i,r),m&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new Mt(f.outlet.component,h))}else h&&xc(t,f,r),r.canActivateChecks.push(new Tt(i)),Ec(n,null,a.component?f?f.children:null:e,i,r)})(h,a[h.value.outlet],e,i.concat([h.value]),r),delete a[h.value.outlet]}),Di(a,(h,f)=>xc(h,e.getContext(f),r)),r}function xc(n,t,e){const i=_c(n),r=n.value;Di(i,(a,h)=>{xc(a,r.component?t?t.children.getContext(h):null:t,e)}),e.canDeactivateChecks.push(new Mt(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class Dg{}function s_(n){return new jn.y(t=>t.error(n))}class dx{constructor(t,e,i,r,a,h){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=h}recognize(){const t=bc(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,rn);if(null===e)return null;const i=new ff([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},rn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new va(i,e),a=new au(this.url,r);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(t){const e=t.value,i=qy(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const a of Object.keys(e.children)){const h=e.children[a],f=Eg(t,a),m=this.processSegmentGroup(f,h,a);if(null===m)return null;i.push(...m)}const r=o_(i);return r.sort((t,e)=>t.value.outlet===rn?-1:e.value.outlet===rn?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,i,r){for(const a of t){const h=this.processSegmentAgainstRoute(a,e,i,r);if(null!==h)return h}return n_(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!Ph(t,e,i,r))return null;let a,h=[],f=[];if("**"===t.path){const Re=i.length>0?fc(i).parameters:{};a=new ff(i,Re,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Nh(t),fs(t),t.component,t,P0(e),$k(e)+i.length,a_(t))}else{const Re=uu(e,t,i);if(!Re.matched)return null;h=Re.consumedSegments,f=i.slice(Re.lastChild),a=new ff(h,Re.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Nh(t),fs(t),t.component,t,P0(e),$k(e)+h.length,a_(t))}const m=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:b,slicedSegments:F}=bc(e,h,f,m.filter(Re=>void 0===Re.redirectTo),this.relativeLinkResolution);var n;if(0===F.length&&b.hasChildren()){const Re=this.processChildren(m,b);return null===Re?null:[new va(a,Re)]}if(0===m.length&&0===F.length)return[new va(a,[])];const K=fs(t)===r,we=this.processSegment(m,b,F,K?rn:r);return null===we?null:[new va(a,we)]}}function px(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function o_(n){const t=[],e=new Set;for(const i of n){if(!px(i)){t.push(i);continue}const r=t.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=o_(i.children);t.push(new va(i.value,r))}return t.filter(i=>!e.has(i))}function P0(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function $k(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Nh(n){return n.data||{}}function a_(n){return n.resolve||{}}function F0(n){return Ii(t=>{const e=n(t);return e?(0,Un.D)(e).pipe((0,Gt.U)(()=>t)):(0,Rt.of)(t)})}class iM extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const l_=new c.OlP("ROUTES");class c_{constructor(t,e,i,r){this.loader=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,Gt.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(e);const h=a.create(t);return new wg(v0(h.injector.get(l_,void 0,c.XFs.Self|c.XFs.Optional)).map(Cg),h)}),lo(a=>{throw e._loader$=void 0,a}));return e._loader$=new ef.c(r,()=>new cn.xQ).pipe((0,Uo.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,Un.D)(this.loader.load(t)):Ji(t()).pipe((0,Ln.zg)(e=>e instanceof c.YKP?(0,Rt.of)(e):(0,Un.D)(this.compiler.compileModuleAsync(e))))}}class yx{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new hu,this.attachRef=null}}class hu{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new yx,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class sM{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function _x(n){throw n}function Ax(n,t,e){return t.parse("/")}function du(n,t){return(0,Rt.of)(null)}const vx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fr=(()=>{class n{constructor(e,i,r,a,h,f,m,b){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=b,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new cn.xQ,this.errorHandler=_x,this.malformedUriErrorHandler=Ax,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:du,afterPreactivation:du},this.urlHandlingStrategy=new sM,this.routeReuseStrategy=new iM,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(c.h0i),this.console=h.get(c.c2e);const we=h.get(c.R0b);this.isNgZoneEnabled=we instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(b),this.currentUrlTree=new su(new mn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new c_(f,m,Re=>this.triggerEvent(new Dr(Re)),Re=>this.triggerEvent(new Ti(Re))),this.routerState=Wy(this.currentUrlTree,this.rootComponentType),this.transitions=new Hi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Gi(r=>0!==r.id),(0,Gt.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Ii(r=>{let a=!1,h=!1;return(0,Rt.of)(r).pipe((0,li.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ii(f=>{const m=this.browserUrlTree.toString(),b=!this.navigated||f.extractedUrl.toString()!==m||m!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return h_(f.source)&&(this.browserUrlTree=f.extractedUrl),(0,Rt.of)(f).pipe(Ii(K=>{const we=this.transitions.getValue();return i.next(new Ge(K.id,this.serializeUrl(K.extractedUrl),K.source,K.restoredState)),we!==this.transitions.getValue()?Fs.E:Promise.resolve(K)}),function(n,t,e,i){return Ii(r=>function(n,t,e,i,r){return new ue(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,Gt.U)(a=>Object.assign(Object.assign({},r),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,li.b)(K=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:K.urlAfterRedirects})}),function(n,t,e,i,r){return(0,Ln.zg)(a=>function(n,t,e,i,r="emptyOnly",a="legacy"){try{const h=new dx(n,t,e,i,r,a).recognize();return null===h?s_(new Dg):(0,Rt.of)(h)}catch(h){return s_(h)}}(n,t,a.urlAfterRedirects,e(a.urlAfterRedirects),i,r).pipe((0,Gt.U)(h=>Object.assign(Object.assign({},a),{targetSnapshot:h}))))}(this.rootComponentType,this.config,K=>this.serializeUrl(K),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,li.b)(K=>{"eager"===this.urlUpdateStrategy&&(K.extras.skipLocationChange||this.setBrowserUrl(K.urlAfterRedirects,K),this.browserUrlTree=K.urlAfterRedirects);const we=new Ot(K.id,this.serializeUrl(K.extractedUrl),this.serializeUrl(K.urlAfterRedirects),K.targetSnapshot);i.next(we)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:we,extractedUrl:Re,source:qe,restoredState:rt,extras:ht}=f,St=new Ge(we,this.serializeUrl(Re),qe,rt);i.next(St);const Ft=Wy(Re,this.rootComponentType).snapshot;return(0,Rt.of)(Object.assign(Object.assign({},f),{targetSnapshot:Ft,urlAfterRedirects:Re,extras:Object.assign(Object.assign({},ht),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,this.browserUrlTree=f.urlAfterRedirects,f.resolve(null),Fs.E}),F0(f=>{const{targetSnapshot:m,id:b,extractedUrl:F,rawUrl:K,extras:{skipLocationChange:we,replaceUrl:Re}}=f;return this.hooks.beforePreactivation(m,{navigationId:b,appliedUrlTree:F,rawUrlTree:K,skipLocationChange:!!we,replaceUrl:!!Re})}),(0,li.b)(f=>{const m=new Pt(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(m)}),(0,Gt.U)(f=>Object.assign(Object.assign({},f),{guards:Jt(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function(n,t){return(0,Ln.zg)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:h}}=e;return 0===h.length&&0===a.length?(0,Rt.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,i){return(0,Un.D)(n).pipe((0,Ln.zg)(r=>function(n,t,e,i,r){const a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,Rt.of)(!0);const h=a.map(f=>{const m=hi(f,t,r);let b;if(function(n){return n&&zo(n.canDeactivate)}(m))b=Ji(m.canDeactivate(n,t,e,i));else{if(!zo(m))throw new Error("Invalid CanDeactivate guard");b=Ji(m(n,t,e,i))}return b.pipe(Qn())});return(0,Rt.of)(h).pipe(vc())}(r.component,r.route,e,t,i)),Qn(r=>!0!==r,!0))}(h,i,r,n).pipe((0,Ln.zg)(f=>f&&function(n){return"boolean"==typeof n}(f)?function(n,t,e,i){return(0,Un.D)(t).pipe(al(r=>sl(function(n,t){return null!==n&&t&&t(new ll(n)),(0,Rt.of)(!0)}(r.route.parent,i),function(n,t){return null!==n&&t&&t(new cl(n)),(0,Rt.of)(!0)}(r.route,i),function(n,t,e){const i=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(h=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(h)).filter(h=>null!==h).map(h=>as(()=>{const f=h.guards.map(m=>{const b=hi(m,h.node,e);let F;if(function(n){return n&&zo(n.canActivateChild)}(b))F=Ji(b.canActivateChild(i,n));else{if(!zo(b))throw new Error("Invalid CanActivateChild guard");F=Ji(b(i,n))}return F.pipe(Qn())});return(0,Rt.of)(f).pipe(vc())}));return(0,Rt.of)(a).pipe(vc())}(n,r.path,e),function(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,Rt.of)(!0);const r=i.map(a=>as(()=>{const h=hi(a,t,e);let f;if(function(n){return n&&zo(n.canActivate)}(h))f=Ji(h.canActivate(t,n));else{if(!zo(h))throw new Error("Invalid CanActivate guard");f=Ji(h(t,n))}return f.pipe(Qn())}));return(0,Rt.of)(r).pipe(vc())}(n,r.route,e))),Qn(r=>!0!==r,!0))}(i,a,n,t):(0,Rt.of)(f)),(0,Gt.U)(f=>Object.assign(Object.assign({},e),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,li.b)(f=>{if(Wo(f.guardsResult)){const b=cf(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw b.url=f.guardsResult,b}const m=new bn(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(m)}),Gi(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),F0(f=>{if(f.guards.canActivateChecks.length)return(0,Rt.of)(f).pipe((0,li.b)(m=>{const b=new kn(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),Ii(m=>{let b=!1;return(0,Rt.of)(m).pipe(function(n,t){return(0,Ln.zg)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return(0,Rt.of)(e);let a=0;return(0,Un.D)(r).pipe(al(h=>function(n,t,e,i){return function(n,t,e,i){const r=Object.keys(n);if(0===r.length)return(0,Rt.of)({});const a={};return(0,Un.D)(r).pipe((0,Ln.zg)(h=>function(n,t,e,i){const r=hi(n,t,i);return Ji(r.resolve?r.resolve(t,e):r(t,e))}(n[h],t,e,i).pipe((0,li.b)(f=>{a[h]=f}))),rf(1),(0,Ln.zg)(()=>Object.keys(a).length===r.length?(0,Rt.of)(a):Fs.E))}(n._resolve,n,t,i).pipe((0,Gt.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),qy(n,e).resolve),null)))}(h.route,i,n,t)),(0,li.b)(()=>a++),rf(1),(0,Ln.zg)(h=>a===r.length?(0,Rt.of)(e):Fs.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,li.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(m),this.cancelNavigationTransition(m,"At least one route resolver didn't emit any value."))}}))}),(0,li.b)(m=>{const b=new ci(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}))}),F0(f=>{const{targetSnapshot:m,id:b,extractedUrl:F,rawUrl:K,extras:{skipLocationChange:we,replaceUrl:Re}}=f;return this.hooks.afterPreactivation(m,{navigationId:b,appliedUrlTree:F,rawUrlTree:K,skipLocationChange:!!we,replaceUrl:!!Re})}),(0,Gt.U)(f=>{const m=function(n,t,e){const i=Th(n,t._root,e?e._root:void 0);return new mg(i,t)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:m})}),(0,li.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,t,e)=>(0,Gt.U)(i=>(new kh(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,li.b)({next(){a=!0},complete(){a=!0}}),function(n){return t=>t.lift(new G(n))}(()=>{var f;if(!a&&!h){const m=`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(r),this.cancelNavigationTransition(r,m)):this.cancelNavigationTransition(r,m)}(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===r.id&&(this.currentNavigation=null)}),lo(f=>{if(h=!0,function(n){return n&&n[lf]}(f)){const m=Wo(f.url);m||(this.navigated=!0,this.restoreHistory(r,!0));const b=new at(r.id,this.serializeUrl(r.extractedUrl),f.message);i.next(b),m?setTimeout(()=>{const F=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),K={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||h_(r.source)};this.scheduleNavigation(F,"imperative",null,K,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const m=new vt(r.id,this.serializeUrl(r.extractedUrl),f);i.next(m);try{r.resolve(this.errorHandler(f))}catch(b){r.reject(b)}}return Fs.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,i)&&setTimeout(()=>{const{source:r,state:a,urlTree:h}=i,f={replaceUrl:!0};if(a){const m=Object.assign({},a);delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(f.state=m)}this.scheduleNavigation(h,r,a,f)},0),this.lastLocationChangeInfo=i}))}extractLocationChangeInfoFromEvent(e){var i;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(i=e.state)||void 0===i?void 0:i.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,i){if(!e)return!0;const r=i.urlTree.toString()===e.urlTree.toString();return i.transitionId!==e.transitionId||!r||!("hashchange"===i.source&&"popstate"===e.source||"popstate"===i.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){ds(e),this.config=e.map(Cg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:a,fragment:h,queryParamsHandling:f,preserveFragment:m}=i,b=r||this.routerState.root,F=m?this.currentUrlTree.fragment:h;let K=null;switch(f){case"merge":K=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":K=this.currentUrlTree.queryParams;break;default:K=a||null}return null!==K&&(K=this.removeEmptyProps(K)),function(n,t,e,i,r){if(0===e.length)return Qy(t.root,t.root,t,i,r);const a=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Ag(!0,0,n);let t=0,e=!1;const i=n.reduce((r,a,h)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Di(a.outlets,(m,b)=>{f[b]="string"==typeof m?m.split("/"):m}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===h?(a.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?e=!0:".."===f?t++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new Ag(e,t,i)}(e);if(a.toRoot())return Qy(t.root,new mn([],{}),t,i,r);const h=function(n,t,e){if(n.isAbsolute)return new vg(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const a=e.snapshot._urlSegment;return new vg(a,a===t.root,0)}const i=lu(n.commands[0])?0:1;return function(n,t,e){let i=n,r=t,a=e;for(;a>r;){if(a-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new vg(i,!1,r-a)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(a,t,n),f=h.processChildren?Dh(h.segmentGroup,h.index,a.commands):dl(h.segmentGroup,h.index,a.commands);return Qy(h.segmentGroup,f,t,i,r)}(b,this.currentUrlTree,e,K,null!=F?F:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Wo(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},vx):!1===i?Object.assign({},bx):i,Wo(e))return Ah(this.currentUrlTree,e,r);const a=this.parseUrl(e);return Ah(this.currentUrlTree,a,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const a=e[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Xe(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,a,h){var f,m;if(this.disposed)return Promise.resolve(!1);const b=this.getTransition(),F=h_(i)&&b&&!h_(b.source),Re=(this.lastSuccessfulId===b.id||this.currentNavigation?b.rawUrl:b.urlAfterRedirects).toString()===e.toString();if(F&&Re)return Promise.resolve(!0);let qe,rt,ht;h?(qe=h.resolve,rt=h.reject,ht=h.promise):ht=new Promise((zt,Wt)=>{qe=zt,rt=Wt});const St=++this.navigationId;let Ft;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),Ft=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(m=this.browserPageId)&&void 0!==m?m:0)+1):Ft=0,this.setTransition({id:St,targetPageId:Ft,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:a,resolve:qe,reject:rt,promise:ht,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ht.catch(zt=>Promise.reject(zt))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),a=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(e,i=!1){var r,a;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===h?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===h&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new at(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.DyG),c.LFG(dg),c.LFG(hu),c.LFG(J),c.LFG(c.zs3),c.LFG(c.v3s),c.LFG(c.Sil),c.LFG(void 0))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function h_(n){return"imperative"!==n}let d_=(()=>{class n{constructor(e,i,r,a,h){this.router=e,this.route=i,this.commands=[],this.onChanges=new cn.xQ,null==r&&a.setAttribute(h.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:Fh(this.skipLocationChange),replaceUrl:Fh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Fh(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(fr),c.Y36(Ho),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&c.NdJ("click",function(){return i.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[c.TTD]}),n})(),Mg=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=[],this.onChanges=new cn.xQ,this.subscription=e.events.subscribe(a=>{a instanceof Xe&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,a,h){if(0!==e||i||r||a||h||"string"==typeof this.target&&"_self"!=this.target)return!0;const f={skipLocationChange:Fh(this.skipLocationChange),replaceUrl:Fh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Fh(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(fr),c.Y36(Ho),c.Y36(I))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&c.NdJ("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&e&&(c.Ikx("href",i.href,c.LSH),c.uIk("target",i.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[c.TTD]}),n})();function Fh(n){return""===n||!!n}let f_=(()=>{class n{constructor(e,i,r,a,h,f){this.router=e,this.element=i,this.renderer=r,this.cdr=a,this.link=h,this.linkWithHref=f,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(m=>{m instanceof Xe&&this.update()})}ngAfterContentInit(){(0,Rt.of)(this.links.changes,this.linksWithHrefs.changes,(0,Rt.of)(null)).pipe((0,Ur.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,Un.D)(i).pipe((0,Ur.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}))})}isLinkActive(e){const i=function(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(fr),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(d_,8),c.Y36(Mg,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(c.Suo(r,d_,5),c.Suo(r,Mg,5)),2&e){let a;c.iGM(a=c.CRH())&&(i.links=a),c.iGM(a=c.CRH())&&(i.linksWithHrefs=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[c.TTD]}),n})(),wf=(()=>{class n{constructor(e,i,r,a,h){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.name=a||rn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const h=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,m=new p_(e,f,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,m),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(hu),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class p_{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Ho?this.route:t===hu?this.childContexts:this.parent.get(t,e)}}class L0{}class g_{preload(t,e){return e().pipe(lo(()=>(0,Rt.of)(null)))}}class B0{preload(t,e){return(0,Rt.of)(null)}}let m_=(()=>{class n{constructor(e,i,r,a,h){this.router=e,this.injector=a,this.preloadingStrategy=h,this.loader=new c_(i,r,b=>e.triggerEvent(new Dr(b)),b=>e.triggerEvent(new Ti(b)))}setUpPreloading(){this.subscription=this.router.events.pipe(Gi(e=>e instanceof Xe),al(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(c.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const a of i)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const h=a._loadedConfig;r.push(this.processRoutes(h.module,h.routes))}else a.loadChildren&&!a.canLoad?r.push(this.preloadConfig(e,a)):a.children&&r.push(this.processRoutes(e,a.children));return(0,Un.D)(r).pipe((0,Ur.J)(),(0,Gt.U)(a=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?(0,Rt.of)(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Ln.zg)(a=>(i._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(fr),c.LFG(c.v3s),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(L0))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Lh=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ge?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Xe&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof kr&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new kr(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(fr),c.LFG(oa),c.LFG(void 0))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const fu=new c.OlP("ROUTER_CONFIGURATION"),Cx=new c.OlP("ROUTER_FORROOT_GUARD"),Ex=[J,{provide:dg,useClass:ou},{provide:fr,useFactory:function(n,t,e,i,r,a,h,f={},m,b){const F=new fr(null,n,t,e,i,r,a,v0(h));return m&&(F.urlHandlingStrategy=m),b&&(F.routeReuseStrategy=b),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy)}(f,F),f.enableTracing&&F.events.subscribe(K=>{var we,Re;null===(we=console.group)||void 0===we||we.call(console,`Router Event: ${K.constructor.name}`),console.log(K.toString()),console.log(K),null===(Re=console.groupEnd)||void 0===Re||Re.call(console)}),F},deps:[dg,hu,J,c.zs3,c.v3s,c.Sil,l_,fu,[class{},new c.FiY],[class{},new c.FiY]]},hu,{provide:Ho,useFactory:function(n){return n.routerState.root},deps:[fr]},{provide:c.v3s,useClass:c.EAV},m_,B0,g_,{provide:fu,useValue:{enableTracing:!1}}];function V0(){return new c.PXZ("Router",fr)}let U0=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[Ex,j0(e),{provide:Cx,useFactory:aM,deps:[[fr,new c.FiY,new c.tp0]]},{provide:fu,useValue:i||{}},{provide:I,useFactory:xx,deps:[xe,[new c.tBr(V),new c.FiY],fu]},{provide:Lh,useFactory:sF,deps:[fr,oa,fu]},{provide:L0,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:B0},{provide:c.PXZ,multi:!0,useFactory:V0},[H0,{provide:c.ip1,multi:!0,useFactory:Sx,deps:[H0]},{provide:Ix,useFactory:uM,deps:[H0]},{provide:c.tb,multi:!0,useExisting:Ix}]]}}static forChild(e){return{ngModule:n,providers:[j0(e)]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Cx,8),c.LFG(fr,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function sF(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Lh(n,t,e)}function xx(n,t,e={}){return e.useHash?new L(n,t):new $(n,t)}function aM(n){return"guarded"}function j0(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:l_,multi:!0,useValue:n}]}let H0=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new cn.xQ}appInitializer(){return this.injector.get(ie,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(f=>i=f),a=this.injector.get(fr),h=this.injector.get(fu);return"disabled"===h.initialNavigation?(a.setUpLocationChangeListener(),i(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?(0,Rt.of)(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),a.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(fu),r=this.injector.get(m_),a=this.injector.get(Lh),h=this.injector.get(fr),f=this.injector.get(c.z2F);e===f.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&h.initialNavigation(),r.setUpPreloading(),a.init(),h.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Sx(n){return n.appInitializer.bind(n)}function uM(n){return n.bootstrapListener.bind(n)}const Ix=new c.OlP("Router Initializer");let G0=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-header"]],decls:29,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col-lg-3","logo_section"],[1,"full"],[1,"center-desk"],[1,"logo"],["href","index.html"],["src","Debat/assets/images/logo2.png","alt","#"],[1,"col-lg-9",2,"margin-left","-16px"],[1,"menu-area"],[1,"limit-box"],[1,"main-menu"],[1,"menu-area-main"],[1,"active"],["href","#home","routerLinkActive","active","routerLink","/home"],["href","#organiserdebat","routerLinkActive","active","routerLink","/organiserdebat"],["href","#tousdebats","routerLinkActive","active","routerLink","/tousdebats"],["href","blog.html"],["href","contact.html"]],template:function(e,i){1&e&&(c.TgZ(0,"div"),c.TgZ(1,"div",0),c.TgZ(2,"div",1),c.TgZ(3,"div",2),c.TgZ(4,"div",3),c.TgZ(5,"div",4),c.TgZ(6,"div",5),c.TgZ(7,"a",6),c._UZ(8,"img",7),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(9,"div",8),c.TgZ(10,"div",9),c.TgZ(11,"div",10),c.TgZ(12,"nav",11),c.TgZ(13,"ul",12),c.TgZ(14,"li",13),c.TgZ(15,"a",14),c._uU(16,"Accueil"),c.qZA(),c.qZA(),c.TgZ(17,"li"),c.TgZ(18,"a",15),c._uU(19,"Animer Debat"),c.qZA(),c.qZA(),c.TgZ(20,"li"),c.TgZ(21,"a",16),c._uU(22,"Tous les debats"),c.qZA(),c.qZA(),c.TgZ(23,"li"),c.TgZ(24,"a",17),c._uU(25,"(autre)"),c.qZA(),c.qZA(),c.TgZ(26,"li"),c.TgZ(27,"a",18),c._uU(28,"(autre)"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA())},directives:[Mg,f_],styles:[""]}),n})(),Tx=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-footer"]],decls:51,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-lg-4","col-md-6",2,"background","#0f0824"],[1,"contact_information"],[1,"text_cont"],["src","../../assets/images/phone_icon.png","alt","#"],["src","../../assets/images/mail_icon.png","alt","#"],["src","../../assets/images/search_icon.png","alt","#"],[1,"social_icon"],["href","#"],[1,"fa","fa-facebook"],[1,"fa","fa-twitter"],[1,"fa","fa-linkedin"],[1,"fa","fa-google-plus"],[1,"cpy"],[1,"col-md-12"],["href","https://html.design/"]],template:function(e,i){1&e&&(c.TgZ(0,"div"),c.TgZ(1,"div",0),c.TgZ(2,"div",1),c.TgZ(3,"div",2),c.TgZ(4,"ul",3),c.TgZ(5,"li"),c.TgZ(6,"span"),c._uU(7,' alt="#" />'),c.qZA(),c.TgZ(8,"span",4),c._uU(9,"24 rue St Jean du P\xe9rot"),c._UZ(10,"br"),c._uU(11,"17000 La Rochelle"),c.qZA(),c.qZA(),c.TgZ(12,"li"),c.TgZ(13,"span"),c._UZ(14,"img",5),c.qZA(),c.TgZ(15,"span",4),c._uU(16,"05 46 41 16 36"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(17,"div",2),c.TgZ(18,"ul",3),c.TgZ(19,"li"),c.TgZ(20,"span"),c._UZ(21,"img",6),c.qZA(),c.TgZ(22,"span",4),c._uU(23,"accueil@cdij17.fr"),c.qZA(),c.qZA(),c.TgZ(24,"li"),c.TgZ(25,"span"),c._UZ(26,"img",7),c.qZA(),c.TgZ(27,"span",4),c._uU(28,"www.infojeunesse17.com/"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(29,"div",2),c.TgZ(30,"ul",8),c.TgZ(31,"li"),c.TgZ(32,"a",9),c._UZ(33,"i",10),c.qZA(),c.qZA(),c.TgZ(34,"li"),c.TgZ(35,"a",9),c._UZ(36,"i",11),c.qZA(),c.qZA(),c.TgZ(37,"li"),c.TgZ(38,"a",9),c._UZ(39,"i",12),c.qZA(),c.qZA(),c.TgZ(40,"li"),c.TgZ(41,"a",9),c._UZ(42,"i",13),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(43,"div",14),c.TgZ(44,"div",0),c.TgZ(45,"div",1),c.TgZ(46,"div",15),c.TgZ(47,"p"),c._uU(48,"Copyright \xa9 2019 Design by "),c.TgZ(49,"a",16),c._uU(50,"Free Html Templates"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA())},styles:[""]}),n})(),dM=(()=>{class n{constructor(){this.title="CDIJDebat"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(e,i){1&e&&(c._UZ(0,"app-header"),c._UZ(1,"router-outlet"),c._UZ(2,"app-footer"))},directives:[G0,wf,Tx],styles:[""]}),n})();var fM=Fe(1282);let un=(()=>{class n{constructor(e,i){this.el=e,this._zone=i,this.updateChange=new c.vpe(!0),this.chartInstance=new c.vpe}ngOnChanges(e){const i=e.update&&e.update.currentValue;(e.options||i)&&(this.wrappedUpdateOrCreateChart(),i&&this.updateChange.emit(!1))}wrappedUpdateOrCreateChart(){this.runOutsideAngular?this._zone.runOutsideAngular(()=>{this.updateOrCreateChart()}):this.updateOrCreateChart()}updateOrCreateChart(){this.chart&&this.chart.update?this.chart.update(this.options,!0,this.oneToOne||!1):(this.chart=this.Highcharts[this.constructorType||"chart"](this.el.nativeElement,this.options,this.callbackFunction||null),this.chartInstance.emit(this.chart))}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=null)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["highcharts-chart"]],inputs:{Highcharts:"Highcharts",constructorType:"constructorType",callbackFunction:"callbackFunction",oneToOne:"oneToOne",runOutsideAngular:"runOutsideAngular",options:"options",update:"update"},outputs:{updateChange:"updateChange",chartInstance:"chartInstance"},features:[c.TTD],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),Dx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const kx=["sliderMain"],y_=["imageDiv"];function Ca(n,t){if(1&n&&(c.TgZ(0,"div",16),c._uU(1),c.qZA()),2&n){const e=c.oxw().$implicit,i=c.oxw(2);c.Q6J("dir",i.textDirection),c.xp6(1),c.Oqu(null==e?null:e.title)}}const Mx=function(n,t){return{"image-popup":n,"selected-image":t}},pM=function(n,t,e){return{width:n,"margin-left":t,"margin-right":e}};function z0(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",12,13),c.NdJ("click",function(){const a=c.CHM(e).$implicit;return c.oxw(2).imageOnClick(a.index)})("mouseenter",function(){c.CHM(e);const r=c.oxw(2);return r.stopSlideOnHover&&r.imageMouseEnterHandler()})("mouseleave",function(){c.CHM(e);const r=c.oxw(2);return r.stopSlideOnHover&&r.imageAutoSlide()}),c._UZ(2,"custom-img",14),c.YNc(3,Ca,2,2,"div",15),c.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=c.oxw(2);c.Q6J("ngClass",c.WLB(10,Mx,r.imagePopup,r.activeImageIndex==i))("ngStyle",c.kEZ(13,pM,r.sliderImageWidth+"px",r.imageMargin+"px",r.imageMargin+"px")),c.xp6(2),c.Q6J("imageUrl",(null==e?null:e.thumbImage)||(null==e?null:e.posterImage)||(null==e?null:e.video))("isVideo",!!(null!=e&&e.posterImage||null!=e&&e.video))("alt",(null==e?null:e.alt)||(null==e?null:e.title)||"")("title",(null==e?null:e.title)||(null==e?null:e.alt)||"")("direction",r.textDirection)("ratio",r.manageImageRatio)("lazy",r.lazyLoading),c.xp6(1),c.Q6J("ngIf",null==e?null:e.title)}}const Sc=function(n){return{"with-ng-main-pagination":n}},W0=function(n,t,e){return{"margin-left":n,width:t,transition:e}};function Rx(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",10),c.NdJ("touchstart",function(r){return c.CHM(e),c.oxw().swipe(r,"start")})("touchend",function(r){return c.CHM(e),c.oxw().swipe(r,"end")}),c.YNc(1,z0,4,17,"div",11),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("ngClass",c.VKq(3,Sc,e.paginationShow))("ngStyle",c.kEZ(5,W0,e.leftPos+"px",e.imageParentDivWidth+"px",e.effectStyle)),c.xp6(1),c.Q6J("ngForOf",e.imageObj)}}function q0(n,t){1&n&&(c.TgZ(0,"div",17),c._UZ(1,"span",18),c.qZA())}const Z0=function(n){return{disable:n}};function Ox(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"a",19),c.NdJ("click",function(){return c.CHM(e),c.oxw().prev()})("mouseenter",function(){c.CHM(e);const r=c.oxw();return r.stopSlideOnHover&&r.imageMouseEnterHandler()})("mouseleave",function(){c.CHM(e);const r=c.oxw();return r.stopSlideOnHover&&r.imageAutoSlide()}),c._uU(1,"\u2039"),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("ngClass",c.VKq(1,Z0,e.sliderPrevDisable))}}function aF(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"a",20),c.NdJ("click",function(){return c.CHM(e),c.oxw().next()})("mouseenter",function(){return c.CHM(e),c.oxw().imageMouseEnterHandler()})("mouseleave",function(){return c.CHM(e),c.oxw().imageAutoSlide()}),c._uU(1,"\u203a"),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("ngClass",c.VKq(1,Z0,e.sliderNextDisable))}}function Ic(n,t){if(1&n&&(c.TgZ(0,"div",21),c._uU(1),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.AsE("",e.visiableImageIndex+1," of ",e.totalImages,"")}}function __(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"slider-lightbox",22),c.NdJ("prevImage",function(r){return c.CHM(e),c.oxw().lightboxArrowClickHandler(r)})("nextImage",function(r){return c.CHM(e),c.oxw().lightboxArrowClickHandler(r)})("close",function(){return c.CHM(e),c.oxw().close()}),c.qZA(),c.qZA()}if(2&n){const e=c.oxw();c.xp6(1),c.Q6J("paginationShow",e.paginationShow)("showVideoControls",e.showVideoControls)("arrowKeyMove",e.arrowKeyMove)("images",e.ligthboxImageObj)("infinite",e.infinite)("animationSpeed",e.speed)("imageIndex",e.activeImageIndex)("show",e.ligthboxShow)("direction",e.textDirection)("videoAutoPlay",e.videoAutoPlay)}}const Rg=function(n){return{height:n}},A_=function(n){return{ratio:n}};function lF(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"img",7),c.NdJ("load",function(){return c.CHM(e),c.oxw(2).imageLoading=!1}),c.qZA()}if(2&n){const e=c.oxw(2);c.Q6J("ngClass",c.VKq(5,A_,e.ratio))("src",e.fileUrl,c.LSH)("alt",e.alt)("title",e.title),c.uIk("loading",1==e.lazy?"lazy":null)}}function gM(n,t){if(1&n&&c._UZ(0,"iframe",8),2&n){const e=c.oxw(2);c.Q6J("src",e.fileUrl,c.uOi),c.uIk("loading",1==e.lazy?"lazy":null)}}function Px(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"video",9),c.NdJ("click",function(r){return c.CHM(e),c.oxw(2).videoClickHandler(r)}),c._UZ(1,"source",10),c._uU(2," Your browser does not support the video tag. "),c.qZA()}if(2&n){const e=c.oxw(2);c.Q6J("id","video_"+e.imageIndex)("ngClass",c.VKq(5,A_,e.ratio))("autoplay",e.videoAutoPlay),c.uIk("controls",e.showVideoControls?e.showVideoControls:null),c.xp6(1),c.Q6J("src",e.fileUrl,c.LSH)}}function cF(n,t){if(1&n&&(c.TgZ(0,"div",11),c._uU(1,"Invalid file format"),c.qZA()),2&n){const e=c.oxw(2);c.Q6J("dir",e.direction)}}function mM(n,t){1&n&&c._UZ(0,"span",12)}const uF=function(n){return{"ng-fullimage-loading":n}};function Nx(n,t){if(1&n&&(c.TgZ(0,"div",1),c.YNc(1,lF,1,7,"img",2),c.YNc(2,gM,1,2,"iframe",3),c.YNc(3,Px,3,7,"video",4),c.YNc(4,cF,2,1,"div",5),c.YNc(5,mM,1,0,"span",6),c.qZA()),2&n){const e=c.oxw();c.Q6J("ngClass",c.VKq(6,uF,e.imageLoading)),c.xp6(1),c.Q6J("ngIf",e.type===e.IMAGE&&e.fileUrl),c.xp6(1),c.Q6J("ngIf",e.type===e.YOUTUBE&&e.fileUrl),c.xp6(1),c.Q6J("ngIf",e.type===e.VIDEO),c.xp6(1),c.Q6J("ngIf",!e.fileUrl),c.xp6(1),c.Q6J("ngIf",e.type===e.YOUTUBE||e.type===e.VIDEO||e.isVideo)}}const Fx=["lightboxDiv"],yM=["lightboxImageDiv"];function Y0(n,t){1&n&&(c.TgZ(0,"div",13),c._UZ(1,"div",14),c.qZA())}const hF=function(n){return{width:n}};function dF(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",15,16),c.NdJ("touchstart",function(r){return c.CHM(e),c.oxw(2).swipeLightboxImg(r,"start")})("touchend",function(r){return c.CHM(e),c.oxw(2).swipeLightboxImg(r,"end")}),c._UZ(2,"custom-img",17),c.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=c.oxw(2);c.Q6J("ngStyle",c.VKq(13,hF,r.popupWidth+"px")),c.uIk("id","ng-lightbox-image-"+i),c.xp6(2),c.Q6J("imageUrl",(null==e?null:e.image)||(null==e?null:e.video))("isVideo",!!(null!=e&&e.posterImage||null!=e&&e.video))("currentImageIndex",r.currentImageIndex)("imageIndex",i)("speed",r.speed)("videoAutoPlay",r.videoAutoPlay&&i==r.currentImageIndex)("showVideoControls",r.showVideoControls?1:0)("alt",(null==e?null:e.alt)||(null==e?null:e.title)||"")("title",(null==e?null:e.title)||(null==e?null:e.alt)||"")("showVideo",!0)("direction",r.direction)}}function fF(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"a",18),c.NdJ("click",function(){return c.CHM(e),c.oxw(2).prevImageLightbox()}),c._uU(1,"\u2039"),c.qZA()}if(2&n){const e=c.oxw(2);c.Q6J("ngClass",c.VKq(1,Z0,e.lightboxPrevDisable))}}function pF(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"a",19),c.NdJ("click",function(){return c.CHM(e),c.oxw(2).nextImageLightbox()}),c._uU(1,"\u203a"),c.qZA()}if(2&n){const e=c.oxw(2);c.Q6J("ngClass",c.VKq(1,Z0,e.lightboxNextDisable))}}function gF(n,t){if(1&n&&(c.TgZ(0,"div",20),c._uU(1),c.qZA()),2&n){const e=c.oxw(2);c.xp6(1),c.AsE("",e.currentImageIndex+1," of ",e.totalImages,"")}}const mF=function(n,t,e){return{"margin-left":n,"grid-template-columns":t,transition:e}},yF=function(n,t){return{show:n,hide:t}};function _F(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",1),c.TgZ(1,"div",2),c.TgZ(2,"a",3),c.NdJ("click",function(){return c.CHM(e),c.oxw().closeLightbox()}),c.qZA(),c.TgZ(3,"div",4,5),c.YNc(5,Y0,2,0,"div",6),c.TgZ(6,"div",7),c.YNc(7,dF,3,15,"div",8),c.qZA(),c.TgZ(8,"div",9),c._uU(9),c.qZA(),c.YNc(10,fF,2,3,"a",10),c.YNc(11,pF,2,3,"a",11),c.qZA(),c.qZA(),c.YNc(12,gF,2,2,"div",12),c.qZA()}if(2&n){const e=c.oxw();c.xp6(5),c.Q6J("ngIf",e.showLoading),c.xp6(1),c.Q6J("ngStyle",c.kEZ(9,mF,e.marginLeft+"px","repeat("+e.images.length+",1fr)",e.effectStyle)),c.xp6(1),c.Q6J("ngForOf",e.images),c.xp6(1),c.Q6J("dir",e.direction)("ngClass",c.WLB(13,yF,e.title,!e.title)),c.xp6(1),c.Oqu(e.title),c.xp6(1),c.Q6J("ngIf",e.images.length>1),c.xp6(1),c.Q6J("ngIf",e.images.length>1),c.xp6(1),c.Q6J("ngIf",e.paginationShow)}}let Lx=(()=>{class n{constructor(){}isBase64(e){return/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(e)}base64FileExtension(e){return e.substring("data:image/".length,e.indexOf(";base64"))}orderArray(e=[],i="ASC"){return(null==e?void 0:e.length)&&i?e.sort((r,a)=>null!==r.order&&r.order?null!==a.order&&a.order?r.order>a.order?"DESC"===i?-1:1:r.order<a.order?"DESC"===i?1:-1:void 0:-1:1):e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),AM=(()=>{class n{constructor(e,i,r,a){this.cdRef=e,this.platformId=i,this.imageSliderService=r,this.elRef=a,this.sliderMainDivWidth=0,this.imageParentDivWidth=0,this.imageObj=[],this.ligthboxImageObj=[],this.totalImages=0,this.leftPos=0,this.effectStyle="all 1s ease-in-out",this.speed=1,this.sliderPrevDisable=!1,this.sliderNextDisable=!1,this.slideImageCount=1,this.sliderImageWidth=205,this.sliderImageReceivedWidth=205,this.sliderImageHeight=200,this.sliderImageReceivedHeight=205,this.sliderImageSizeWithPadding=211,this.autoSlideCount=0,this.stopSlideOnHover=!0,this.showArrowButton=!0,this.textDirection="ltr",this.imageMargin=3,this.sliderOrderType="ASC",this.ligthboxShow=!1,this.activeImageIndex=-1,this.visiableImageIndex=0,this.infinite=!1,this.imagePopup=!0,this.images=[],this.videoAutoPlay=!1,this.paginationShow=!1,this.arrowKeyMove=!0,this.manageImageRatio=!1,this.showVideoControls=!0,this.lazyLoading=!1,this.imageClick=new c.vpe,this.arrowClick=new c.vpe,this.lightboxArrowClick=new c.vpe,this.lightboxClose=new c.vpe}set imageSize(e){e&&"object"==typeof e&&(e.hasOwnProperty("space")&&"number"==typeof e.space&&e.space>-1&&(this.imageMargin=e.space),e.hasOwnProperty("width")&&("number"==typeof e.width||"string"==typeof e.width)&&(this.sliderImageReceivedWidth=e.width),e.hasOwnProperty("height")&&("number"==typeof e.height||"string"==typeof e.height)&&(this.sliderImageReceivedHeight=e.height))}set direction(e){e&&(this.textDirection=e)}set animationSpeed(e){e&&"number"==typeof e&&e>=.1&&e<=5&&(this.speed=e,this.effectStyle=`all ${this.speed}s ease-in-out`)}set slideImage(e){e&&"number"==typeof e&&(this.slideImageCount=Math.round(e))}set autoSlide(e){e&&("number"==typeof e||"boolean"==typeof e||"object"==typeof e)&&("number"==typeof e&&e>=1&&e<=5?e=Math.round(e):"boolean"==typeof e?e=1:"object"==typeof e&&e.hasOwnProperty("interval")&&Math.round(e.interval)&&Math.round(e.interval)>=1&&Math.round(e.interval)<=5&&(this.stopSlideOnHover=!e.hasOwnProperty("stopOnHover")||e.stopOnHover,e=Math.round(e.interval)),this.autoSlideCount=1e3*e)}set showArrow(e){void 0!==e&&"boolean"==typeof e&&(this.showArrowButton=e)}set orderType(e){void 0!==e&&"string"==typeof e&&(this.sliderOrderType=e.toUpperCase())}set defaultActiveImage(e){"number"==typeof e&&e>-1&&(this.activeImageIndex=e)}onResize(e){this.setSliderWidth()}handleKeyboardEvent(e){e&&e.key&&("arrowright"===e.key.toLowerCase()&&!this.ligthboxShow&&this.arrowKeyMove&&this.next(),"arrowleft"===e.key.toLowerCase()&&!this.ligthboxShow&&this.arrowKeyMove&&this.prev(),"escape"===e.key.toLowerCase()&&this.ligthboxShow&&this.close())}ngOnInit(){if(this.infinite){this.effectStyle="none",this.leftPos=-1*this.sliderImageSizeWithPadding*this.slideImageCount;for(let e=1;e<=this.slideImageCount;e++)this.imageObj.unshift(this.imageObj[this.imageObj.length-e])}}ngAfterViewInit(){this.setSliderWidth(),this.cdRef.detectChanges(),Yc(this.platformId)&&this.imageAutoSlide()}ngOnDestroy(){this.autoSlideInterval&&clearInterval(this.autoSlideInterval),!0===this.ligthboxShow&&this.close()}ngOnChanges(e){if(e.images&&e.images.hasOwnProperty("previousValue")&&e.images.hasOwnProperty("currentValue")&&e.images.previousValue!=e.images.currentValue&&this.setSliderImages(e.images.currentValue),e&&e.imageSize){const i=e.imageSize;i&&i.previousValue&&i.currentValue&&i.previousValue.width&&i.previousValue.height&&i.currentValue.width&&i.currentValue.height&&(i.previousValue.width!==i.currentValue.width||i.previousValue.height!==i.currentValue.height)&&this.setSliderWidth()}}ngDoCheck(){this.images&&this.ligthboxImageObj&&this.images.length!==this.ligthboxImageObj.length&&this.setSliderImages(this.images)}setSliderImages(e){e&&e instanceof Array&&e.length&&(e.find(r=>{if(r.hasOwnProperty("order"))return!0})&&(e=this.imageSliderService.orderArray(e,this.sliderOrderType.toUpperCase())),this.imageObj=e.map((r,a)=>(r.index=a,r)),this.ligthboxImageObj=[...this.imageObj],this.totalImages=this.imageObj.length,this.setSliderWidth())}setSliderWidth(){this.sliderMain&&this.sliderMain.nativeElement&&this.sliderMain.nativeElement.offsetWidth&&(this.sliderMainDivWidth=this.sliderMain.nativeElement.offsetWidth),this.sliderMainDivWidth&&this.sliderImageReceivedWidth&&("number"==typeof this.sliderImageReceivedWidth?this.sliderImageWidth=this.sliderImageReceivedWidth:"string"==typeof this.sliderImageReceivedWidth&&(this.sliderImageReceivedWidth.indexOf("px")>=0?this.sliderImageWidth=parseFloat(this.sliderImageReceivedWidth):this.sliderImageReceivedWidth.indexOf("%")>=0?this.sliderImageWidth=+(this.sliderMainDivWidth*parseFloat(this.sliderImageReceivedWidth)/100).toFixed(2):parseFloat(this.sliderImageReceivedWidth)&&(this.sliderImageWidth=parseFloat(this.sliderImageReceivedWidth)))),window&&window.innerHeight&&this.sliderImageReceivedHeight&&("number"==typeof this.sliderImageReceivedHeight?this.sliderImageHeight=this.sliderImageReceivedHeight:"string"==typeof this.sliderImageReceivedHeight&&(this.sliderImageReceivedHeight.indexOf("px")>=0?this.sliderImageHeight=parseFloat(this.sliderImageReceivedHeight):this.sliderImageReceivedHeight.indexOf("%")>=0?this.sliderImageHeight=+(window.innerHeight*parseFloat(this.sliderImageReceivedHeight)/100).toFixed(2):parseFloat(this.sliderImageReceivedHeight)&&(this.sliderImageHeight=parseFloat(this.sliderImageReceivedHeight)))),this.sliderImageSizeWithPadding=this.sliderImageWidth+2*this.imageMargin,this.imageParentDivWidth=this.imageObj.length*this.sliderImageSizeWithPadding,this.imageDiv&&this.imageDiv.nativeElement&&this.imageDiv.nativeElement.offsetWidth&&(this.leftPos=this.infinite?-1*this.sliderImageSizeWithPadding*this.slideImageCount:0),this.nextPrevSliderButtonDisable()}imageOnClick(e){this.activeImageIndex=e,this.imagePopup&&this.showLightbox(),this.imageClick.emit(e)}imageAutoSlide(){this.infinite&&this.autoSlideCount&&!this.ligthboxShow&&(this.autoSlideInterval=setInterval(()=>{this.next()},this.autoSlideCount))}imageMouseEnterHandler(){this.infinite&&this.autoSlideCount&&this.autoSlideInterval&&clearInterval(this.autoSlideInterval)}prev(){this.sliderPrevDisable||(this.infinite?this.infinitePrevImg():this.prevImg(),this.sliderArrowDisableTeam("previous"),this.getVisiableIndex())}next(){this.sliderNextDisable||(this.infinite?this.infiniteNextImg():this.nextImg(),this.sliderArrowDisableTeam("next"),this.getVisiableIndex())}prevImg(){0>=this.leftPos+this.sliderImageSizeWithPadding*this.slideImageCount?this.leftPos+=this.sliderImageSizeWithPadding*this.slideImageCount:this.leftPos=0}nextImg(){this.imageParentDivWidth+this.leftPos-this.sliderMainDivWidth>this.sliderImageSizeWithPadding*this.slideImageCount?this.leftPos-=this.sliderImageSizeWithPadding*this.slideImageCount:this.imageParentDivWidth+this.leftPos-this.sliderMainDivWidth>0&&(this.leftPos-=this.imageParentDivWidth+this.leftPos-this.sliderMainDivWidth)}infinitePrevImg(){this.effectStyle=`all ${this.speed}s ease-in-out`,this.leftPos=0,setTimeout(()=>{this.effectStyle="none",this.leftPos=-1*this.sliderImageSizeWithPadding*this.slideImageCount;for(let e=0;e<this.slideImageCount;e++)this.imageObj.unshift(this.imageObj[this.imageObj.length-this.slideImageCount-1]),this.imageObj.pop()},1e3*this.speed)}infiniteNextImg(){this.effectStyle=`all ${this.speed}s ease-in-out`,this.leftPos=-2*this.sliderImageSizeWithPadding*this.slideImageCount,setTimeout(()=>{this.effectStyle="none";for(let e=0;e<this.slideImageCount;e++)this.imageObj.push(this.imageObj[this.slideImageCount]),this.imageObj.shift();this.leftPos=-1*this.sliderImageSizeWithPadding*this.slideImageCount},1e3*this.speed)}getVisiableIndex(){const e=Math.round((Math.abs(this.leftPos)+this.sliderImageWidth)/this.sliderImageWidth);this.imageObj[e-1]&&void 0!==this.imageObj[e-1].index&&(this.visiableImageIndex=this.imageObj[e-1].index)}sliderArrowDisableTeam(e){this.sliderNextDisable=!0,this.sliderPrevDisable=!0,setTimeout(()=>{this.nextPrevSliderButtonDisable(e)},1e3*this.speed)}nextPrevSliderButtonDisable(e){this.sliderNextDisable=!1,this.sliderPrevDisable=!1;const i={};this.infinite||(this.imageParentDivWidth+this.leftPos<=this.sliderMainDivWidth&&(this.sliderNextDisable=!0),this.leftPos>=0&&(this.sliderPrevDisable=!0),i.prevDisable=this.sliderPrevDisable,i.nextDisable=this.sliderNextDisable),e&&this.arrowClick.emit(Object.assign({action:e},i))}showLightbox(){this.imageObj.length&&(this.imageMouseEnterHandler(),this.ligthboxShow=!0,this.elRef.nativeElement.ownerDocument.body.style.overflow="hidden")}close(){this.ligthboxShow=!1,this.elRef.nativeElement.ownerDocument.body.style.overflow="",this.lightboxClose.emit(),this.imageAutoSlide()}lightboxArrowClickHandler(e){this.lightboxArrowClick.emit(e)}swipe(e,i){const r=[e.changedTouches[0].pageX,e.changedTouches[0].pageY],a=(new Date).getTime();if("start"===i)this.swipeCoord=r,this.swipeTime=a;else if("end"===i){const h=[r[0]-this.swipeCoord[0],r[1]-this.swipeCoord[1]];a-this.swipeTime<1e3&&Math.abs(h[0])>30&&Math.abs(h[0])>Math.abs(3*h[1])&&(h[0]<0?this.next():this.prev())}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36(c.Lbi),c.Y36(Lx),c.Y36(c.SBq))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-image-slider"]],viewQuery:function(e,i){if(1&e&&(c.Gf(kx,5),c.Gf(y_,5)),2&e){let r;c.iGM(r=c.CRH())&&(i.sliderMain=r.first),c.iGM(r=c.CRH())&&(i.imageDiv=r.first)}},hostBindings:function(e,i){1&e&&c.NdJ("resize",function(a){return i.onResize(a)},!1,c.Jf7)("keyup",function(a){return i.handleKeyboardEvent(a)},!1,c.evT)},inputs:{infinite:"infinite",imagePopup:"imagePopup",images:"images",videoAutoPlay:"videoAutoPlay",paginationShow:"paginationShow",arrowKeyMove:"arrowKeyMove",manageImageRatio:"manageImageRatio",showVideoControls:"showVideoControls",lazyLoading:"lazyLoading",imageSize:"imageSize",direction:"direction",animationSpeed:"animationSpeed",slideImage:"slideImage",autoSlide:"autoSlide",showArrow:"showArrow",orderType:"orderType",defaultActiveImage:"defaultActiveImage"},outputs:{imageClick:"imageClick",arrowClick:"arrowClick",lightboxArrowClick:"lightboxArrowClick",lightboxClose:"lightboxClose"},features:[c.TTD],decls:10,vars:12,consts:[[1,"ng-image-slider",3,"ngStyle"],[1,"ng-image-slider-container"],[1,"main",3,"ngStyle"],["sliderMain",""],["class","main-inner",3,"ngClass","ngStyle","touchstart","touchend",4,"ngIf"],["class","ng-image-slider-error",4,"ngIf"],["class","prev icons prev-icon",3,"ngClass","click","mouseenter","mouseleave",4,"ngIf"],["class","next icons next-icon",3,"ngClass","click","mouseenter","mouseleave",4,"ngIf"],["class","ng-main-pagination",4,"ngIf"],[4,"ngIf"],[1,"main-inner",3,"ngClass","ngStyle","touchstart","touchend"],["class","img-div",3,"ngClass","ngStyle","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"img-div",3,"ngClass","ngStyle","click","mouseenter","mouseleave"],["imageDiv",""],[3,"imageUrl","isVideo","alt","title","direction","ratio","lazy"],["class","caption",3,"dir",4,"ngIf"],[1,"caption",3,"dir"],[1,"ng-image-slider-error"],[1,"ng-image-slider-loader"],[1,"prev","icons","prev-icon",3,"ngClass","click","mouseenter","mouseleave"],[1,"next","icons","next-icon",3,"ngClass","click","mouseenter","mouseleave"],[1,"ng-main-pagination"],[3,"paginationShow","showVideoControls","arrowKeyMove","images","infinite","animationSpeed","imageIndex","show","direction","videoAutoPlay","prevImage","nextImage","close"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2,3),c.YNc(4,Rx,2,9,"div",4),c.YNc(5,q0,2,0,"div",5),c.YNc(6,Ox,2,3,"a",6),c.YNc(7,aF,2,3,"a",7),c.qZA(),c.YNc(8,Ic,2,2,"div",8),c.qZA(),c.qZA(),c.YNc(9,__,2,10,"div",9)),2&e&&(c.Q6J("ngStyle",c.VKq(8,Rg,i.sliderImageHeight+"px")),c.xp6(2),c.Q6J("ngStyle",c.VKq(10,Rg,i.sliderImageHeight+"px")),c.xp6(2),c.Q6J("ngIf",i.imageObj.length),c.xp6(1),c.Q6J("ngIf",!i.imageObj.length),c.xp6(1),c.Q6J("ngIf",i.showArrowButton&&i.imageObj.length>1),c.xp6(1),c.Q6J("ngIf",i.showArrowButton&&i.imageObj.length>1),c.xp6(1),c.Q6J("ngIf",i.imageObj.length&&i.paginationShow),c.xp6(1),c.Q6J("ngIf",i.ligthboxShow))},directives:function(){return[Ga,Sr,Js,vn,b_,Vx]},styles:[".ng-image-slider{display:inline-block;position:relative;width:100%}.ng-image-slider .ng-image-slider-container .main{overflow:hidden;position:absolute;height:200px;width:100%}.ng-image-slider .ng-image-slider-container .main .main-inner{width:1760px;padding:0;height:100%}.ng-image-slider .ng-image-slider-container .main .main-inner.with-ng-main-pagination{height:calc(100% - 30px)}.ng-image-slider .ng-image-slider-container .main .main-inner .full-screen{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAF+klEQVRoge2Yz28UyRXHv6+q50d7ftqDl42wrU1QFIXVkuAZD5pEzoYrihIhuERw2D8gl1UOKFeiaBfBIZGQIkVKGHGIQHsmspQoillgBfE4vpgQy4pFTIAdPB6Pe365u7peDsx4Z8z0/GDtS3Y+Uh+66vWr963u11X1gCFDhgz5qiEymYy5X86oW2c6nU4w8zcAxJhZaa2tZh8zK8MwLK11XAgRdF3360KIdxYWFn7VzWcqlfoJM38C4B8ASgC2WrpNZg4CgBCCAPiYeZOIfrOwsPC3Tv4Mr4GOHz8ecl13JRQKfS6ldJVSkpnJcZwQABARGYZRJiImIg4Gg/VCoTABoKsAZqZIJPKvy5cvjxQKBVEqlcJ7bUzTlOFw2ACA27dv6/n5+Z8BGEyAaZphpZR/fn7+290CavLkyZMnZ8+eVb3smNk1DEOl0+nv9uM3n89/dufOnddENvEUoJQ6YhjGFgDPhzugexkIIfxCiJ52TY4ePRoBEPDq9xTAzEoI4fY7UDAY9HUbqMVvvVwux69du/ZpIpEw4vG4b2JiInL48OF4IpEYk1L6Wu2LxeIOM5ffREBJKRXa237z5s17d+/edV6+fGmUSqVAtVoNO44TUkpFiejTXgLq9fqfiegP169f/xYRjTHzKBFpAAzAPX369L1Lly79sGlfKBRsIrK8/HUVoLWOtLY9f/786dWrV98D8DEzbwghiq7rFqWUm1LKlw8ePPhvLwHLy8s2PBJ9enr6R/fv3/9la9vm5qZi5uLAApaWlraTyaTftm3H7/f7AMC2bReAlcvlPuoV6JsghBBSyrb8KBaLmog8BYgu/jSAsmVZu9+fbdsKQN95MShEVK3Vam15VKlUGEDN6xnPN9BAK6V2f42FQqECQH6pKLuglKo015m9cXg900sAM/PuzdbW1g5eJduBIIQoa60H2mb0EtBGuVxW6PI6vyxSyrLruv7WNq01iMhz0np+Qo8ePVq3bbsOACsrK1Uiqu5DrF5sA4icOXPms3A47FarVfnixYtJZvZc4btu5qanp28Q0ffxSmgAwCYz/25xcfHX+xv3F8zMzHxPa/1NZg4IIbYBOMz8l1wuVzqoMYcMGTLkK0zXdeDkyZMTWmu/67phrXXNcZzny8vLnoeL/eDEiRM/kFJ+wMzNk6AiomWvYoGngFQq9VNm/r1hGBtSSsd1XZ9SalxKeezhw4drBxI9gGQy+dvJycnvnDt3jqWUtLGxobLZ7GypVAqurq7u7LXvdqB569ixYw9v3LjxfrMtk8msKaXGARyYACIKz87O2ufPn38feLUXymaznvbdzgOvYRiGo7Ue5JA/MMwcCoVCr30Z4+PjHWPtKoCI2hwZhmELIQ5UAIBwLBbre5fsKYCZCXv2/qZp1luS60Bg5lAikdjdUjfmkCuVysBvwBcIBNoEhMNhh5k7nZj2DSIKRCIRX8s9AFRM0+w4cZ6vioii8Xi8TQAzY5CiVD9kMhmzXq+PGoYx6rruGICo67qVVhshhLWzsxMF8Pne57t9a7FYLNaWA1NTU/ba2tovpqenf0xERSIqNkoeRQD/zuVyf0IfR85UKvUhM38IYNy27aAQoiaE2BgZGdmampp6kU6n0632Pp+vqpSKdfLVVcDo6GibgCtXrszmcrl/Pnv27O319fXRp0+futvb22RZllhZWXknmUz+PJfLfdJLADN/cPHixfVTp04FI5EIBwIBE8Bk43oNv99fq9VqgwsYGxtr6xdCiJmZmXc7GV+4cOHe48eP3+4VfAN15MiRkUOHDo33YyyldKWUHXPAM4mJqJ7P53tWm5s4jiPQ/4Gfte4/larVahTAfzr1dVuJC/l8/i3LsrZ1YzTLsqpa693CVjQaDRGRME0z2Kgc9Pv/ltlsdvvWrVvzlmV1nES/369N0wQzw7bt48zcsT7a7S/017m5uTNzc3NBAH4AFQCtNZsKgHqjzQcgxcx/7FPA35eWlhSA1Ubl2Wn4aI4tAUQbt1Vm/mhxcXG1T99vhEgmkyeTyeTXDnKQIUOG/B/yP/QEm5iXakbiAAAAAElFTkSuQmCC) 0 0/40px 40px no-repeat;position:absolute;z-index:8;display:block;height:40px;width:40px;top:4px;right:8px;opacity:.4;transition:.5s ease-in-out;cursor:pointer}.ng-image-slider .ng-image-slider-container .main .main-inner .img-div{width:205px;height:100%;margin-right:3px;margin-left:3px;position:relative;border-radius:5px;display:inline-block;box-shadow:inset 0 0 1px rgba(0,0,0,.24),0 0 2px rgba(0,0,0,.12)}.ng-image-slider .ng-image-slider-container .main .main-inner .img-div.image-popup{cursor:pointer}.ng-image-slider .ng-image-slider-container .main .main-inner .img-div img,.ng-image-slider .ng-image-slider-container .main .main-inner .img-div video{position:absolute;top:0;bottom:0;margin:auto;height:100%;width:100%;left:0;right:0;border-radius:5px}.ng-image-slider .ng-image-slider-container .main .main-inner .img-div img.ratio,.ng-image-slider .ng-image-slider-container .main .main-inner .img-div video.ratio{width:auto;height:auto;max-width:100%;max-height:100%}.ng-image-slider .ng-image-slider-container .main .main-inner .img-div .youtube-icon{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAC0CAMAAADSOgUjAAAAA3NCSVQICAjb4U/gAAAC9FBMVEX///+vr6+lpaWPj498fHx4eHh2dnZ0dHRvb29sbGxqampmZmZiYmJeXl5aWlpYWFhUVFRSUlJQUFBMTExKSkpISEhERERCQkJAQEA+Pj44ODg2NjYzMzMwMDAuLi4sLCwqKiooKCgkJCQiIiIgICAYGBgUFBQSEhIODg4MDAwKCgoICAgGBgYEBAQAAADj4+PV1dXBwcG/v7+9vb23t7ezs7Ovr6+rq6ulpaWhoaGPj4+Li4uJiYmHh4eDg4OBgYF+fn58fHx4eHhycnJvb29sbGxmZmZiYmJeXl5aWlpWVlZUVFRSUlJQUFBOTk5KSkpISEhGRkZERERCQkI+Pj47Ozs4ODg2NjYzMzMwMDAuLi4oKCgkJCQiIiIgICAeHh4cHBwUFBQSEhIODg4ICAgEBAQAAADl5eWrq6unp6ejo6OhoaGdnZ2ZmZmVlZWTk5OPj4+Li4uJiYmHh4eBgYF+fn58fHx4eHh0dHRycnJsbGxqampmZmZiYmJWVlYiIiIaGhoAAADMzMzDw8PBwcG/v7+9vb27u7u5ubm3t7e1tbWzs7OxsbGvr6+tra2pqamnp6elpaWhoaGfn5+dnZ2ZmZmVlZWTk5ORkZGJiYlISEjv7+/p6enj4+PT09PPz8/MzMzJycnHx8fFxcXDw8PBwcG/v7+9vb27u7u5ubm3t7ezs7Ovr6+Li4vf39/Z2dnX19fV1dXT09PR0dHPz8/MzMzJycnHx8e9vb3t7e3l5eXj4+Pf39/d3d3b29vZ2dnX19fV1dXT09PR0dHPz8/MzMzp6enn5+fl5eXj4+Ph4eHf39/d3d3X19fT09O9vb3v7+/t7e3r6+vp6enn5+fl5eXj4+Pf39/Z2dnT09PHx8f19fXz8/Px8fHv7+/t7e3r6+vp6enn5+fl5eXj4+P5+fn39/f19fXz8/Px8fHv7+/t7e3f39/7+/v5+fn39/f19fXz8/Px8fHv7+/////7+/v5+fn39/fz8/P////7+/v///9a1shPAAAA/HRSTlMAERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERESIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzRERERERERERERERERERERERERERERERERFVVVVVVVVVVVVVVVVVVVVVVVVVmZmZmZmZmZmZmZnd3d3d3d3d3d3d3d3eIiIiIiIiIiIiImZmZmZmZmZmZmZmqqqqqqqqqqqqqu7u7u7u7u7vMzMzMzMzM3d3d3d3u7v9/AAjkAAAACXBIWXMAAAsSAAALEgHS3X78AAAAFnRFWHRDcmVhdGlvbiBUaW1lADA2LzEyLzE09BLGOQAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAA/MSURBVHic7Z15fBTlGcenhz20rbWXKHhU5RDhra22ilal0IpC1VJb1IKlVpmiRUBiuBEBFWIQMXgfAUtIREAIgciVBIpCLjUXeITdRITsJrqHurPp7PzTea+59pjZza7JOzu/z8eoO7PvO893n+d933nned/hOEeOHDly5MiRI0eOHDly5MiRI0eOsAAAvX0JbApAdFpxDkirAonU2xfX15UQngMxsSzBcyDGU1L4HIRGmQByECZUTDLg+1f/+pe/+JesSy+/8rvngpgnOgy5KCryJ6OWvvRyXbPbGwx2h8Pd3YGgx9VWve+lV6YOiQM7m2Xk8WDh7gaPPyJCSaKEJGIJgWMNe/KnOAg10nEAY/P3tfoEUVWISPOJ4G/cmTPJQYikY/D7R/d0aLmJemk/CzVsnfFDB6HW/u9N3+cRJcJJyy0SiRgxouD2NRZfmeUINaYPyGsSZHwqvJAQCLpr6g8eLC8p2bjhrbf217Z4A35B64uS6Cmdms0ENU3fskbofBSf4GmvK189lzd2FROe23ig2uXXOqK/YjqXpQQ1Ri9zK/gkMdxWWZhLDvE64c/uzN9W97ncNxOEUqBqdFYiVC0ecUjANEKSFOp6a/nYKHIGjBy4YtPRIA14SQpuzcIwVg1+w6/Eo7d29WgDPeX/tB/L51wwq7wlRBFGGvOyjKBq7fJW3J5BfG8u0NIzNoD6qJb/647n63z0y769t2QTQsXQG/eGCAHBU3SbSicePcKQnAemzD7sRwjlPx1Z5ISKmf92YXxS5Nha1fcSwjM6Yu7hIAlk4b9naDsmG0sxcq1fwm3Y59sBlxQ+FSHgprVEJPwzNF+ZFQSphT/bE8H8hNoxHEgOnhYi4Io6CcHgo+qh3jYzY6L2XdtIwte7SfGm5IUJjqsP4bKEnUBpP3vb0AyJWvcrL/GalpHx8RkeY0Y95lQQgtcDuLhQpc0JUtuWEYOF8v5x+MUtwUgRf3t6Gy5QrLE1QWr0I6j7kId+BTHxWS5H44Q/rYpgl27qb70c1kQNy/Nhb2keE6PzSLIsihCAInRLI0qN/exKkFr1BOFXMymKXyrlKU6Yj9oFuVm90KZRTGy6l/CrB0Z+KZaoELzPgwiKtUo7mAErek/EpBEeSe4tRfEg7UF7FG/6MH7Ai9vWCq5HhfZNEYtOd2MveTst/IwE53YigpF19msGqUHV+Obf6H9pKBkRzMU+GH7Cds0gsWY75lefPn4GgjOCiKDnOpu5IDFmqYD4HRmq45em0jHB/DCqoukiWxEktlzzBXIP923p5acjyK3FP9J+O3Uk1JQW1IH4Z6abn94HK1EzEV5uI4LEkPW4ASzW8kt3HXLBk9vgQFPqvNA2AIkdN5xENwq1GeGnJZjrQxUdTE8f1QdErDiMHKNrHMgIPy3BjcjVhedsApAYgXtg4akMOaAWIKhBd4uNU+wxGMQ2DIZPkETxQMb4aQnmBOGPFVpvi3tiYkIhnK+Tum7KVACrVUGC/0FB3HqHHQhiCy6Ed6liZFMm+akEQb+PYXXiVo59gMQA6BKi1AwsAkzRYtUFn0Utrqcf8y5ITOrnhh4hFHAW+CmjjxSsVlwQHJUH7WLkVY71foRcfQlqkxo0PYjZV1KEqLjg09AFJfclrLsgvvpT25ADrjYPYDC4ZwRVF2yGLii+lro39w3hq39UdUATfuC03btP6QlCSpB7DE7LSG2MA8QXP6AFpSGYO6B84Dut0smt3wAGJVuj7ILDYe4D8nqWCeJrH4FuTt13W+AHftIqieLJslFA22GnRLBYgB1//TCWXZBcehmK4F3AAj9w1jEJ5vt53p5vfGqXXKXyFztgrR0jWQ5ifOXnozFMYJElgP1d+Mma9MWBkakhVFxwG5o9W84wQHLl02EES/XAZAiDj53jRh4Is8e/rJpvTP1IolqefwjGsFh3FrsEyXWXotuqzdYAnteGAaI1D1+886Ix8dJytfKXGqELBq5lHeCwJuiA3pGWIhhMxABp6nnw3YeSRqjEcDmak1nJbj+Mr/sPfhiQ7w8GJjch2OpJFCBF6H930T1JIqQAn0cxXHExqwCJuXloIrDYzAE5HHeT2hWAdPVS97uz/2lMg7NSMRgPey/J9VdWY5hcdgUEGLzMUgTz/N8/1gDEEEUp/OELyQSyclIVbH39sxkH6IIO2D7eLNkiHkD8KA8itJ7NRc/YRJ2fZYATYBMoVlmKYPmkydEAEUGp+4MXLCfE0eMzAzCGqxgFSIx40gcBFnLWmkD+H8ejASoInzF6YeKqwSloFqglvQ/xvzKRa94G0wH9eRb7kDgA0dBaRvh+gbW2kBwcWgPntLx/YRrgIWi7Z4HZIMYUIF4TFz6+ZYoFhPTYTli5bw7TABugDW2g5wAJQuGTZyfqEcatG4AV6EtPs9kI4mse5oamN5tGsBWAdGHxic1m+V34c567NAxDv4RlgNd7rXXCCsBPEgAkjaEUObFJhzBO3QBcHiRP85kFyE0NQJvLTSOYAnzYFCAaWkdOFE9JNDtBAI5E+RA1TLaB5JKXwWGg8Fo6AWKE4sdv8vHXMxBi49vh6S2ARYLkigvhDb2wCpiOxZIBiOcZIl27JsYplFY2tAWe3chkyjm54lcgQP/z5iYkBZB0J5HOdadzCQnWwhA+Zu7/fVDkil+OQIC56Q1hJZBFsWPbt7gY5VKAaCbDwy5AnnsJAZybbg9UA1n0vfGD+ABhwrTYweTaLy3AwMKMACQT/w2/iQ+wCgI8ybwHZgygjK/r5UQhvF8PkCGCgABEbWBgTiYAoh0/tp4fsxfRhbCHxWXsOoD+B9MOELV/4XfmcKTkmNUrnQiDAPXDmOfSP4yR/7y/hY/XulGA7A9jlqKB9JPpBYjwfbplsTopE7t2ANBA2s0yQHwrtzHN98Ki+OWuxfyS+PmahN+ZTfALLSwDVCYT0uWBqPH733sv8ksS8KMAr0OTCbUMAwQ3oOmsynTdCyN83R9CfEt4UwcEl+mns1gECNCE6mEuPSGMBs6fbVmyJDE/xf/xhOoGJgFGTemnASDk9+nmJUZ+8QGugIMocQ2Ld3LKrQh+qLTI1AksAJTx4caP4DPjB0A5SvOdyzBAwJXCcYwv3yrAeFP6eKu8jxZFu1+Ch0oDq+FjTc94lgGCVYYH64lOjwsQz/6d2KLBl7BXIoe+iXJjm6ew2Amrs+o+/FTJzAsowFhP5RC+Ty3jU+p+QJ/awSZA4III2m/tAUA0cH7vYWvRq617U0iXXMQowAqUaHu5leysWADxwPkj3HdYw6fOxaD0tlxGAaoJlhBBkcX0NgNAPGX64bxY0WsK8M8owdI9kc0+RDFjIUrxrbvYxAzigZMNAOV/Pkui8dPVPAst8KkbyqgDUjPuQUnmnaNNXJB4oC4/ELrul5sXJ9H4aSsG61GS+WZWI1ixAy1zMLWDAFQyVEN01iCp4NXWfDda5hC8ilmAlCBeultnJUuf5+9sp+tE4A7xusbPIj2l3vloAHX0bDZHgVDEkP5oONthdjeHAU6iAOWR3ydJN36aaulSrxJ2HVCJYbzY0MwSbDZeJ4JmnHelhE+tthWNn5gdxHCqJfehHSDaEsw+qWfDlUrocdvbt8cY+VmCgH8JLk+gS/SYBUgJ/vwI2jb/mcS+gA+dCz1QEj6YzfOp4aOV4nk0YQ2Ts9FU1PDlKIYbTWxBh85xS6J4HKbjk9hNeqM84oBT8ZL/gQxHMKcQnIB3PVlpwQXPapW8JbcBnk8Rn/KjHUL7nhQz7YDaIS3sFw6ZtEfwwI8O7fl2D/ApAXxfN3T6rrsYB0jt+Rtchy6G8xPvgwMPDBwEtG9OSjr86DfQVGpknfmzmD4uCmC9svWTaRBHK/n6QAHq+DtvYt0BlUHtALz52EoTj+ghPqWAwU1olfx20wVmfV+EILdORFsxDbAymk4Zn+LwG1C33zGWeQdUXfDMY+jGaoe1hf+p4VO+PMqDRuNFTA+iqagLrsBbgN5vYVyWss0UYI1Eb32Yd0DFKB4cQpvQuq/P3MiW8ivCm9A+bQsHVIN4rh+/7eOSTBGkFc0MoBSG/Wb7rLAixQXfRI4R2pAhx6D+d44bb8Q9xiYOqFo25CjeCn52ZlyQlrkX9ffC47bhp7rgOPy+FJfZWKYntXDrI6il2Gllt1FWRAlyq/CbFjLx8jda3jQBDaGPDLGPA2pckCsV6bsqkp8msFAD4K4jL2S5MbP7LX/VUggOasYEd6SXIC0KjEIvKhWFAnvx0xC81YUJbgdpJKjwG+PCr7wqsxs/DcHpHpztUnqxSrBnRiqlgDkuXPY++/FTAPJguR9bWTkoPQTVMmaS36ZmeMLsVUZFzZQJhvEmnzUXaF+m3sNi5QLWBPDzvCN3pTKT3fcVRVBqPoNL9olb/EK5R7pxqccvALbkp4libiMh6L6XS23eXl8i6o/eiOAym86wYQOIpfGWFYRgYC3QhnFKk89Io5tIJubRHwN7BjCUhuDjHST95fBYoFeSZWE91kH41d9uY34agjyY6SYmux4fYkBoOfuKnn5zpYALE0oHpfQolB1pCN5cHSFWV/xWH8cmthtxD1t6jPwWQd0b6+zIT9/sl/nxi+Ulz9oBRiqYgJ5B1PvpkabWRsj76dtzU9x9nylpCHJPdRGCYvuG2HQSSmbFXVNJfwWhMtW3FzAm1X4ejKuLUIRtxUM4wBsjOSE+jrt2b5Am8n/+WJbw0xMEhV6JbBYdcRUO5KLawvjiuHv3BET8bUmsuUrX/NmZn54g97t6ge63HfHuzrHugYUNAYmmUneWDM8ifjqCPLhkTWOIbuIk+lvL5k02ZTd8QsGeDoEuYhL9ZTeBrOKnHYlAs+8uaY0oNERfY9mqBefHp/enGRtqO0Kiiq96oQGf/flxRoRgnSuixKMohTzNFa+ufuBrp1Ec6N8Xff2KGa+V1rh9dBEJ7HsCh3Os729uKwEdQg4sawyTHgHtuS2Jgt/bVFtRVlael59XvGPHgbpqd9APX9OiniR6D9zPGbwvW/gZfFDuTcC0eq/MhDoXhCjpVm1K6AN6VJTCbUU301TMLOTHGZ1Q/vvHotqAssqLcNIv3FQ+FdwHCkDU1vpZhY/T39USENNer/MIouJqRkHPE0P+9p0rx8XAl238jPMCGMfgES/srHYHQqIkGiVz9XmbKjZffWoselnIjzMgVNqz8ybMW/Xq/pomb4ffBycNI4Lf73W11JeVPDvu7GFKDjqf9fig9E6kzc/n77r1oQXzcmbl5MyaPX/hLbfz2hOSmP+yvUCUYkJS145E3zD3tgm9rWiEOl58InYOPqRYXBBGQDvouPM0vX3pfUXx+Jioty+7T8mh12M5+NIgB14a5MBLhxx2aZIDzpEjR44cOXLkyJEjR44cOXLkyJGjdOr/ODCzC5DKTiMAAAAASUVORK5CYII=) center center/140px 80px no-repeat;position:absolute;z-index:6;display:block;height:100%;width:100%;top:0;left:0}.ng-image-slider .ng-image-slider-container .main .main-inner .img-div .caption{position:absolute;bottom:0;padding:5px;color:#fff;background-image:linear-gradient(to right,rgba(0,0,0,.1),rgba(0,0,0,.25),rgba(0,0,0,.5),rgba(0,0,0,.25),rgba(0,0,0,.1));width:100%;text-align:center;box-sizing:border-box;border-radius:0 0 5px 5px}.ng-image-slider .ng-image-slider-container .main .main-inner:hover .full-screen{transition:.5s ease-in-out;opacity:1}.ng-image-slider .ng-image-slider-container .main .next,.ng-image-slider .ng-image-slider-container .main .prev{position:absolute;right:10px;top:50%;background-color:#fff;border-radius:50%;cursor:pointer;margin-top:-16px;outline:0;width:35px;height:35px;font-size:35px;line-height:30px;z-index:8;transition:.5s ease-in-out;text-align:center}.ng-image-slider .ng-image-slider-container .main .next:hover,.ng-image-slider .ng-image-slider-container .main .prev:hover{background-color:#d4cdcd;background-position:-192px -415px}.ng-image-slider .ng-image-slider-container .main .next.disable,.ng-image-slider .ng-image-slider-container .main .prev.disable{color:#bbb;background-color:#fff;opacity:.5;cursor:default}.ng-image-slider .ng-image-slider-container .main .prev{left:10px}.ng-image-slider .ng-image-slider-container .main .prev:hover{background-position:-194px -450px}.ng-image-slider .ng-image-slider-container .ng-main-pagination{background-color:inherit;color:inherit;position:absolute;height:30px;width:calc(100% - 6px);text-align:center;bottom:0;font-size:16px;line-height:30px;border-radius:0 0 5px 5px;margin:0 3px}.ng-image-slider .ng-image-slider-error{height:100%;position:relative;display:flex;justify-content:center;align-items:center}.ng-image-slider .ng-image-slider-error .ng-image-slider-loader{background-image:url(data:image/gif;base64,R0lGODlhQABAAKUAAAQCBISChMTCxDQ2NOzq7KyqrExOTBweHJSSlNTW1PT29FxaXLS2tCwqLAwKDIyKjMzKzERCRPTy9FRWVCQmJJyanNze3Pz+/GRiZLy+vExKTAQGBISGhMTGxOzu7KyurFRSVCQiJJSWlNza3Pz6/FxeXLy6vCwuLAwODIyOjMzOzERGRAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQAsACwAAAAAQABAAAAG/kCWcEgsGo/IpHLJbDqf0CgRtXg8FiipdjshXL4XwmRLdk7A6Mu4zD6ivOkvIduuCzFxNMbOHCwWA0opeWApfEkgI2gWIEgPhF8Ph0cBhAFHJZAXe0gHHBkmHAdaZ5BrUx6EHnRGGhJoChpRABaaFgBGpXELna9pEqNPA5pfgUYLcHKnRg8keZJPeMScRiglViWsRwKEAlDSmtRkGd1Qw8TGZY/PULS2uGwHvmjAUbp5vHUaCrCyUpV5LvE58EBAhgfBSNUCY2HZpDoDSpRI97CixYsYM2pkgoICBW0bo0Rg4OwCCQYRQkLZIIJQBXgql1TQhCDmkhXELqwIeaCA/gcJBRIOIUcsw8YGyS54CEHEQUlNJBxo/BDnA5ETOb+c0DgPjAQiDbJe2Jqx65evQ5zmjDq1ahGimoxqRIrGA4UiEXKm3NhTAlChQ2ZCqmlTyQbBcSpsKMwkgomSJEzsZdzEAYUGUilr3sw5yYkUCSR4SJCCbGciLJ+CISFi8WkWG+DmyeC6c0tiIk43UE2IRAM+FJhKuZ0zd5sQEL5AEP4kgdgEdZKDgRCFNyQSx+PcfWK9dxsK2qE4zwq9jXTlUYjjrhNCxRcVzJ2c6J7GN/DfWhBDqpBkgwEDmWXkADeQCFBbEQ64d4EKAWLEEiGtIYJGIyE1gEBoEoyAAH4SG4JB4WtGbCAdBAeCSAQABoAAk4kstujii00EAQAh+QQJCQApACwAAAAAQABAAIUEAgSEgoTEwsREQkSsrqwcGhzk5uRsamyUkpT09vQMDgxcWlwkJiR0dnTMysxMSky8urycmpwMCgyMiowkIiTs7ux0cnT8/vwEBgTExsRERkS0trQcHhzs6uxsbmyUlpT8+vwUFhQsLix8fnzMzsxMTky8vrycnpyMjowAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCUcEgsGo/IpHLJbDqf0Kh0Sl0uMheQY1HtOj+XsPjjLSMX4vSFa24LHWqxw90GgOJhEICeFE02GxMiSQAJeFl7fEUAE3dpE4lGcHhzikUThxNnh2xIEiMZGSMSUyKHYYNHCHERSgokaSQKUpinmmeTW0sBcQFSEKcXEG1YapVQwKfDZpNpx08owShtvGq+UaanqWWvsbNS0XjTbhIBGQ4BpFMA4WkokZZdIigQGyjb8fn6+/z9/v8AAxLB8MCDhwcYBD7x0CFNhQMKmZw4dCJikgPBPASkwMBThWAV1PHjkIuCkRLBwmjw1+zCMyEWUl5o0I9CnI5EYqakyY/B/s0iKFM+YOnMiISPp0L64wDrAgmTRjwEgwiQAU4kE/FUtJjEAtIwFSxwXSKhoIUHIseqXcu2bRIFVr+5JTJggyMQGwbMTYEBDJ4I8NRGCIagrQaZK9eakGnCTYgGFkJIkeAoGIi0AylQSMikgIEwBgpgk4nKyAMIdyGUWDIizYjRpPFJIHCIgFwjrcW8hkJZ5uUhGAQEE8DZSIGGFzqIjrI4ZeMhtYLdOvK4wfIoA2TqFRKi8qkEki0NPlV4CEbSVBVhGM+qeAr2KbfGG4A6D4TtRGiTJsBPQlwk8AUjn0XnyZSeRQV4dwgI4Y0V3SnjqCVBMYc4gBlXCugXh217CZVgwl0mrOZGEAAh+QQJCQAyACwAAAAAQABAAIUEAgSEgoREQkTEwsQkIiSkoqRsamzk4uT08vQUFhRUVlQ0MjS0srSUlpR0dnQMCgxMSkzU0tSsqqzs6uz8+vw8OjzMyswsLix0cnQcHhxcXly8vrycnpwEBgSEhoRERkTExsQkJiSkpqRsbmzk5uT09vQcGhxcWlw0NjS0trScmpx8fnwMDgxMTkysrqzs7uz8/vw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCZcEgsGo/IpHLJbDqf0Kh0Sq1ar8lLilJKXbBg5AUBK8MQ37BamDKbU2s1gOIuUwBxZYdA6CwBJXUwd3lHDwETZS8BD0ptdXCFRR0bght+SAtkZmhNHXhVAYJlAUpaFBQpC0wsHAglHCxTHYmjE5hgIm4iUyGjZiFhD3RmFLhPvr8wwWAdxHbHTrS/t2oSbhJUHr8eaywFrwWyswOCA9FgAKBVDx4vZQiMkmEAIX3z+Pn6+/z9/v8AA06p0AAECBUVBDLpwEEQB3QKhzQcxSHikRjKYMTwl8ABhgRIJv6qyM8EiTIkTByxkNFCvxVuVqxs+TLmEZEU+5moNUGl/hGMyjb26+jA55ECvwpYPNIBaZ0CEJfKiKHCoAqhUrNq3cq1q8IKATgUCJCwSgcII0ZAiEoFBcs6FlBMGVFLkYEwCp7VKXEiCk43JK2g0CuIglwnBjKOsAIgQsYyEdYpefBO2YtGVAQ8NiOgSYvNH6ps2wyjGxMMmx0gAYDixAkUkodcI53tdGojAAwccEPCQGxdtD1vhjDJxS8Xx0ZvNr2EcsbLRVRkbEDkA2kYnZuMyHiXyALCglYJabw58pO/ZgIPkf5YBZEK4N1QKPsEQ2V4i404fhyhSN5fFPQlxQNoYbAWErs9doARbgkSFz77ZdQfbjF4UEABHsQQWx4NKWzmnlQobHaYVOi58WFWHTDwCwNsCZTbSWZM4JtXMgBQgQYaVLDhFUEAACH5BAkJACoALAAAAABAAEAAhQQCBISChDw6PMTGxOTm5CQiJFRWVKSipNTW1CwuLAwODJSWlERGRGxqbMzOzPT29LS2tNze3AwKDERCRCwqLGRiZDQ2NJyenPz+/AQGBISGhDw+PMzKzCQmJFxaXKyqrNza3DQyNBQWFJyanExKTGxubNTS1Pz6/Ly6vOTi5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJVwSCwaj8ikcslsOp/QqHRKrVqvS0oHy10WHBiMqdAtF03hsMPM7qTTFHaZ8g7H5UqRyIlOm/BJJH0IJEwFfWOARwx1GAxNFHdNEgYeElYIjQhsEpkYCJdTIo1he2UVbxVUo6SmXahpqlQgjSBsCp4gClWMdYWcHpZXJLQYIL+KXHrJzM3Oz9DR0tPUzgIBFwcBAtVMFhyNHBZJEiEhGdEGJ6QYDx5GGRoPYQ8a6M0C8+wYJ+NDCn3eONiVDEDAfSYADFnAbgGzCfvqTBCiQF+jBwQBaYj4RoOQEBH9AfrAMc0HIRZCJiNZEsNJFQrWkToRSmNLDB6FMCTlMFn+r5ITKR4MYyIjIIMlExKJJ/OEPWsy2Z3gZkSChRA1namT+q7bkW/hRHo1AmCDhgMHNGxQOLat27djJVSAAAIBhAb3pghYMGDACKpdLKRolEKskwwXGl3IayUfuweAnSQmdQGLhMH7UjBesiHihisNSjZ4MpldZSsoSqJ4Am4fhysRSkZgHfE1kgQBPqRNgCQ2x9mSI54uImHnmxGbVaTmuNpJ532fiwBY3ggF2yElSpaAcoDdgSOh940mIoFAxBRGmWToXudAchW+2QEnMsFinalTNozoOyK6kQIlkVGEAJi9kUJkcoDEkWFCSNAAXSCgUEFWeADIkYBuxUdKCnAgqRAeO+O9lQF1dVjXoQqINYLciUOEoMEHH2gQAovQBAEAIfkECQkAMAAsAAAAAEAAQACFBAIEhIKEREJExMbEJCIk5ObkbGpsrKqsFBIUNDI09Pb03NrcVFJUdHZ0tLa0DAoMlJKULCos7O7sHBocPDo8zM7MtLK0/P785OLkXFpcfH58BAYEhIaETEpMzMrMJCYk7OrsbG5srK6sFBYUNDY0/Pr83N7cVFZUfHp8vLq8DA4MlJaULC4s9PL0HB4cPD48AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5AmHBILBqPyKRyyWw6n9CodEqtWq/YbHaiCUy0YCNBcrlICEwAi8FgAcJMTbkcUG5QhfmlgNrAkwF6GkkjA3p6AyN/R2NlZ0gbHoeHA35SGwIvD04TAV5JDSWTh4NRCSZlJglZAHmjeiBvTw+ocwWbVwmvkyRQL5MvWBm7hxm+wMLEesazrmW3WLrKZb1Qp6mrWBsg0yCWUA8CArhZDdOli1GRxB7f6VCFr4nvVHfccyB99FYACWwJsvYJHEiwoMEwDww4WLDAgQF3B5WQqKUHQ7UjAD58CDjwhahRCigcOYGhDIYTBGkRwwDxxCSUAg1MM0Ck1SQMHNOlmJaCyP6HVx8EUtxlwidQgSWVFR1i81CBnIt2KutJxGWxgTKVhTCSIenJlM5GYVCBMUIEqPQ8viohMqISCkkrtnVrRyHDFA/p6t3Lt69fOA/MkqvyIEECiFk+HFBQpsSBoFM2cGB8QQEHxFU6tJjUooMUFRUmVSCLJcJmkBGirHi1IssBYgegqPg4SQFpwrRHlRi8RNqri1RYTGPxhAQx4Ece8C4iXBlxJ7PXLhfyoMGCMgv0GXmQe9JuKKtHtT6CwNAhDwiOvN4VW3boQxXSHxHxysKRD6c5p47ygMPHEhxMB4NvoyAnhGaceUbFAyQkIKAQcuyCThERiPCfCPvRAwExEC8o8QALLDwIBwrEoPCXEMbtYiBfFtR34hAIvKdHfC8O8QAKtZiAgoh+qcBjjYsEAQAh+QQJCQAuACwAAAAAQABAAIUEAgSMioxEQkTMysxkYmTk5uQkIiSsqqxUUlT09vSUlpTc2tx0cnQcGhwsLiwMCgxMSkzU0tRsamzs7uxcWlyUkpQsKiy0trT8/vycnpwEBgSMjoxERkTMzsxkZmTs6uwkJiSsrqxUVlT8+vycmpzk4uR8enw0MjQMDgxMTkzU1tRsbmz08vRcXlwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCXcEgsGo8ayCYU2kAAx6h0Sp1yVJisdiGoer9fz0hLxowk4LR6yBmXy921nKrBvssqzXx/TN3vCHyCQxV/bxWDgxeGZRdHBisKFSsGiVOLjFqORA8kblkjGQ+WR4WZWYhDDwN/A6OkRAinWYFDCowZcycBGydRAHaMC1BCBp93I5VqDglZCQ5RbZlxQgynDGu3WgpSYn9nRSSnuWqmWdxSAgtvXEYZ42sObiPQUwBKTBVPR9aZ2GsnNvQiZYzRCBCwBL0zRC7hngcd/nR45XAPioVkMqComMgAAwUkGCjjSLKkyZMoU6o0+cCCBYorwYA40MzMAYQxvUBg8YYF/gQpKCBA2KjSAs87CSwcETAhywRqJw8wOmAERVMtE4iyrPkNpgs/ZVKgdHCq3hCwZMSePFG2iFUyWVE+OPZmhFcXAo6ygGpSqiGqR4IOXWn0DwulOafs7PkzMRULIeaFQOy4ygMHDu5W3sy5s+fPoCuioBAgAAWtcwCAAEEMlogPZD6I2COiRJYSs0mJ+JNbze4yvQWhgH3nA2ovAAq8KdGaDwFGBNSA+INT0AZGG6RTTxSAUQA1yd8UaG4EAAcTJjiQJ/LcUHTfbyhMARGBTATKbq++ibuGgm0MuE3RgHJlFNBAFL/FtwcALq1XhDZvoHMEBcRlIRtKBIo3BQoELpTWwnEcacCIHqFVWMYHoQkBYRkSgjbgGx8cmKILFgSDgQr4pWgeevvM6CNnQQAAIfkECQkAJgAsAAAAAEAAQACFBAIEhIaEREJExMbEJCIkZGJktLK07OrsnJqcVFZUDA4MNDI0/Pr8jI6M5OLkdHZ0TEpMzM7MLCosvL689PL0XF5cFBYUBAYEjIqMzMrMJCYkZGZk7O7snJ6cXFpcFBIUNDY0/P78lJKUfHp8TE5MxMLEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5Ak3BILBqPyKRyyWyaPo/BwTF4KJzYrBJyCHm/B4h2PIYwvugQQ0xuLxWcdJrzcduPI7l8dGcSAhkOBwMBBEcDemkDfUkAAWdpDBgARXGJXxSMRxcGlyEGlEMUnl6ZRgAFE1MTBRdaAaQhGESIpItFFrVoAxZYGpCeDBpDeaR8RAC6iq5NDbFeDUMflol0RQWeG04RzyERRGaXbEQlnhNOo8+mQwLUXxzjRO5yHE7zl+vSI1IHGSNXR9JV29btm5tyl841EdEtmpsN2Zz8isVAgh0AGRJlCNUEQ6xZdyxkTJOhFxZOngwwuwNgQ4kDB0ps4IgFAAZgXyTR1NRHQ/6ACDAjYDDEs6jRo0iTKl3KtKlTIQo8YMDgAeBTLQm6gElwNUuCRFyRgOiAAERXBVrlHLBKZEG6ilexXSpwBAGaDledXXJYpMPdqx4vgSyyABKDBVcreKJ7REKHDoivwqnGtmuSr3o8WHbiIW2IA2E3N1FQYGqFOqJTq17NurXr17Bj90kwgAGFAaHbKIAAoTIjhmlEuGnnhYOAopjl5MYy+Z1vNyPl3NJCQg4JTQBwomGws0n1NNcZARAYqTuT5sWft4muqI2AdBSOM1kwYoRZJcnTLM+yuzcTAH590YF5QwCHhnBOPSDHA0t4UBsDA2j2lANyOCCbEAAkQiBrFBqmYeGFJiiYBoMgAnjXhq6BUN99ILboYmxBAAAh+QQJCQAnACwAAAAAQABAAIUEAgSMiozExsRUUlQkIiSkpqTk5uQUEhQ0MjS0srT09vScmpx8enwMCgw8Ojzk4uRcWlwsKiysrqz08vQcHhy8urz8/vykoqQEBgSUkpTMzsxUVlQkJiSsqqzs6uwUFhQ0NjS0trT8+vycnpx8fnwMDgw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCTcEgsGo/IpHLJbA4PINDBSa02ESGRxSIKIazg8Gmj3ZpFG7GaiVCY39zIen4MweEhuhNDoWCSB2V3WyJTekkOEm4WChIORw6DcI+HRgABkgEARSCSb5RHBAMDHGKYngFFB55mhkUEFW8VBFYmrFsmRXaeFUcUBnceFFUJtxZ5RAiCcCJyRrGDvXuLrAp/RBDLhGlGHKylTd7GFuDJFWUiFV9HG6zcTOLG5aogDq5HA+572oMi12IEvlEpdisBHWh3pDmxdSvXHAIegtGqcirToQ8SZE2scinTpkqiSK1JhC4BqEooMRDwg7Kly5cnMHyEqcfBCGAWDIw4SdNK/oMCkgo06GmlhAZWGu4RXdLBWIelQjYIEKFAwDshkcbxfFnRTAYiQMcVIApB0jucxgwQFSBJwJBxZobCBMCP0Ee4W+S+BECN2ceI4zysbTskrLGxPcsOepfV2FaXGe58BesU6gkIU0UIgGDEKFK9lpWUaDqoA+jQSxxceLDlwYXHqJlg+Be7tu3buHPr3s3bSYQsCkI4UwNixAIQLiNMeDNhOJg2hJzr2fUGWZgFb0agpHtHxEwrI7Jv72tXjDJC6ypRN2M9TIQLI9JXUs5cOtEBBToMaPJbRBf7PTHwBgO9HVHCMiKUUGARCNwh34IHvpHggkUIaAYJFBoxQAf6CWXo4YcghmhEEAA7YnVPZzU3UnNDZXVsS2VVYlhjelFTNkFCd2NQbHA4Umg0WUJramlqdElnNVhRWVphVGtSTmNwSno1Zm5mZ0ZOWA==);background-repeat:no-repeat;background-position:center center;background-size:25px 25px;width:25px;height:25px}@media (max-width:1199px){.ng-image-slider .ng-image-slider-container .main .main-inner .img-div{width:170px;max-width:100%}}@media (max-width:991px){.ng-image-slider .ng-image-slider-container .main .main-inner .img-div{width:297px;max-width:100%}}@media (max-width:768px){.ng-image-slider .ng-image-slider-container .main .main-inner .img-div{width:247px;max-width:100%}}@media (max-width:576px){.ng-image-slider .ng-image-slider-container .main .main-inner .img-div{width:350px;max-width:100%}}.ng-image-fullscreen-view{position:fixed;z-index:1031;background-color:rgba(0,0,0,.6);width:100%;height:100%;top:0;overflow:hidden;transition:.5s ease-in-out;left:0;text-align:center}.ng-image-fullscreen-view.image-fullview-hide{display:none!important}.ng-image-fullscreen-view .lightbox-wrapper{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#1f1f1f;transition:.5s;display:flex;justify-content:center;align-items:center}.ng-image-fullscreen-view .lightbox-wrapper.ng-ligthbox-pagination{height:calc(100% - 30px)}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div{width:100%;height:100%;border:1px solid rgba(0,0,0,.35);position:relative;overflow:hidden}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .pre-loader{background-color:inherit;width:100%;height:100%}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .pre-loader .mnml-spinner{background-image:url(data:image/gif;base64,R0lGODlhQABAAKUAAAQCBISChMTCxDQ2NOzq7KyqrExOTBweHJSSlNTW1PT29FxaXLS2tCwqLAwKDIyKjMzKzERCRPTy9FRWVCQmJJyanNze3Pz+/GRiZLy+vExKTAQGBISGhMTGxOzu7KyurFRSVCQiJJSWlNza3Pz6/FxeXLy6vCwuLAwODIyOjMzOzERGRAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQAsACwAAAAAQABAAAAG/kCWcEgsGo/IpHLJbDqf0CgRtXg8FiipdjshXL4XwmRLdk7A6Mu4zD6ivOkvIduuCzFxNMbOHCwWA0opeWApfEkgI2gWIEgPhF8Ph0cBhAFHJZAXe0gHHBkmHAdaZ5BrUx6EHnRGGhJoChpRABaaFgBGpXELna9pEqNPA5pfgUYLcHKnRg8keZJPeMScRiglViWsRwKEAlDSmtRkGd1Qw8TGZY/PULS2uGwHvmjAUbp5vHUaCrCyUpV5LvE58EBAhgfBSNUCY2HZpDoDSpRI97CixYsYM2pkgoICBW0bo0Rg4OwCCQYRQkLZIIJQBXgql1TQhCDmkhXELqwIeaCA/gcJBRIOIUcsw8YGyS54CEHEQUlNJBxo/BDnA5ETOb+c0DgPjAQiDbJe2Jqx65evQ5zmjDq1ahGimoxqRIrGA4UiEXKm3NhTAlChQ2ZCqmlTyQbBcSpsKMwkgomSJEzsZdzEAYUGUilr3sw5yYkUCSR4SJCCbGciLJ+CISFi8WkWG+DmyeC6c0tiIk43UE2IRAM+FJhKuZ0zd5sQEL5AEP4kgdgEdZKDgRCFNyQSx+PcfWK9dxsK2qE4zwq9jXTlUYjjrhNCxRcVzJ2c6J7GN/DfWhBDqpBkgwEDmWXkADeQCFBbEQ64d4EKAWLEEiGtIYJGIyE1gEBoEoyAAH4SG4JB4WtGbCAdBAeCSAQABoAAk4kstujii00EAQAh+QQJCQApACwAAAAAQABAAIUEAgSEgoTEwsREQkSsrqwcGhzk5uRsamyUkpT09vQMDgxcWlwkJiR0dnTMysxMSky8urycmpwMCgyMiowkIiTs7ux0cnT8/vwEBgTExsRERkS0trQcHhzs6uxsbmyUlpT8+vwUFhQsLix8fnzMzsxMTky8vrycnpyMjowAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCUcEgsGo/IpHLJbDqf0Kh0Sl0uMheQY1HtOj+XsPjjLSMX4vSFa24LHWqxw90GgOJhEICeFE02GxMiSQAJeFl7fEUAE3dpE4lGcHhzikUThxNnh2xIEiMZGSMSUyKHYYNHCHERSgokaSQKUpinmmeTW0sBcQFSEKcXEG1YapVQwKfDZpNpx08owShtvGq+UaanqWWvsbNS0XjTbhIBGQ4BpFMA4WkokZZdIigQGyjb8fn6+/z9/v8AAxLB8MCDhwcYBD7x0CFNhQMKmZw4dCJikgPBPASkwMBThWAV1PHjkIuCkRLBwmjw1+zCMyEWUl5o0I9CnI5EYqakyY/B/s0iKFM+YOnMiISPp0L64wDrAgmTRjwEgwiQAU4kE/FUtJjEAtIwFSxwXSKhoIUHIseqXcu2bRIFVr+5JTJggyMQGwbMTYEBDJ4I8NRGCIagrQaZK9eakGnCTYgGFkJIkeAoGIi0AylQSMikgIEwBgpgk4nKyAMIdyGUWDIizYjRpPFJIHCIgFwjrcW8hkJZ5uUhGAQEE8DZSIGGFzqIjrI4ZeMhtYLdOvK4wfIoA2TqFRKi8qkEki0NPlV4CEbSVBVhGM+qeAr2KbfGG4A6D4TtRGiTJsBPQlwk8AUjn0XnyZSeRQV4dwgI4Y0V3SnjqCVBMYc4gBlXCugXh217CZVgwl0mrOZGEAAh+QQJCQAyACwAAAAAQABAAIUEAgSEgoREQkTEwsQkIiSkoqRsamzk4uT08vQUFhRUVlQ0MjS0srSUlpR0dnQMCgxMSkzU0tSsqqzs6uz8+vw8OjzMyswsLix0cnQcHhxcXly8vrycnpwEBgSEhoRERkTExsQkJiSkpqRsbmzk5uT09vQcGhxcWlw0NjS0trScmpx8fnwMDgxMTkysrqzs7uz8/vw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCZcEgsGo/IpHLJbDqf0Kh0Sq1ar8lLilJKXbBg5AUBK8MQ37BamDKbU2s1gOIuUwBxZYdA6CwBJXUwd3lHDwETZS8BD0ptdXCFRR0bght+SAtkZmhNHXhVAYJlAUpaFBQpC0wsHAglHCxTHYmjE5hgIm4iUyGjZiFhD3RmFLhPvr8wwWAdxHbHTrS/t2oSbhJUHr8eaywFrwWyswOCA9FgAKBVDx4vZQiMkmEAIX3z+Pn6+/z9/v8AA06p0AAECBUVBDLpwEEQB3QKhzQcxSHikRjKYMTwl8ABhgRIJv6qyM8EiTIkTByxkNFCvxVuVqxs+TLmEZEU+5moNUGl/hGMyjb26+jA55ECvwpYPNIBaZ0CEJfKiKHCoAqhUrNq3cq1q8IKATgUCJCwSgcII0ZAiEoFBcs6FlBMGVFLkYEwCp7VKXEiCk43JK2g0CuIglwnBjKOsAIgQsYyEdYpefBO2YtGVAQ8NiOgSYvNH6ps2wyjGxMMmx0gAYDixAkUkodcI53tdGojAAwccEPCQGxdtD1vhjDJxS8Xx0ZvNr2EcsbLRVRkbEDkA2kYnZuMyHiXyALCglYJabw58pO/ZgIPkf5YBZEK4N1QKPsEQ2V4i404fhyhSN5fFPQlxQNoYbAWErs9doARbgkSFz77ZdQfbjF4UEABHsQQWx4NKWzmnlQobHaYVOi58WFWHTDwCwNsCZTbSWZM4JtXMgBQgQYaVLDhFUEAACH5BAkJACoALAAAAABAAEAAhQQCBISChDw6PMTGxOTm5CQiJFRWVKSipNTW1CwuLAwODJSWlERGRGxqbMzOzPT29LS2tNze3AwKDERCRCwqLGRiZDQ2NJyenPz+/AQGBISGhDw+PMzKzCQmJFxaXKyqrNza3DQyNBQWFJyanExKTGxubNTS1Pz6/Ly6vOTi5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJVwSCwaj8ikcslsOp/QqHRKrVqvS0oHy10WHBiMqdAtF03hsMPM7qTTFHaZ8g7H5UqRyIlOm/BJJH0IJEwFfWOARwx1GAxNFHdNEgYeElYIjQhsEpkYCJdTIo1he2UVbxVUo6SmXahpqlQgjSBsCp4gClWMdYWcHpZXJLQYIL+KXHrJzM3Oz9DR0tPUzgIBFwcBAtVMFhyNHBZJEiEhGdEGJ6QYDx5GGRoPYQ8a6M0C8+wYJ+NDCn3eONiVDEDAfSYADFnAbgGzCfvqTBCiQF+jBwQBaYj4RoOQEBH9AfrAMc0HIRZCJiNZEsNJFQrWkToRSmNLDB6FMCTlMFn+r5ITKR4MYyIjIIMlExKJJ/OEPWsy2Z3gZkSChRA1namT+q7bkW/hRHo1AmCDhgMHNGxQOLat27djJVSAAAIBhAb3pghYMGDACKpdLKRolEKskwwXGl3IayUfuweAnSQmdQGLhMH7UjBesiHihisNSjZ4MpldZSsoSqJ4Am4fhysRSkZgHfE1kgQBPqRNgCQ2x9mSI54uImHnmxGbVaTmuNpJ532fiwBY3ggF2yElSpaAcoDdgSOh940mIoFAxBRGmWToXudAchW+2QEnMsFinalTNozoOyK6kQIlkVGEAJi9kUJkcoDEkWFCSNAAXSCgUEFWeADIkYBuxUdKCnAgqRAeO+O9lQF1dVjXoQqINYLciUOEoMEHH2gQAovQBAEAIfkECQkAMAAsAAAAAEAAQACFBAIEhIKEREJExMbEJCIk5ObkbGpsrKqsFBIUNDI09Pb03NrcVFJUdHZ0tLa0DAoMlJKULCos7O7sHBocPDo8zM7MtLK0/P785OLkXFpcfH58BAYEhIaETEpMzMrMJCYk7OrsbG5srK6sFBYUNDY0/Pr83N7cVFZUfHp8vLq8DA4MlJaULC4s9PL0HB4cPD48AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5AmHBILBqPyKRyyWw6n9CodEqtWq/YbHaiCUy0YCNBcrlICEwAi8FgAcJMTbkcUG5QhfmlgNrAkwF6GkkjA3p6AyN/R2NlZ0gbHoeHA35SGwIvD04TAV5JDSWTh4NRCSZlJglZAHmjeiBvTw+ocwWbVwmvkyRQL5MvWBm7hxm+wMLEesazrmW3WLrKZb1Qp6mrWBsg0yCWUA8CArhZDdOli1GRxB7f6VCFr4nvVHfccyB99FYACWwJsvYJHEiwoMEwDww4WLDAgQF3B5WQqKUHQ7UjAD58CDjwhahRCigcOYGhDIYTBGkRwwDxxCSUAg1MM0Ck1SQMHNOlmJaCyP6HVx8EUtxlwidQgSWVFR1i81CBnIt2KutJxGWxgTKVhTCSIenJlM5GYVCBMUIEqPQ8viohMqISCkkrtnVrRyHDFA/p6t3Lt69fOA/MkqvyIEECiFk+HFBQpsSBoFM2cGB8QQEHxFU6tJjUooMUFRUmVSCLJcJmkBGirHi1IssBYgegqPg4SQFpwrRHlRi8RNqri1RYTGPxhAQx4Ece8C4iXBlxJ7PXLhfyoMGCMgv0GXmQe9JuKKtHtT6CwNAhDwiOvN4VW3boQxXSHxHxysKRD6c5p47ygMPHEhxMB4NvoyAnhGaceUbFAyQkIKAQcuyCThERiPCfCPvRAwExEC8o8QALLDwIBwrEoPCXEMbtYiBfFtR34hAIvKdHfC8O8QAKtZiAgoh+qcBjjYsEAQAh+QQJCQAuACwAAAAAQABAAIUEAgSMioxEQkTMysxkYmTk5uQkIiSsqqxUUlT09vSUlpTc2tx0cnQcGhwsLiwMCgxMSkzU0tRsamzs7uxcWlyUkpQsKiy0trT8/vycnpwEBgSMjoxERkTMzsxkZmTs6uwkJiSsrqxUVlT8+vycmpzk4uR8enw0MjQMDgxMTkzU1tRsbmz08vRcXlwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCXcEgsGo8ayCYU2kAAx6h0Sp1yVJisdiGoer9fz0hLxowk4LR6yBmXy921nKrBvssqzXx/TN3vCHyCQxV/bxWDgxeGZRdHBisKFSsGiVOLjFqORA8kblkjGQ+WR4WZWYhDDwN/A6OkRAinWYFDCowZcycBGydRAHaMC1BCBp93I5VqDglZCQ5RbZlxQgynDGu3WgpSYn9nRSSnuWqmWdxSAgtvXEYZ42sObiPQUwBKTBVPR9aZ2GsnNvQiZYzRCBCwBL0zRC7hngcd/nR45XAPioVkMqComMgAAwUkGCjjSLKkyZMoU6o0+cCCBYorwYA40MzMAYQxvUBg8YYF/gQpKCBA2KjSAs87CSwcETAhywRqJw8wOmAERVMtE4iyrPkNpgs/ZVKgdHCq3hCwZMSePFG2iFUyWVE+OPZmhFcXAo6ygGpSqiGqR4IOXWn0DwulOafs7PkzMRULIeaFQOy4ygMHDu5W3sy5s+fPoCuioBAgAAWtcwCAAEEMlogPZD6I2COiRJYSs0mJ+JNbze4yvQWhgH3nA2ovAAq8KdGaDwFGBNSA+INT0AZGG6RTTxSAUQA1yd8UaG4EAAcTJjiQJ/LcUHTfbyhMARGBTATKbq++ibuGgm0MuE3RgHJlFNBAFL/FtwcALq1XhDZvoHMEBcRlIRtKBIo3BQoELpTWwnEcacCIHqFVWMYHoQkBYRkSgjbgGx8cmKILFgSDgQr4pWgeevvM6CNnQQAAIfkECQkAJgAsAAAAAEAAQACFBAIEhIaEREJExMbEJCIkZGJktLK07OrsnJqcVFZUDA4MNDI0/Pr8jI6M5OLkdHZ0TEpMzM7MLCosvL689PL0XF5cFBYUBAYEjIqMzMrMJCYkZGZk7O7snJ6cXFpcFBIUNDY0/P78lJKUfHp8TE5MxMLEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5Ak3BILBqPyKRyyWyaPo/BwTF4KJzYrBJyCHm/B4h2PIYwvugQQ0xuLxWcdJrzcduPI7l8dGcSAhkOBwMBBEcDemkDfUkAAWdpDBgARXGJXxSMRxcGlyEGlEMUnl6ZRgAFE1MTBRdaAaQhGESIpItFFrVoAxZYGpCeDBpDeaR8RAC6iq5NDbFeDUMflol0RQWeG04RzyERRGaXbEQlnhNOo8+mQwLUXxzjRO5yHE7zl+vSI1IHGSNXR9JV29btm5tyl841EdEtmpsN2Zz8isVAgh0AGRJlCNUEQ6xZdyxkTJOhFxZOngwwuwNgQ4kDB0ps4IgFAAZgXyTR1NRHQ/6ACDAjYDDEs6jRo0iTKl3KtKlTIQo8YMDgAeBTLQm6gElwNUuCRFyRgOiAAERXBVrlHLBKZEG6ilexXSpwBAGaDledXXJYpMPdqx4vgSyyABKDBVcreKJ7REKHDoivwqnGtmuSr3o8WHbiIW2IA2E3N1FQYGqFOqJTq17NurXr17Bj90kwgAGFAaHbKIAAoTIjhmlEuGnnhYOAopjl5MYy+Z1vNyPl3NJCQg4JTQBwomGws0n1NNcZARAYqTuT5sWft4muqI2AdBSOM1kwYoRZJcnTLM+yuzcTAH590YF5QwCHhnBOPSDHA0t4UBsDA2j2lANyOCCbEAAkQiBrFBqmYeGFJiiYBoMgAnjXhq6BUN99ILboYmxBAAAh+QQJCQAnACwAAAAAQABAAIUEAgSMiozExsRUUlQkIiSkpqTk5uQUEhQ0MjS0srT09vScmpx8enwMCgw8Ojzk4uRcWlwsKiysrqz08vQcHhy8urz8/vykoqQEBgSUkpTMzsxUVlQkJiSsqqzs6uwUFhQ0NjS0trT8+vycnpx8fnwMDgw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCTcEgsGo/IpHLJbA4PINDBSa02ESGRxSIKIazg8Gmj3ZpFG7GaiVCY39zIen4MweEhuhNDoWCSB2V3WyJTekkOEm4WChIORw6DcI+HRgABkgEARSCSb5RHBAMDHGKYngFFB55mhkUEFW8VBFYmrFsmRXaeFUcUBnceFFUJtxZ5RAiCcCJyRrGDvXuLrAp/RBDLhGlGHKylTd7GFuDJFWUiFV9HG6zcTOLG5aogDq5HA+572oMi12IEvlEpdisBHWh3pDmxdSvXHAIegtGqcirToQ8SZE2scinTpkqiSK1JhC4BqEooMRDwg7Kly5cnMHyEqcfBCGAWDIw4SdNK/oMCkgo06GmlhAZWGu4RXdLBWIelQjYIEKFAwDshkcbxfFnRTAYiQMcVIApB0jucxgwQFSBJwJBxZobCBMCP0Ee4W+S+BECN2ceI4zysbTskrLGxPcsOepfV2FaXGe58BesU6gkIU0UIgGDEKFK9lpWUaDqoA+jQSxxceLDlwYXHqJlg+Be7tu3buHPr3s3bSYQsCkI4UwNixAIQLiNMeDNhOJg2hJzr2fUGWZgFb0agpHtHxEwrI7Jv72tXjDJC6ypRN2M9TIQLI9JXUs5cOtEBBToMaPJbRBf7PTHwBgO9HVHCMiKUUGARCNwh34IHvpHggkUIaAYJFBoxQAf6CWXo4YcghmhEEAA7YnVPZzU3UnNDZXVsS2VVYlhjelFTNkFCd2NQbHA4Umg0WUJramlqdElnNVhRWVphVGtSTmNwSno1Zm5mZ0ZOWA==);background-repeat:no-repeat;background-position:center center;width:100%;height:100%}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main{display:grid;grid-template-columns:repeat(6,1fr);grid-template-rows:100%;grid-column-gap:0;height:100%}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image{width:1299px;height:100%;position:relative}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image .custom-image-main.ng-fullimage-loading{background-image:url(data:image/gif;base64,R0lGODlhQABAAKUAAAQCBISChMTCxDQ2NOzq7KyqrExOTBweHJSSlNTW1PT29FxaXLS2tCwqLAwKDIyKjMzKzERCRPTy9FRWVCQmJJyanNze3Pz+/GRiZLy+vExKTAQGBISGhMTGxOzu7KyurFRSVCQiJJSWlNza3Pz6/FxeXLy6vCwuLAwODIyOjMzOzERGRAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQAsACwAAAAAQABAAAAG/kCWcEgsGo/IpHLJbDqf0CgRtXg8FiipdjshXL4XwmRLdk7A6Mu4zD6ivOkvIduuCzFxNMbOHCwWA0opeWApfEkgI2gWIEgPhF8Ph0cBhAFHJZAXe0gHHBkmHAdaZ5BrUx6EHnRGGhJoChpRABaaFgBGpXELna9pEqNPA5pfgUYLcHKnRg8keZJPeMScRiglViWsRwKEAlDSmtRkGd1Qw8TGZY/PULS2uGwHvmjAUbp5vHUaCrCyUpV5LvE58EBAhgfBSNUCY2HZpDoDSpRI97CixYsYM2pkgoICBW0bo0Rg4OwCCQYRQkLZIIJQBXgql1TQhCDmkhXELqwIeaCA/gcJBRIOIUcsw8YGyS54CEHEQUlNJBxo/BDnA5ETOb+c0DgPjAQiDbJe2Jqx65evQ5zmjDq1ahGimoxqRIrGA4UiEXKm3NhTAlChQ2ZCqmlTyQbBcSpsKMwkgomSJEzsZdzEAYUGUilr3sw5yYkUCSR4SJCCbGciLJ+CISFi8WkWG+DmyeC6c0tiIk43UE2IRAM+FJhKuZ0zd5sQEL5AEP4kgdgEdZKDgRCFNyQSx+PcfWK9dxsK2qE4zwq9jXTlUYjjrhNCxRcVzJ2c6J7GN/DfWhBDqpBkgwEDmWXkADeQCFBbEQ64d4EKAWLEEiGtIYJGIyE1gEBoEoyAAH4SG4JB4WtGbCAdBAeCSAQABoAAk4kstujii00EAQAh+QQJCQApACwAAAAAQABAAIUEAgSEgoTEwsREQkSsrqwcGhzk5uRsamyUkpT09vQMDgxcWlwkJiR0dnTMysxMSky8urycmpwMCgyMiowkIiTs7ux0cnT8/vwEBgTExsRERkS0trQcHhzs6uxsbmyUlpT8+vwUFhQsLix8fnzMzsxMTky8vrycnpyMjowAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCUcEgsGo/IpHLJbDqf0Kh0Sl0uMheQY1HtOj+XsPjjLSMX4vSFa24LHWqxw90GgOJhEICeFE02GxMiSQAJeFl7fEUAE3dpE4lGcHhzikUThxNnh2xIEiMZGSMSUyKHYYNHCHERSgokaSQKUpinmmeTW0sBcQFSEKcXEG1YapVQwKfDZpNpx08owShtvGq+UaanqWWvsbNS0XjTbhIBGQ4BpFMA4WkokZZdIigQGyjb8fn6+/z9/v8AAxLB8MCDhwcYBD7x0CFNhQMKmZw4dCJikgPBPASkwMBThWAV1PHjkIuCkRLBwmjw1+zCMyEWUl5o0I9CnI5EYqakyY/B/s0iKFM+YOnMiISPp0L64wDrAgmTRjwEgwiQAU4kE/FUtJjEAtIwFSxwXSKhoIUHIseqXcu2bRIFVr+5JTJggyMQGwbMTYEBDJ4I8NRGCIagrQaZK9eakGnCTYgGFkJIkeAoGIi0AylQSMikgIEwBgpgk4nKyAMIdyGUWDIizYjRpPFJIHCIgFwjrcW8hkJZ5uUhGAQEE8DZSIGGFzqIjrI4ZeMhtYLdOvK4wfIoA2TqFRKi8qkEki0NPlV4CEbSVBVhGM+qeAr2KbfGG4A6D4TtRGiTJsBPQlwk8AUjn0XnyZSeRQV4dwgI4Y0V3SnjqCVBMYc4gBlXCugXh217CZVgwl0mrOZGEAAh+QQJCQAyACwAAAAAQABAAIUEAgSEgoREQkTEwsQkIiSkoqRsamzk4uT08vQUFhRUVlQ0MjS0srSUlpR0dnQMCgxMSkzU0tSsqqzs6uz8+vw8OjzMyswsLix0cnQcHhxcXly8vrycnpwEBgSEhoRERkTExsQkJiSkpqRsbmzk5uT09vQcGhxcWlw0NjS0trScmpx8fnwMDgxMTkysrqzs7uz8/vw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCZcEgsGo/IpHLJbDqf0Kh0Sq1ar8lLilJKXbBg5AUBK8MQ37BamDKbU2s1gOIuUwBxZYdA6CwBJXUwd3lHDwETZS8BD0ptdXCFRR0bght+SAtkZmhNHXhVAYJlAUpaFBQpC0wsHAglHCxTHYmjE5hgIm4iUyGjZiFhD3RmFLhPvr8wwWAdxHbHTrS/t2oSbhJUHr8eaywFrwWyswOCA9FgAKBVDx4vZQiMkmEAIX3z+Pn6+/z9/v8AA06p0AAECBUVBDLpwEEQB3QKhzQcxSHikRjKYMTwl8ABhgRIJv6qyM8EiTIkTByxkNFCvxVuVqxs+TLmEZEU+5moNUGl/hGMyjb26+jA55ECvwpYPNIBaZ0CEJfKiKHCoAqhUrNq3cq1q8IKATgUCJCwSgcII0ZAiEoFBcs6FlBMGVFLkYEwCp7VKXEiCk43JK2g0CuIglwnBjKOsAIgQsYyEdYpefBO2YtGVAQ8NiOgSYvNH6ps2wyjGxMMmx0gAYDixAkUkodcI53tdGojAAwccEPCQGxdtD1vhjDJxS8Xx0ZvNr2EcsbLRVRkbEDkA2kYnZuMyHiXyALCglYJabw58pO/ZgIPkf5YBZEK4N1QKPsEQ2V4i404fhyhSN5fFPQlxQNoYbAWErs9doARbgkSFz77ZdQfbjF4UEABHsQQWx4NKWzmnlQobHaYVOi58WFWHTDwCwNsCZTbSWZM4JtXMgBQgQYaVLDhFUEAACH5BAkJACoALAAAAABAAEAAhQQCBISChDw6PMTGxOTm5CQiJFRWVKSipNTW1CwuLAwODJSWlERGRGxqbMzOzPT29LS2tNze3AwKDERCRCwqLGRiZDQ2NJyenPz+/AQGBISGhDw+PMzKzCQmJFxaXKyqrNza3DQyNBQWFJyanExKTGxubNTS1Pz6/Ly6vOTi5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJVwSCwaj8ikcslsOp/QqHRKrVqvS0oHy10WHBiMqdAtF03hsMPM7qTTFHaZ8g7H5UqRyIlOm/BJJH0IJEwFfWOARwx1GAxNFHdNEgYeElYIjQhsEpkYCJdTIo1he2UVbxVUo6SmXahpqlQgjSBsCp4gClWMdYWcHpZXJLQYIL+KXHrJzM3Oz9DR0tPUzgIBFwcBAtVMFhyNHBZJEiEhGdEGJ6QYDx5GGRoPYQ8a6M0C8+wYJ+NDCn3eONiVDEDAfSYADFnAbgGzCfvqTBCiQF+jBwQBaYj4RoOQEBH9AfrAMc0HIRZCJiNZEsNJFQrWkToRSmNLDB6FMCTlMFn+r5ITKR4MYyIjIIMlExKJJ/OEPWsy2Z3gZkSChRA1namT+q7bkW/hRHo1AmCDhgMHNGxQOLat27djJVSAAAIBhAb3pghYMGDACKpdLKRolEKskwwXGl3IayUfuweAnSQmdQGLhMH7UjBesiHihisNSjZ4MpldZSsoSqJ4Am4fhysRSkZgHfE1kgQBPqRNgCQ2x9mSI54uImHnmxGbVaTmuNpJ532fiwBY3ggF2yElSpaAcoDdgSOh940mIoFAxBRGmWToXudAchW+2QEnMsFinalTNozoOyK6kQIlkVGEAJi9kUJkcoDEkWFCSNAAXSCgUEFWeADIkYBuxUdKCnAgqRAeO+O9lQF1dVjXoQqINYLciUOEoMEHH2gQAovQBAEAIfkECQkAMAAsAAAAAEAAQACFBAIEhIKEREJExMbEJCIk5ObkbGpsrKqsFBIUNDI09Pb03NrcVFJUdHZ0tLa0DAoMlJKULCos7O7sHBocPDo8zM7MtLK0/P785OLkXFpcfH58BAYEhIaETEpMzMrMJCYk7OrsbG5srK6sFBYUNDY0/Pr83N7cVFZUfHp8vLq8DA4MlJaULC4s9PL0HB4cPD48AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5AmHBILBqPyKRyyWw6n9CodEqtWq/YbHaiCUy0YCNBcrlICEwAi8FgAcJMTbkcUG5QhfmlgNrAkwF6GkkjA3p6AyN/R2NlZ0gbHoeHA35SGwIvD04TAV5JDSWTh4NRCSZlJglZAHmjeiBvTw+ocwWbVwmvkyRQL5MvWBm7hxm+wMLEesazrmW3WLrKZb1Qp6mrWBsg0yCWUA8CArhZDdOli1GRxB7f6VCFr4nvVHfccyB99FYACWwJsvYJHEiwoMEwDww4WLDAgQF3B5WQqKUHQ7UjAD58CDjwhahRCigcOYGhDIYTBGkRwwDxxCSUAg1MM0Ck1SQMHNOlmJaCyP6HVx8EUtxlwidQgSWVFR1i81CBnIt2KutJxGWxgTKVhTCSIenJlM5GYVCBMUIEqPQ8viohMqISCkkrtnVrRyHDFA/p6t3Lt69fOA/MkqvyIEECiFk+HFBQpsSBoFM2cGB8QQEHxFU6tJjUooMUFRUmVSCLJcJmkBGirHi1IssBYgegqPg4SQFpwrRHlRi8RNqri1RYTGPxhAQx4Ece8C4iXBlxJ7PXLhfyoMGCMgv0GXmQe9JuKKtHtT6CwNAhDwiOvN4VW3boQxXSHxHxysKRD6c5p47ygMPHEhxMB4NvoyAnhGaceUbFAyQkIKAQcuyCThERiPCfCPvRAwExEC8o8QALLDwIBwrEoPCXEMbtYiBfFtR34hAIvKdHfC8O8QAKtZiAgoh+qcBjjYsEAQAh+QQJCQAuACwAAAAAQABAAIUEAgSMioxEQkTMysxkYmTk5uQkIiSsqqxUUlT09vSUlpTc2tx0cnQcGhwsLiwMCgxMSkzU0tRsamzs7uxcWlyUkpQsKiy0trT8/vycnpwEBgSMjoxERkTMzsxkZmTs6uwkJiSsrqxUVlT8+vycmpzk4uR8enw0MjQMDgxMTkzU1tRsbmz08vRcXlwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCXcEgsGo8ayCYU2kAAx6h0Sp1yVJisdiGoer9fz0hLxowk4LR6yBmXy921nKrBvssqzXx/TN3vCHyCQxV/bxWDgxeGZRdHBisKFSsGiVOLjFqORA8kblkjGQ+WR4WZWYhDDwN/A6OkRAinWYFDCowZcycBGydRAHaMC1BCBp93I5VqDglZCQ5RbZlxQgynDGu3WgpSYn9nRSSnuWqmWdxSAgtvXEYZ42sObiPQUwBKTBVPR9aZ2GsnNvQiZYzRCBCwBL0zRC7hngcd/nR45XAPioVkMqComMgAAwUkGCjjSLKkyZMoU6o0+cCCBYorwYA40MzMAYQxvUBg8YYF/gQpKCBA2KjSAs87CSwcETAhywRqJw8wOmAERVMtE4iyrPkNpgs/ZVKgdHCq3hCwZMSePFG2iFUyWVE+OPZmhFcXAo6ygGpSqiGqR4IOXWn0DwulOafs7PkzMRULIeaFQOy4ygMHDu5W3sy5s+fPoCuioBAgAAWtcwCAAEEMlogPZD6I2COiRJYSs0mJ+JNbze4yvQWhgH3nA2ovAAq8KdGaDwFGBNSA+INT0AZGG6RTTxSAUQA1yd8UaG4EAAcTJjiQJ/LcUHTfbyhMARGBTATKbq++ibuGgm0MuE3RgHJlFNBAFL/FtwcALq1XhDZvoHMEBcRlIRtKBIo3BQoELpTWwnEcacCIHqFVWMYHoQkBYRkSgjbgGx8cmKILFgSDgQr4pWgeevvM6CNnQQAAIfkECQkAJgAsAAAAAEAAQACFBAIEhIaEREJExMbEJCIkZGJktLK07OrsnJqcVFZUDA4MNDI0/Pr8jI6M5OLkdHZ0TEpMzM7MLCosvL689PL0XF5cFBYUBAYEjIqMzMrMJCYkZGZk7O7snJ6cXFpcFBIUNDY0/P78lJKUfHp8TE5MxMLEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5Ak3BILBqPyKRyyWyaPo/BwTF4KJzYrBJyCHm/B4h2PIYwvugQQ0xuLxWcdJrzcduPI7l8dGcSAhkOBwMBBEcDemkDfUkAAWdpDBgARXGJXxSMRxcGlyEGlEMUnl6ZRgAFE1MTBRdaAaQhGESIpItFFrVoAxZYGpCeDBpDeaR8RAC6iq5NDbFeDUMflol0RQWeG04RzyERRGaXbEQlnhNOo8+mQwLUXxzjRO5yHE7zl+vSI1IHGSNXR9JV29btm5tyl841EdEtmpsN2Zz8isVAgh0AGRJlCNUEQ6xZdyxkTJOhFxZOngwwuwNgQ4kDB0ps4IgFAAZgXyTR1NRHQ/6ACDAjYDDEs6jRo0iTKl3KtKlTIQo8YMDgAeBTLQm6gElwNUuCRFyRgOiAAERXBVrlHLBKZEG6ilexXSpwBAGaDledXXJYpMPdqx4vgSyyABKDBVcreKJ7REKHDoivwqnGtmuSr3o8WHbiIW2IA2E3N1FQYGqFOqJTq17NurXr17Bj90kwgAGFAaHbKIAAoTIjhmlEuGnnhYOAopjl5MYy+Z1vNyPl3NJCQg4JTQBwomGws0n1NNcZARAYqTuT5sWft4muqI2AdBSOM1kwYoRZJcnTLM+yuzcTAH590YF5QwCHhnBOPSDHA0t4UBsDA2j2lANyOCCbEAAkQiBrFBqmYeGFJiiYBoMgAnjXhq6BUN99ILboYmxBAAAh+QQJCQAnACwAAAAAQABAAIUEAgSMiozExsRUUlQkIiSkpqTk5uQUEhQ0MjS0srT09vScmpx8enwMCgw8Ojzk4uRcWlwsKiysrqz08vQcHhy8urz8/vykoqQEBgSUkpTMzsxUVlQkJiSsqqzs6uwUFhQ0NjS0trT8+vycnpx8fnwMDgw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCTcEgsGo/IpHLJbA4PINDBSa02ESGRxSIKIazg8Gmj3ZpFG7GaiVCY39zIen4MweEhuhNDoWCSB2V3WyJTekkOEm4WChIORw6DcI+HRgABkgEARSCSb5RHBAMDHGKYngFFB55mhkUEFW8VBFYmrFsmRXaeFUcUBnceFFUJtxZ5RAiCcCJyRrGDvXuLrAp/RBDLhGlGHKylTd7GFuDJFWUiFV9HG6zcTOLG5aogDq5HA+572oMi12IEvlEpdisBHWh3pDmxdSvXHAIegtGqcirToQ8SZE2scinTpkqiSK1JhC4BqEooMRDwg7Kly5cnMHyEqcfBCGAWDIw4SdNK/oMCkgo06GmlhAZWGu4RXdLBWIelQjYIEKFAwDshkcbxfFnRTAYiQMcVIApB0jucxgwQFSBJwJBxZobCBMCP0Ee4W+S+BECN2ceI4zysbTskrLGxPcsOepfV2FaXGe58BesU6gkIU0UIgGDEKFK9lpWUaDqoA+jQSxxceLDlwYXHqJlg+Be7tu3buHPr3s3bSYQsCkI4UwNixAIQLiNMeDNhOJg2hJzr2fUGWZgFb0agpHtHxEwrI7Jv72tXjDJC6ypRN2M9TIQLI9JXUs5cOtEBBToMaPJbRBf7PTHwBgO9HVHCMiKUUGARCNwh34IHvpHggkUIaAYJFBoxQAf6CWXo4YcghmhEEAA7YnVPZzU3UnNDZXVsS2VVYlhjelFTNkFCd2NQbHA4Umg0WUJramlqdElnNVhRWVphVGtSTmNwSno1Zm5mZ0ZOWA==);background-repeat:no-repeat;background-position:center center}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image.ng-image-slider-show{opacity:1;display:block}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image.ng-image-slider-hide{opacity:0;display:none}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image .custom-image-main{width:100%;height:100%}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image .custom-image-main img{transition:.5s ease-in-out;width:auto;height:auto;max-height:100%;max-width:100%;position:absolute;z-index:11;top:0;bottom:0;margin:auto;left:0;right:0}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image .custom-image-main iframe,.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image .custom-image-main video{top:0;left:0;right:0;bottom:0;margin:auto;width:100%;height:100%;border:0}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .caption{position:absolute;z-index:11;top:0;margin:auto;padding:5px;color:#fff;background-color:rgba(0,0,0,.35);max-width:100%;left:0;right:0}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .caption.show{display:block}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .caption.hide{display:none}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .next,.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .prev{position:absolute;right:10px;top:50%;background-color:#fff;border-radius:50%;cursor:pointer;margin-top:-16px;width:38px;height:38px;font-size:35px;z-index:12;line-height:30px;outline:0;color:#000;transition:.3s ease-in-out}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .next:hover,.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .prev:hover{background-color:#d4cdcd}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .next.disable,.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .prev.disable{color:#bbb;background-color:#fff}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .prev{left:10px}.ng-image-fullscreen-view .lightbox-wrapper .close{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAQK0lEQVRYCQEgEN/vAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIyMjLuvr60L8/Pwz/Pz8HAQEBBYAAAAA/Pz86gQEBOQEBATPFRUVvt3d3dAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPT09DNPT02T4+Php/v7+FgQEBLwBAQHHCAgI4AQEBO4AAAAA/Pz8Evn5+SD+/v43/Pz8RAICAu4ICAiZKysrmsXFxfIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVFRVcBQUF5wkJCcEYGBhOZGRkBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY2NjBBgYGEwJCQm9BgYG6xQUFGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMTExDgwMDK0FBQXhGBgYSgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGRkZRgYGBt8LCwuvLCwsDgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAuLi4WBwcH0QsLC7EzMzMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADU1NQ4LCwutBwcH0ygoKBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAwMA4ICAjRDQ0NnWxsbAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABycnICDQ0NlwcHB9UqKioQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsLC7ELCwuvcHBwBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAd3d3AgwMDKkLCwu3d3d3AgAAAAAAAAAAAAAAAAAAAAAAFBQUYgYGBt01NTUOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADk5OQwGBgbZFBQUagAAAAAAAAAAAAAAAAA3NzcQBgYG6xoaGkQAAAAAAAAAAAAAAAAAAAAACAgIkQMDA/sHBweZPz8/BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPz8/BAcHB5kDAwP7CAgIkwAAAAAAAAAAAAAAAAAAAAAaGho8BgYG7zIyMhQAAAAAAAAAAAAODg56CgoKuQAAAAAAAAAAAAAAAAAAAAAAAAAAAwMD+wAAAP8AAAD/BwcHoz8/PwQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz8EBwcHowAAAP8AAAD/AgIC/QAAAAAAAAAAAAAAAAAAAAAAAAAACQkJsQ4ODoEAAAAAAHNzcwIHBwfjHBwcRAAAAAAAAAAAAAAAAAAAAAAAAAAABwcHmwAAAP8AAAD/AAAA/wcHB6M/Pz8EAAAAAAAAAAAAAAAAAAAAAD8/PwQHBwejAAAA/wAAAP8AAAD/BwcHmwAAAAAAAAAAAAAAAAAAAAAAAAAAHh4ePgYGBudqamoEACAgIDwGBgblbW1tAgAAAAAAAAAAAAAAAAAAAAAAAAAAOjo6BAcHB6UAAAD/AAAA/wAAAP8HBwejPz8/BAAAAAAAAAAAPz8/BAcHB6MAAAD/AAAA/wAAAP8HBwelOjo6BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcHB98cHBxCAA4ODn4LCwudAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADo6OgQHBwelAAAA/wAAAP8AAAD/BwcHoz8/PwQ/Pz8EBwcHowAAAP8AAAD/AAAA/wcHB6U6OjoEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwMDJcNDQ2FAAoKCrESEhJoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA6OjoEBwcHpQAAAP8AAAD/AAAA/wcHB6MHBwejAAAA/wAAAP8AAAD/BwcHpTo6OgQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABISEmIICAi1AAkJCdUZGRlEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOjo6BAcHB6UAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8HBwelOjo6BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB0dHT4JCQnbAAUFBeElJSUyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADo6OgQHBwelAAAA/wAAAP8AAAD/AAAA/wcHB6U6OjoEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ODiQCAgLjAv///wD+/v7+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUFBQAAAAD+AAAAAAAAAAAAAAAAAAAAAAAAAP4FBQUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP7+/v4AAAACAAoKCtkcHBxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPz8/BAcHB6MAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8HBwejPz8/BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACMjIzwJCQnfAAgICLcTExNgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz8EBwcHowAAAP8AAAD/AAAA/wcHB6UHBwelAAAA/wAAAP8AAAD/BwcHoz8/PwQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQEFgHBwe7AA0NDYkMDAyTAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8/PwQHBwejAAAA/wAAAP8AAAD/BwcHpTo6OgQ6OjoEBwcHpQAAAP8AAAD/AAAA/wcHB6M/Pz8EAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwMDI0NDQ2PABcXF0YICAjZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPz8/BAcHB6MAAAD/AAAA/wAAAP8HBwelOjo6BAAAAAAAAAAAOjo6BAcHB6UAAAD/AAAA/wAAAP8HBwejPz8/BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICNMVFRVOAFtbWwYFBQXtIiIiMgAAAAAAAAAAAAAAAAAAAAAAAAAABwcHmQAAAP8AAAD/AAAA/wcHB6U6OjoEAAAAAAAAAAAAAAAAAAAAADo6OgQHBwelAAAA/wAAAP8AAAD/BwcHmwAAAAAAAAAAAAAAAAAAAAAAAAAAJSUlLAYGBvFLS0sIAAAAAAAMDAyPCwsLowAAAAAAAAAAAAAAAAAAAAAAAAAAAwMD+wAAAP8AAAD/BwcHpTo6OgQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA6OjoEBwcHpQAAAP8AAAD/AgIC/QAAAAAAAAAAAAAAAAAAAAAAAAAADAwMnQwMDJUAAAAAAAAAAAAnJyccBQUF8x8fHy4AAAAAAAAAAAAAAAAAAAAACAgIkwICAv0HBwebOjo6BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOjo6BAcHB5sCAgL9CAgIlQAAAAAAAAAAAAAAAAAAAAAhISEoBQUF9SgoKCAAAAAAAAAAAAAAAAAAEBAQfggICMlaWloEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGpqagQJCQnDDw8PhQAAAAAAAAAAAAAAAAAAAAAASkpKBggICMsPDw+PAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8PD4cICAjPPz8/CAAAAAAAAAAAAAAAAAAAAAAAAAAAACIiIh4GBgbnEBAQcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAExMTbgYGBukhISEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAaGhooBgYG5xAQEItoaGgEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHBwcAQPDw+FBQUF6RkZGSwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIyMjIAgICM8JCQnDICAgJgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIyMjJAkJCb8HBwfRISEhIgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEFBQQgODg6HBQUF9QwMDJcmJiYmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACYmJiIMDAyTBQUF9Q4ODo1BQUEKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIiIiJOnp6Xf7+/taAgIC1AUFBbgLCwvLDg4O3DExMfYAAAD+0NDQDPLy8iT09PQy+/v7R/7+/jAFBQWoGBgYid3d3doAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3NzcM3t7eTvX19UH///8y/f39HgICAhQAAAAA/v7+7gMDA+ABAQHQCgoKvScnJ7TFxcXyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAx6aIH59j4jkAAAAASUVORK5CYII=);background-repeat:no-repeat;background-position:center center;background-size:32px;position:absolute;top:10px;right:10px;color:#000;background-color:#fff;padding:0;opacity:1;border-radius:50%;height:36px;width:36px;z-index:12;cursor:pointer;transition:.2s}.ng-image-fullscreen-view .lightbox-wrapper.error-msg{background-image:none}.ng-image-fullscreen-view .invalid-msg{color:#fff;font-size:18px;position:absolute;top:45%;left:45%}.ng-image-fullscreen-view .popup-pagination{background-color:#1f1f1f;color:#fff;position:absolute;height:30px;width:100%;text-align:center;bottom:0;font-size:16px;line-height:30px}@media (max-width:768px){.ng-image-fullscreen-view .lightbox-wrapper{width:100%;height:100%}.ng-image-fullscreen-view .lightbox-wrapper.error-msg{background-image:none}}"],encapsulation:2}),n})();const Bx=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=|\?v=)([^#\&\?]*).*/,v_=["jpeg","jpg","gif","png"],Q0=["mp4"];let b_=(()=>{class n{constructor(e,i,r){this.imageSliderService=e,this.sanitizer=i,this.YOUTUBE="youtube",this.IMAGE="image",this.VIDEO="video",this.fileUrl="",this.fileExtension="",this.type=this.IMAGE,this.imageLoading=!0,this.showVideo=!1,this.videoAutoPlay=!1,this.showVideoControls=1,this.speed=1,this.isVideo=!1,this.alt="",this.title="",this.direction="ltr",this.ratio=!1,this.lazy=!1}ngOnChanges(e){this.imageUrl&&this.imageUrl&&this.imageUrl&&"string"==typeof this.imageUrl&&(e.imageUrl&&e.imageUrl.firstChange||this.videoAutoPlay)&&this.setUrl()}setUrl(){const e=this.imageUrl;this.imageLoading=!0,this.fileUrl=this.sanitizer.bypassSecurityTrustResourceUrl(e),this.fileExtension=e.split(".").pop().split(/\#|\?/)[0],this.imageSliderService.base64FileExtension(e)&&(v_.indexOf(this.imageSliderService.base64FileExtension(e).toLowerCase())>-1||Q0.indexOf(this.imageSliderService.base64FileExtension(e).toLowerCase())>-1)&&(this.fileExtension=this.imageSliderService.base64FileExtension(e));const i=e.match(Bx);if(i&&11===i[2].length)this.showVideo?(this.type=this.YOUTUBE,this.fileUrl=this.sanitizer.bypassSecurityTrustResourceUrl(`https://www.youtube.com/embed/${i[2]}${this.videoAutoPlay?"?autoplay=1&enablejsapi=1":"?autoplay=0&enablejsapi=1"}&controls=${this.showVideoControls}`)):(this.type=this.IMAGE,this.fileUrl=this.sanitizer.bypassSecurityTrustResourceUrl(`https://img.youtube.com/vi/${i[2]}/0.jpg`));else if(this.fileExtension&&v_.indexOf(this.fileExtension.toLowerCase())>-1)this.type=this.IMAGE;else if(this.fileExtension&&Q0.indexOf(this.fileExtension.toLowerCase())>-1&&(this.type=this.VIDEO,this.videoAutoPlay&&document.getElementById(`video_${this.imageIndex}`))){const r=document.getElementById(`video_${this.imageIndex}`);setTimeout(()=>{r.play()},1e3*this.speed)}}videoClickHandler(e){e&&e.srcElement&&!this.showVideoControls&&(e.srcElement.paused?e.srcElement.play():e.srcElement.pause())}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Lx),c.Y36(hr),c.Y36(ge))},n.\u0275cmp=c.Xpm({type:n,selectors:[["custom-img"]],inputs:{showVideo:"showVideo",videoAutoPlay:"videoAutoPlay",showVideoControls:"showVideoControls",speed:"speed",isVideo:"isVideo",alt:"alt",title:"title",direction:"direction",ratio:"ratio",lazy:"lazy",currentImageIndex:"currentImageIndex",imageIndex:"imageIndex",imageUrl:"imageUrl"},features:[c.TTD],decls:1,vars:1,consts:[["class","custom-image-main",3,"ngClass",4,"ngIf"],[1,"custom-image-main",3,"ngClass"],["class","image",3,"ngClass","src","alt","title","load",4,"ngIf"],["class","youtube","frameborder","0","allow","autoplay","allowfullscreen","",3,"src",4,"ngIf"],["class","video","type","video/mp4","controlsList","nodownload",3,"id","ngClass","autoplay","click",4,"ngIf"],["class","invalid-msg",3,"dir",4,"ngIf"],["class","youtube-icon",4,"ngIf"],[1,"image",3,"ngClass","src","alt","title","load"],["frameborder","0","allow","autoplay","allowfullscreen","",1,"youtube",3,"src"],["type","video/mp4","controlsList","nodownload",1,"video",3,"id","ngClass","autoplay","click"],["type","video/mp4",3,"src"],[1,"invalid-msg",3,"dir"],[1,"youtube-icon"]],template:function(e,i){1&e&&c.YNc(0,Nx,6,8,"div",0),2&e&&c.Q6J("ngIf",i.fileUrl)},directives:[Sr,Js],encapsulation:2}),n})(),Vx=(()=>{class n{constructor(e,i,r,a){this.cdRef=e,this.sanitizer=i,this.elRef=r,this.document=a,this.totalImages=0,this.nextImageIndex=-1,this.popupWidth=1200,this.marginLeft=0,this.imageFullscreenView=!1,this.lightboxPrevDisable=!1,this.lightboxNextDisable=!1,this.showLoading=!0,this.effectStyle="none",this.speed=1,this.title="",this.currentImageIndex=0,this.images=[],this.videoAutoPlay=!1,this.direction="ltr",this.paginationShow=!1,this.infinite=!1,this.arrowKeyMove=!0,this.showVideoControls=!0,this.close=new c.vpe,this.prevImage=new c.vpe,this.nextImage=new c.vpe}set imageIndex(e){void 0!==e&&e>-1&&e<this.images.length&&(this.currentImageIndex=e),this.nextPrevDisable()}set show(e){this.imageFullscreenView=e,this.elRef.nativeElement.ownerDocument.body.style.overflow="",!0===e&&(this.elRef.nativeElement.ownerDocument.body.style.overflow="hidden",this.setPopupSliderWidth())}set animationSpeed(e){e&&"number"==typeof e&&e>=.1&&e<=5&&(this.speed=e)}onResize(e){this.effectStyle="none",this.setPopupSliderWidth()}handleKeyboardEvent(e){e&&e.key&&this.arrowKeyMove&&("arrowright"===e.key.toLowerCase()&&this.nextImageLightbox(),"arrowleft"===e.key.toLowerCase()&&this.prevImageLightbox(),"escape"===e.key.toLowerCase()&&this.closeLightbox())}ngOnInit(){}ngAfterViewInit(){}ngOnDestroy(){this.resetState()}setPopupSliderWidth(){window&&window.innerWidth&&(this.popupWidth=window.innerWidth,this.totalImages=this.images.length,"number"==typeof this.currentImageIndex&&void 0!==this.currentImageIndex&&(this.marginLeft=-1*this.popupWidth*this.currentImageIndex,this.getImageData(),this.nextPrevDisable(),setTimeout(()=>{this.showLoading=!1},500)))}closeLightbox(){this.close.emit()}prevImageLightbox(){this.effectStyle=`all ${this.speed}s ease-in-out`,this.currentImageIndex>0&&!this.lightboxPrevDisable&&(this.currentImageIndex--,this.prevImage.emit("lightbox previous"),this.marginLeft=-1*this.popupWidth*this.currentImageIndex,this.getImageData(),this.nextPrevDisable())}nextImageLightbox(){this.effectStyle=`all ${this.speed}s ease-in-out`,this.currentImageIndex<this.images.length-1&&!this.lightboxNextDisable&&(this.currentImageIndex++,this.nextImage.emit("lightbox next"),this.marginLeft=-1*this.popupWidth*this.currentImageIndex,this.getImageData(),this.nextPrevDisable())}nextPrevDisable(){this.lightboxNextDisable=!0,this.lightboxPrevDisable=!0,setTimeout(()=>{this.applyButtonDisableCondition()},1e3*this.speed)}applyButtonDisableCondition(){this.lightboxNextDisable=!1,this.lightboxPrevDisable=!1,!this.infinite&&this.currentImageIndex>=this.images.length-1&&(this.lightboxNextDisable=!0),!this.infinite&&this.currentImageIndex<=0&&(this.lightboxPrevDisable=!0)}getImageData(){if(this.images&&this.images.length&&"number"==typeof this.currentImageIndex&&void 0!==this.currentImageIndex&&this.images[this.currentImageIndex]&&(this.images[this.currentImageIndex].image||this.images[this.currentImageIndex].video)){this.title=this.images[this.currentImageIndex].title||"",this.totalImages=this.images.length;for(const e in this.document.getElementsByTagName("iframe"))this.document.getElementsByTagName("iframe")[e]&&this.document.getElementsByTagName("iframe")[e].contentWindow&&this.document.getElementsByTagName("iframe")[e].contentWindow.postMessage&&this.document.getElementsByTagName("iframe")[e].contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*");for(const e in this.document.getElementsByTagName("video"))this.document.getElementsByTagName("video")[e]&&this.document.getElementsByTagName("video")[e].pause&&this.document.getElementsByTagName("video")[e].pause()}}resetState(){this.images=[]}swipeLightboxImg(e,i){const r=[e.changedTouches[0].pageX,e.changedTouches[0].pageY],a=(new Date).getTime();if("start"===i)this.swipeLightboxImgCoord=r,this.swipeLightboxImgTime=a;else if("end"===i){const h=[r[0]-this.swipeLightboxImgCoord[0],r[1]-this.swipeLightboxImgCoord[1]];a-this.swipeLightboxImgTime<1e3&&Math.abs(h[0])>30&&Math.abs(h[0])>Math.abs(3*h[1])&&(h[0]<0?this.nextImageLightbox():this.prevImageLightbox())}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36(hr),c.Y36(c.SBq),c.Y36(ge))},n.\u0275cmp=c.Xpm({type:n,selectors:[["slider-lightbox"]],viewQuery:function(e,i){if(1&e&&(c.Gf(Fx,5),c.Gf(yM,5)),2&e){let r;c.iGM(r=c.CRH())&&(i.lightboxDiv=r.first),c.iGM(r=c.CRH())&&(i.lightboxImageDiv=r.first)}},hostBindings:function(e,i){1&e&&c.NdJ("resize",function(a){return i.onResize(a)},!1,c.Jf7)("keyup",function(a){return i.handleKeyboardEvent(a)},!1,c.evT)},inputs:{images:"images",videoAutoPlay:"videoAutoPlay",direction:"direction",paginationShow:"paginationShow",infinite:"infinite",arrowKeyMove:"arrowKeyMove",showVideoControls:"showVideoControls",imageIndex:"imageIndex",show:"show",animationSpeed:"animationSpeed"},outputs:{close:"close",prevImage:"prevImage",nextImage:"nextImage"},decls:1,vars:1,consts:[["class","ng-image-fullscreen-view",4,"ngIf"],[1,"ng-image-fullscreen-view"],[1,"lightbox-wrapper"],[1,"close",3,"click"],[1,"lightbox-div"],["lightboxDiv",""],["class","pre-loader",4,"ngIf"],[1,"lightbox-image-main",3,"ngStyle"],["class","lightbox-image",3,"ngStyle","touchstart","touchend",4,"ngFor","ngForOf"],[1,"caption",3,"dir","ngClass"],["class","prev icons prev-icon",3,"ngClass","click",4,"ngIf"],["class","next icons next-icon",3,"ngClass","click",4,"ngIf"],["class","popup-pagination",4,"ngIf"],[1,"pre-loader"],[1,"mnml-spinner"],[1,"lightbox-image",3,"ngStyle","touchstart","touchend"],["lightboxImageDiv",""],[3,"imageUrl","isVideo","currentImageIndex","imageIndex","speed","videoAutoPlay","showVideoControls","alt","title","showVideo","direction"],[1,"prev","icons","prev-icon",3,"ngClass","click"],[1,"next","icons","next-icon",3,"ngClass","click"],[1,"popup-pagination"]],template:function(e,i){1&e&&c.YNc(0,_F,13,16,"div",0),2&e&&c.Q6J("ngIf",i.imageFullscreenView)},directives:[Sr,Ga,vn,Js,b_],encapsulation:2}),n})(),bM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Lx],imports:[[sa]]}),n})();const vF=function(){return{width:"100%",height:239}},$0=function(){return{width:"25%",height:200}};let wM=(()=>{class n{constructor(){this.name="Angular",this.imageObject=[{image:"../../assets/images/logo.jpg",thumbImage:"../../assets/images/logo.jpg",title:"tiiitre"},{image:"../../assets/images/debat2.jpg",thumbImage:"../../assets/images/debat2.jpg",title:"tiiitre"},{image:"../../assets/images/blog2.png",thumbImage:"../../assets/images/blog2.png",title:"tiiitre"},{image:"../../assets/images/logo.jpg",thumbImage:"../../assets/images/logo.jpg",title:"tiiitre"},{image:"../../assets/images/blog2.png",thumbImage:"../../assets/images/blog2.png"},{image:"../../assets/images/debat2.jpg",thumbImage:"../../assets/images/debat2.jpg",title:"tiiitre."}]}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:79,vars:12,consts:[[1,"main-layout"],[1,"banner-slider"],[1,"container-fluid"],[1,"row"],[1,"col-md-7"],["id","slider_main"],[1,"main-content"],["data-bg-color","#0f75bd",1,"fullwidth-block"],[1,"container"],[2,"width","700px","text-align","center","padding","0","padding-top","70px"],["slideImage","1",3,"images","infinite","autoSlide","imageSize","imagePopup","animationSpeed"],["nav",""],[1,"col-md-5"],[1,"full","slider_cont_section"],["slideImage","1",3,"images","infinite","autoSlide","imageSize"],[1,"section","layout_padding"],[1,"col-md-12"],[1,"heading"],[1,"orange_color"],[1,"col-md-6"],["src","../../assets/images/blog1.png","alt","#"],[1,"full","blog_cont"],[1,"row","margin_top_30"],["src","../../assets/images/blog2.png","alt","#"],[1,"button_section","full","center","margin_top_30"],["href","about.html",2,"margin","0"],[1,"section","layout_padding","dark_bg"],["src","../../assets/images/marketing_img.png","alt","#"],[1,"white_font"],[1,"grey_font"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"div",5),c.TgZ(6,"div"),c.TgZ(7,"div"),c.TgZ(8,"main",6),c.TgZ(9,"div",7),c.TgZ(10,"div",8),c.TgZ(11,"div",9),c._UZ(12,"ng-image-slider",10,11),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(14,"div",12),c.TgZ(15,"div",13),c.TgZ(16,"h3"),c._uU(17,"Plateforme de d\xe9bat"),c.qZA(),c.TgZ(18,"h4"),c._uU(19,"qui favorise la r\xe9flexion"),c.qZA(),c.TgZ(20,"p"),c._uU(21,"It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c._UZ(22,"h3"),c._UZ(23,"ng-image-slider",14,11),c.TgZ(25,"div",15),c.TgZ(26,"div",8),c.TgZ(27,"div",3),c.TgZ(28,"div",16),c.TgZ(29,"div",17),c.TgZ(30,"h3"),c._uU(31,"About "),c.TgZ(32,"span",18),c._uU(33,"Us"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(34,"div",3),c.TgZ(35,"div",19),c._UZ(36,"img",20),c.qZA(),c.TgZ(37,"div",19),c.TgZ(38,"div",21),c.TgZ(39,"h4"),c._uU(40,"The biggest and most awesome camera of year"),c.qZA(),c.TgZ(41,"h5"),c._uU(42,"MAY 14 2019 5 READ"),c.qZA(),c.TgZ(43,"p"),c._uU(44,"There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable."),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(45,"div",22),c.TgZ(46,"div",19),c._UZ(47,"img",23),c.qZA(),c.TgZ(48,"div",19),c.TgZ(49,"div",21),c.TgZ(50,"h4"),c._uU(51,"What 3 years of android taught me the hard way"),c.qZA(),c.TgZ(52,"h5"),c._uU(53,"MAY 19 2019 5 READ"),c.qZA(),c.TgZ(54,"p"),c._uU(55,"There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable."),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(56,"div",22),c.TgZ(57,"div",16),c.TgZ(58,"div",24),c.TgZ(59,"a",25),c._uU(60,"Read More"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(61,"div",26),c.TgZ(62,"div",8),c.TgZ(63,"div",3),c.TgZ(64,"div",16),c.TgZ(65,"div",17),c.TgZ(66,"h3"),c._uU(67,"Marketing"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(68,"div",3),c.TgZ(69,"div",19),c._UZ(70,"img",27),c.qZA(),c.TgZ(71,"div",19),c.TgZ(72,"div",21),c.TgZ(73,"h3",28),c._uU(74,"Where can I get some"),c.qZA(),c.TgZ(75,"h5",29),c._uU(76,"March 19 2019 5 READ"),c.qZA(),c.TgZ(77,"p",28),c._uU(78,"There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text. All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary, making this the first true generator on the Internet. It uses a dictionary of over 200 Latin words, combined g to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text. All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary, making this the first true generator.. "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(12),c.Q6J("images",i.imageObject)("infinite",!0)("autoSlide",1)("imageSize",c.DdM(10,vF))("imagePopup",!1)("animationSpeed",2),c.xp6(11),c.Q6J("images",i.imageObject)("infinite",!0)("autoSlide",1)("imageSize",c.DdM(11,$0)))},directives:[AM],styles:[""]}),n})();var ft=Fe(8239),Og=Fe(3637),ii=Fe(6643);function mu(){return n=>n.lift(new Cf)}class Cf{call(t,e){return e.subscribe(new J0(t))}}class J0 extends ai.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function pl(n,t){return e=>e.lift(new Pg(n,t))}class Pg{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Ef(t,this.compare,this.keySelector))}}class Ef extends ai.L{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:r}=this;e=r?r(t):t}catch(r){return this.destination.error(r)}let i=!1;if(this.hasKey)try{const{compare:r}=this;i=r(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}var Ut,ps=Fe(8939),X0=(Fe(4671),Fe(4486)),fo=Fe(5452),Ea=Fe(6034),qo=Fe(5601),Pe=Fe(3854),EM="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},gl={},w_=w_||{},ln=EM||self;function C_(){}function E_(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Ng(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var gs="closure_uid_"+(1e9*Math.random()>>>0),SM=0;function IM(n,t,e){return n.call.apply(n.bind,arguments)}function bF(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Gr(n,t,e){return(Gr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?IM:bF).apply(null,arguments)}function Fg(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function zr(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,a){for(var h=Array(arguments.length-2),f=2;f<arguments.length;f++)h[f-2]=arguments[f];return t.prototype[r].apply(i,h)}}function yu(){this.s=this.s,this.o=this.o}var Ux={};yu.prototype.s=!1,yu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,gs)&&n[gs]||(n[gs]=++SM)}(this);delete Ux[n]}},yu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const jx=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},Hx=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<i;a++)a in r&&t.call(e,r[a],a,n)};function tb(n){return Array.prototype.concat.apply([],arguments)}function nb(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function Lg(n){return/^[\s\xa0]*$/.test(n)}var Wr,Gx=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ms(n,t){return-1!=n.indexOf(t)}function x_(n,t){return n<t?-1:n>t?1:0}e:{var zx=ln.navigator;if(zx){var xa=zx.userAgent;if(xa){Wr=xa;break e}}Wr=""}function Bg(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function Wx(n){const t={};for(const e in n)t[e]=n[e];return t}var qx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function DM(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let a=0;a<qx.length;a++)e=qx[a],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function S_(n){return S_[" "](n),n}S_[" "]=C_;var k_,n,MM=ms(Wr,"Opera"),xf=ms(Wr,"Trident")||ms(Wr,"MSIE"),I_=ms(Wr,"Edge"),ib=I_||xf,Zx=ms(Wr,"Gecko")&&!(ms(Wr.toLowerCase(),"webkit")&&!ms(Wr,"Edge"))&&!(ms(Wr,"Trident")||ms(Wr,"MSIE"))&&!ms(Wr,"Edge"),T_=ms(Wr.toLowerCase(),"webkit")&&!ms(Wr,"Edge");function D_(){var n=ln.document;return n?n.documentMode:void 0}e:{var Vg="",Ug=(n=Wr,Zx?/rv:([^\);]+)(\)|;)/.exec(n):I_?/Edge\/([\d\.]+)/.exec(n):xf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):T_?/WebKit\/(\S+)/.exec(n):MM?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Ug&&(Vg=Ug?Ug[1]:""),xf){var M_=D_();if(null!=M_&&M_>parseFloat(Vg)){k_=String(M_);break e}}k_=Vg}var RM={};function OM(){return t=RM,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let n=0;const t=Gx(String(k_)).split("."),e=Gx("9").split("."),i=Math.max(t.length,e.length);for(let h=0;0==n&&h<i;h++){var r=t[h]||"",a=e[h]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=x_(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||x_(0==r[2].length,0==a[2].length)||x_(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n}();var t}var NM=ln.document&&xf&&(D_()||parseInt(k_,10))||void 0,Yx=function(){if(!ln.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ln.addEventListener("test",C_,t),ln.removeEventListener("test",C_,t)}catch(e){}return n}();function Mr(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function Sf(n,t){if(Mr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Zx){e:{try{S_(t.nodeName);var r=!0;break e}catch(a){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Kx[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Sf.Z.h.call(this)}}Mr.prototype.h=function(){this.defaultPrevented=!0},zr(Sf,Mr);var Kx={2:"touch",3:"pen",4:"mouse"};Sf.prototype.h=function(){Sf.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var If="closure_listenable_"+(1e6*Math.random()|0),Tc=0;function R_(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++Tc,this.ca=this.fa=!1}function O_(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function P_(n){this.src=n,this.g={},this.h=0}function Qx(n,t){var e=t.type;if(e in n.g){var a,i=n.g[e],r=jx(i,t);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(O_(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function _u(n,t,e,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ca&&a.listener==t&&a.capture==!!e&&a.ia==i)return r}return-1}P_.prototype.add=function(n,t,e,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var h=_u(n,t,i,r);return-1<h?(t=n[h],e||(t.fa=!1)):((t=new R_(t,this.src,a,!!i,r)).fa=e,n.push(t)),t};var N_="closure_lm_"+(1e6*Math.random()|0),Bh={};function Tf(n,t,e,i,r){if(i&&i.once)return sb(n,t,e,i,r);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Tf(n,t[a],e,i,r);return null}return e=L_(e),n&&n[If]?n.N(t,e,Ng(i)?!!i.capture:!!i,r):$x(n,t,e,!1,i,r)}function $x(n,t,e,i,r,a){if(!t)throw Error("Invalid event type");var h=Ng(r)?!!r.capture:!!r,f=ab(n);if(f||(n[N_]=f=new P_(n)),(e=f.add(t,e,i,h,a)).proxy)return e;if(i=function(){var t=ob;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Yx||(r=h),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(Xx(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function sb(n,t,e,i,r){if(Array.isArray(t)){for(var a=0;a<t.length;a++)sb(n,t[a],e,i,r);return null}return e=L_(e),n&&n[If]?n.O(t,e,Ng(i)?!!i.capture:!!i,r):$x(n,t,e,!0,i,r)}function Jx(n,t,e,i,r){if(Array.isArray(t))for(var a=0;a<t.length;a++)Jx(n,t[a],e,i,r);else i=Ng(i)?!!i.capture:!!i,e=L_(e),n&&n[If]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=_u(a=n.g[t],e,i,r))&&(O_(a[e]),Array.prototype.splice.call(a,e,1),0==a.length&&(delete n.g[t],n.h--))):n&&(n=ab(n))&&(t=n.g[t.toString()],n=-1,t&&(n=_u(t,e,i,r)),(e=-1<n?t[n]:null)&&F_(e))}function F_(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[If])Qx(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(Xx(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=ab(t))?(Qx(e,n),0==e.h&&(e.src=null,t[N_]=null)):O_(n)}}}function Xx(n){return n in Bh?Bh[n]:Bh[n]="on"+n}function ob(n,t){if(n.ca)n=!0;else{t=new Sf(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&F_(n),n=e.call(i,t)}return n}function ab(n){return(n=n[N_])instanceof P_?n:null}var lb="__closure_events_fn_"+(1e9*Math.random()>>>0);function L_(n){return"function"==typeof n?n:(n[lb]||(n[lb]=function(t){return n.handleEvent(t)}),n[lb])}function Ai(){yu.call(this),this.i=new P_(this),this.P=this,this.I=null}function pr(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Mr(t,n);else if(t instanceof Mr)t.target=t.target||n;else{var r=t;DM(t=new Mr(i,n),r)}if(r=!0,e)for(var a=e.length-1;0<=a;a--){var h=t.g=e[a];r=B_(h,i,!0,t)&&r}if(r=B_(h=t.g=n,i,!0,t)&&r,r=B_(h,i,!1,t)&&r,e)for(a=0;a<e.length;a++)r=B_(h=t.g=e[a],i,!1,t)&&r}function B_(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,a=0;a<t.length;++a){var h=t[a];if(h&&!h.ca&&h.capture==e){var f=h.listener,m=h.ia||h.src;h.fa&&Qx(n.i,h),r=!1!==f.call(m,i)&&r}}return r&&!i.defaultPrevented}zr(Ai,yu),Ai.prototype[If]=!0,Ai.prototype.removeEventListener=function(n,t,e,i){Jx(this,n,t,e,i)},Ai.prototype.M=function(){if(Ai.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)O_(e[i]);delete n.g[t],n.h--}}this.I=null},Ai.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Ai.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var cb=ln.JSON.stringify;function Df(){var n=V_;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var ub,eS=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new LM,n=>n.reset());class LM{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function BM(n){ln.setTimeout(()=>{throw n},0)}function tS(n,t){ub||function(){var n=ln.Promise.resolve(void 0);ub=function(){n.then(wF)}}(),$n||(ub(),$n=!0),V_.add(n,t)}var $n=!1,V_=new class{constructor(){this.h=this.g=null}add(t,e){const i=eS.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function wF(){for(var n;n=Df();){try{n.h.call(n.g)}catch(e){BM(e)}var t=eS;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}$n=!1}function Zo(n,t){Ai.call(this),this.h=n||1,this.g=t||ln,this.j=Gr(this.kb,this),this.l=Date.now()}function Hg(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Gg(n,t,e){if("function"==typeof n)e&&(n=Gr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Gr(n.handleEvent,n)}return 2147483647<Number(t)?-1:ln.setTimeout(n,t||0)}function VM(n){n.g=Gg(()=>{n.g=null,n.i&&(n.i=!1,VM(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}zr(Zo,Ai),(Ut=Zo.prototype).da=!1,Ut.S=null,Ut.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),pr(this,"tick"),this.da&&(Hg(this),this.start()))}},Ut.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ut.M=function(){Zo.Z.M.call(this),Hg(this),delete this.g};class UM extends yu{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:VM(this)}M(){super.M(),this.g&&(ln.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zg(n){yu.call(this),this.h=n,this.g={}}zr(zg,yu);var hb=[];function db(n,t,e,i){Array.isArray(e)||(e&&(hb[0]=e.toString()),e=hb);for(var r=0;r<e.length;r++){var a=Tf(t,e[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function fb(n){Bg(n.g,function(t,e){this.g.hasOwnProperty(e)&&F_(t)},n),n.g={}}function Wg(){this.g=!0}function ml(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var h=1;h<r.length;h++)r[h]=""}}}return cb(e)}catch(f){return t}}(n,e)+(i?" "+i:"")})}zg.prototype.M=function(){zg.Z.M.call(this),fb(this)},zg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wg.prototype.Aa=function(){this.g=!1},Wg.prototype.info=function(){};var Au={},gb=null;function qg(){return gb=gb||new Ai}function rS(n){Mr.call(this,Au.Ma,n)}function Zg(n){const t=qg();pr(t,new rS(t,n))}function sS(n,t){Mr.call(this,Au.STAT_EVENT,n),this.stat=t}function ys(n){const t=qg();pr(t,new sS(t,n))}function mb(n,t){Mr.call(this,Au.Na,n),this.size=t}function U_(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ln.setTimeout(function(){n()},t)}Au.Ma="serverreachability",zr(rS,Mr),Au.STAT_EVENT="statevent",zr(sS,Mr),Au.Na="timingevent",zr(mb,Mr);var Yg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},oS={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function yb(){}function zM(){}yb.prototype.h=null;var H_,Vh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function _b(){Mr.call(this,"d")}function j_(){Mr.call(this,"c")}function Ab(){}function _s(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new zg(this),this.P=CF,this.W=new Zo(n=ib?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new WM}function WM(){this.i=null,this.g="",this.h=!1}zr(_b,Mr),zr(j_,Mr),zr(Ab,yb),Ab.prototype.g=function(){return new XMLHttpRequest},Ab.prototype.i=function(){return{}},H_=new Ab;var CF=45e3,aS={},Kg={};function G_(n,t,e){n.K=1,n.v=yl(Dc(t)),n.s=e,n.U=!0,vb(n,null)}function vb(n,t){n.F=Date.now(),Uh(n),n.A=Dc(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),Sb(e.h,"t",i),n.C=0,e=n.l.H,n.h=new WM,n.g=CS(n.l,e?t:null,!n.s),0<n.O&&(n.L=new UM(Gr(n.Ia,n,n.g),n.O)),db(n.V,n.g,"readystatechange",n.gb),t=n.H?Wx(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Zg(1),function(n,t,e,i,r,a){n.info(function(){if(n.g)if(a)for(var h="",f=a.split("&"),m=0;m<f.length;m++){var b=f[m].split("=");if(1<b.length){var F=b[0];b=b[1];var K=F.split("_");h=2<=K.length&&"type"==K[1]?h+(F+"=")+b+"&":h+(F+"=redacted&")}}else h=null;else h=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function lS(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function qM(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=cS(n,e),r==Kg){4==t&&(n.o=4,ys(14),i=!1),ml(n.j,n.m,null,"[Incomplete Response]");break}if(r==aS){n.o=4,ys(15),ml(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}ml(n.j,n.m,r,null),bb(n,r)}lS(n)&&r!=Kg&&r!=aS&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,ys(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),Bb(t),t.L=!0,ys(11))):(ml(n.j,n.m,e,"[Invalid Chunked Response]"),jh(n),Qg(n))}function cS(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?Kg:(e=Number(t.substring(e,i)),isNaN(e)?aS:(i+=1)+e>t.length?Kg:(t=t.substr(i,e),n.C=i+e,t))}function Uh(n){n.Y=Date.now()+n.P,uS(n,n.P)}function uS(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=U_(Gr(n.eb,n),t)}function kf(n){n.B&&(ln.clearTimeout(n.B),n.B=null)}function Qg(n){0==n.l.G||n.I||Ub(n.l,n)}function jh(n){kf(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,Hg(n.W),fb(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function bb(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||q_(e.i,n)))if(e.I=n.N,!n.J&&q_(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(b){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=U_(Gr(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;J_(e),Xg(e)}Lb(e),ys(18)}if(1>=pS(e.i)&&e.ka){try{e.ka()}catch(b){}e.ka=void 0}}else kc(e,11)}else if((n.J||e.g==n)&&J_(e),!Lg(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let b=r[t];if(e.U=b[0],b=b[1],2==e.G)if("c"==b[0]){e.J=b[1],e.la=b[2];const F=b[3];null!=F&&(e.ma=F,e.h.info("VER="+e.ma));const K=b[4];null!=K&&(e.za=K,e.h.info("SVER="+e.za));const we=b[5];null!=we&&"number"==typeof we&&0<we&&(e.K=i=1.5*we,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const Re=n.g;if(Re){const qe=Re.g?Re.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qe){var a=i.i;!a.g&&(ms(qe,"spdy")||ms(qe,"quic")||ms(qe,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(Db(a,a.h),a.h=null))}if(i.D){const rt=Re.g?Re.g.getResponseHeader("X-HTTP-Session-Id"):null;rt&&(i.sa=rt,wn(i.F,i.D,rt))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var h=n;if((i=e).oa=X_(i,i.H?i.la:null,i.W),h.J){kb(i.i,h);var f=h,m=i.K;m&&f.setTimeout(m),f.B&&(kf(f),Uh(f)),i.g=h}else wS(i);0<e.l.length&&qh(e)}else"stop"!=b[0]&&"close"!=b[0]||kc(e,7);else 3==e.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?kc(e,7):Nb(e):"noop"!=b[0]&&e.j&&e.j.wa(b),e.A=0)}Zg(4)}catch(b){}}function wb(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(E_(n)||"string"==typeof n)Hx(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(E_(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;r=(i=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(E_(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n)).length;for(var a=0;a<r;a++)t.call(void 0,i[a],e&&e[a],n)}}function Mf(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Mf)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function Rf(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];Yo(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)Yo(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function Yo(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(Ut=_s.prototype).setTimeout=function(n){this.P=n},Ut.gb=function(n){n=n.target;const t=this.L;t&&3==vu(n)?t.l():this.Ia(n)},Ut.Ia=function(n){try{if(n==this.g)e:{const F=vu(this.g);var t=this.g.Da();const K=this.g.ba();if(!(3>F)&&(3!=F||ib||this.g&&(this.h.h||this.g.ga()||yS(this.g)))){this.I||4!=F||7==t||Zg(8==t||0>=K?3:2),kf(this);var e=this.g.ba();this.N=e;t:if(lS(this)){var i=yS(this.g);n="";var r=i.length,a=4==vu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){jh(this),Qg(this);var h="";break t}this.h.i=new ln.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:a&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==e,function(n,t,e,i,r,a,h){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+a+" "+h})}(this.j,this.u,this.A,this.m,this.X,F,e),this.i){if(this.$&&!this.J){t:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lg(f)){var b=f;break t}}b=null}if(!(e=b)){this.i=!1,this.o=3,ys(12),jh(this),Qg(this);break e}ml(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,bb(this,e)}this.U?(qM(this,F,h),ib&&this.i&&3==F&&(db(this.V,this.W,"tick",this.fb),this.W.start())):(ml(this.j,this.m,h,null),bb(this,h)),4==F&&jh(this),this.i&&!this.I&&(4==F?Ub(this.l,this):(this.i=!1,Uh(this)))}else 400==e&&0<h.indexOf("Unknown SID")?(this.o=3,ys(12)):(this.o=0,ys(13)),jh(this),Qg(this)}}}catch(F){}},Ut.fb=function(){if(this.g){var n=vu(this.g),t=this.g.ga();this.C<t.length&&(kf(this),qM(this,n,t),this.i&&4!=n&&Uh(this))}},Ut.cancel=function(){this.I=!0,jh(this)},Ut.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Zg(3),ys(17)),jh(this),this.o=2,Qg(this)):uS(this,this.Y-n)},(Ut=Mf.prototype).R=function(){Rf(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},Ut.T=function(){return Rf(this),this.g.concat()},Ut.get=function(n,t){return Yo(this.h,n)?this.h[n]:t},Ut.set=function(n,t){Yo(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},Ut.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],a=this.get(r);n.call(t,a,r,this)}};var Cb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ia(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ia){this.g=void 0!==t?t:n.g,z_(this,n.j),this.s=n.s,Of(this,n.i),po(this,n.m),this.l=n.l,t=n.h;var e=new Al;e.i=t.i,t.g&&(e.g=new Mf(t.g),e.h=t.h),Pf(this,e),this.o=n.o}else n&&(e=String(n).match(Cb))?(this.g=!!t,z_(this,e[1]||"",!0),this.s=Hh(e[2]||""),Of(this,e[3]||"",!0),po(this,e[4]),this.l=Hh(e[5]||"",!0),Pf(this,e[6]||"",!0),this.o=Hh(e[7]||"")):(this.g=!!t,this.h=new Al(null,this.g))}function Dc(n){return new Ia(n)}function z_(n,t,e){n.j=e?Hh(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Of(n,t,e){n.i=e?Hh(t,!0):t}function po(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function Pf(n,t,e){t instanceof Al?(n.h=t,function(n,t){t&&!n.j&&(go(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(Eb(this,i),Sb(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=_l(t,Bf)),n.h=new Al(t,n.g))}function wn(n,t,e){n.h.set(t,e)}function yl(n){return wn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Hh(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function _l(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,Nf),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Nf(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ia.prototype.toString=function(){var n=[],t=this.j;t&&n.push(_l(t,Gh,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(_l(t,Gh,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(_l(e,"/"==e.charAt(0)?Lf:Ff,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",_l(e,Vf)),n.join("")};var Gh=/[#\/\?@]/g,Ff=/[#\?:]/g,Lf=/[#\?]/g,Bf=/[#\?@]/g,Vf=/#/g;function Al(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function go(n){n.g||(n.g=new Mf,n.h=0,n.i&&function(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var a=n[e].substring(0,i);r=n[e].substring(i+1)}else a=n[e];t(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function Eb(n,t){go(n),t=zh(n,t),Yo(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,Yo((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&Rf(n)))}function xb(n,t){return go(n),t=zh(n,t),Yo(n.g.h,t)}function Sb(n,t,e){Eb(n,t),0<e.length&&(n.i=null,n.g.set(zh(n,t),nb(e)),n.h+=e.length)}function zh(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function Ib(n){this.l=n||fS,n=ln.PerformanceNavigationTiming?0<(n=ln.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ln.g&&ln.g.Ea&&ln.g.Ea()&&ln.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ut=Al.prototype).add=function(n,t){go(this),this.i=null,n=zh(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},Ut.forEach=function(n,t){go(this),this.g.forEach(function(e,i){Hx(e,function(r){n.call(t,r,i,this)},this)},this)},Ut.T=function(){go(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],a=0;a<r.length;a++)e.push(t[i]);return e},Ut.R=function(n){go(this);var t=[];if("string"==typeof n)xb(this,n)&&(t=tb(t,this.g.get(zh(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=tb(t,n[e])}return t},Ut.set=function(n,t){return go(this),this.i=null,xb(this,n=zh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},Ut.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},Ut.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var a=0;a<i.length;a++){var h=r;""!==i[a]&&(h+="="+encodeURIComponent(String(i[a]))),n.push(h)}}return this.i=n.join("&")};var fS=10;function Tb(n){return!!n.h||!!n.g&&n.g.size>=n.j}function pS(n){return n.h?1:n.g?n.g.size:0}function q_(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function Db(n,t){n.g?n.g.add(t):n.h=t}function kb(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function Mb(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return nb(n.i)}function Rb(){}function EF(){this.g=new Rb}function YM(n,t,e){const i=e||"";try{wb(n,function(r,a){let h=r;Ng(r)&&(h=cb(r)),t.push(i+a+"="+encodeURIComponent(h))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Z_(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(a){}}function Uf(n){this.l=n.$b||null,this.j=n.ib||!1}function Y_(n,t){Ai.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=Ob,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ib.prototype.cancel=function(){if(this.i=Mb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Rb.prototype.stringify=function(n){return ln.JSON.stringify(n,void 0)},Rb.prototype.parse=function(n){return ln.JSON.parse(n,void 0)},zr(Uf,yb),Uf.prototype.g=function(){return new Y_(this.l,this.j)},Uf.prototype.i=function(n){return function(){return n}}({}),zr(Y_,Ai);var Ob=0;function KM(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function $g(n){n.readyState=4,n.l=null,n.j=null,n.A=null,jf(n)}function jf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ut=Y_.prototype).open=function(n,t){if(this.readyState!=Ob)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,jf(this)},Ut.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||ln).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ut.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$g(this)),this.readyState=Ob},Ut.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,jf(this)),this.g&&(this.readyState=3,jf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ln.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;KM(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Ut.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?$g(this):jf(this),3==this.readyState&&KM(this)}},Ut.Ua=function(n){this.g&&(this.response=this.responseText=n,$g(this))},Ut.Ta=function(n){this.g&&(this.response=n,$g(this))},Ut.ha=function(){this.g&&$g(this)},Ut.setRequestHeader=function(n,t){this.v.append(n,t)},Ut.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ut.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Y_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var xF=ln.JSON.parse;function tr(n){Ai.call(this),this.headers=new Mf,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=QM,this.K=this.L=!1}zr(tr,Ai);var QM="",$M=/^https?$/i,SF=["POST","PUT"];function XM(n){return"content-type"==n.toLowerCase()}function K_(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,Q_(n),Pb(n)}function Q_(n){n.D||(n.D=!0,pr(n,"complete"),pr(n,"error"))}function mS(n){if(n.h&&void 0!==w_&&(!n.C[1]||4!=vu(n)||2!=n.ba()))if(n.v&&4==vu(n))Gg(n.Fa,0,n);else if(pr(n,"readystatechange"),4==vu(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===f){var r=String(n.H).match(Cb)[1]||null;if(!r&&ln.self&&ln.self.location){var a=ln.self.location.protocol;r=a.substr(0,a.length-1)}i=!$M.test(r?r.toLowerCase():"")}e=i}if(e)pr(n,"complete"),pr(n,"success");else{n.m=6;try{var h=2<vu(n)?n.g.statusText:""}catch(m){h=""}n.j=h+" ["+n.ba()+"]",Q_(n)}}finally{Pb(n)}}}function Pb(n,t){if(n.g){e1(n);const e=n.g,i=n.C[0]?C_:null;n.g=null,n.C=null,t||pr(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function e1(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(ln.clearTimeout(n.A),n.A=null)}function vu(n){return n.g?n.g.readyState:0}function yS(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case QM:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function AS(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function(n){let t="";return Bg(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):wn(n,t,e))}function Jg(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function Wh(n){this.za=0,this.l=[],this.h=new Wg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Jg("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Jg("baseRetryDelayMs",5e3,n),this.$a=Jg("retryDelaySeedMs",1e4,n),this.Ya=Jg("forwardChannelMaxRetries",2,n),this.ra=Jg("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Ib(n&&n.concurrentRequestLimit),this.Ca=new EF,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Nb(n){if(vS(n),3==n.G){var t=n.V++,e=Dc(n.F);wn(e,"SID",n.J),wn(e,"RID",t),wn(e,"TYPE","terminate"),em(n,e),(t=new _s(n,n.h,t,void 0)).K=2,t.v=yl(Dc(e)),e=!1,ln.navigator&&ln.navigator.sendBeacon&&(e=ln.navigator.sendBeacon(t.v.toString(),"")),!e&&ln.Image&&((new Image).src=t.v,e=!0),e||(t.g=CS(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Uh(t)}n1(n)}function Xg(n){n.g&&(Bb(n),n.g.cancel(),n.g=null)}function vS(n){Xg(n),n.u&&(ln.clearTimeout(n.u),n.u=null),J_(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ln.clearTimeout(n.m),n.m=null)}function $_(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&qh(n)}function qh(n){Tb(n.i)||n.m||(n.m=!0,tS(n.Ha,n),n.C=0)}function Fb(n,t){var e;e=t?t.m:n.V++;const i=Dc(n.F);wn(i,"SID",n.J),wn(i,"RID",e),wn(i,"AID",n.U),em(n,i),n.o&&n.s&&AS(i,n.o,n.s),e=new _s(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=bS(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Db(n.i,e),G_(e,i,t)}function em(n,t){n.j&&wb({},function(e,i){wn(t,i,e)})}function bS(n,t,e){e=Math.min(n.l.length,e);var i=n.j?Gr(n.j.Oa,n.j,n):null;e:{var r=n.l;let a=-1;for(;;){const h=["count="+e];-1==a?0<e?(a=r[0].h,h.push("ofs="+a)):a=0:h.push("ofs="+a);let f=!0;for(let m=0;m<e;m++){let b=r[m].h;const F=r[m].g;if(b-=a,0>b)a=Math.max(0,r[m].h-100),f=!1;else try{YM(F,h,"req"+b+"_")}catch(K){i&&i(F)}}if(f){i=h.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function wS(n){n.g||n.u||(n.Y=1,tS(n.Ga,n),n.A=0)}function Lb(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=U_(Gr(n.Ga,n),jb(n,n.A)),n.A++,0))}function Bb(n){null!=n.B&&(ln.clearTimeout(n.B),n.B=null)}function Vb(n){n.g=new _s(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=Dc(n.oa);wn(t,"RID","rpc"),wn(t,"SID",n.J),wn(t,"CI",n.N?"0":"1"),wn(t,"AID",n.U),em(n,t),wn(t,"TYPE","xmlhttp"),n.o&&n.s&&AS(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=yl(Dc(t)),e.s=null,e.U=!0,vb(e,n)}function J_(n){null!=n.v&&(ln.clearTimeout(n.v),n.v=null)}function Ub(n,t){var e=null;if(n.g==t){J_(n),Bb(n),n.g=null;var i=2}else{if(!q_(n.i,t))return;e=t.D,kb(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;pr(i=qg(),new mb(i,e,t,r)),qh(n)}else wS(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function(n,t){return!(pS(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=U_(Gr(n.Ha,n,t),jb(n,n.C)),n.C++,0)))}(n,t)||2==i&&Lb(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:kc(n,5);break;case 4:kc(n,10);break;case 3:kc(n,6);break;default:kc(n,2)}}function jb(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function kc(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=Gr(n.jb,n);e||(e=new Ia("//www.google.com/images/cleardot.gif"),ln.location&&"http"==ln.location.protocol||z_(e,"https"),yl(e)),function(n,t){const e=new Wg;if(ln.Image){const i=new Image;i.onload=Fg(Z_,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Fg(Z_,e,i,"TestLoadImage: error",!1,t),i.onabort=Fg(Z_,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Fg(Z_,e,i,"TestLoadImage: timeout",!1,t),ln.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else ys(2);n.G=0,n.j&&n.j.va(t),n1(n),vS(n)}function n1(n){n.G=0,n.I=-1,n.j&&((0!=Mb(n.i).length||0!=n.l.length)&&(n.i.i.length=0,nb(n.l),n.l.length=0),n.j.ua())}function X_(n,t,e){let i=function(n){return n instanceof Ia?Dc(n):new Ia(n,void 0)}(e);if(""!=i.i)t&&Of(i,t+"."+i.i),po(i,i.m);else{const r=ln.location;i=function(n,t,e,i){var r=new Ia(null,void 0);return n&&z_(r,n),t&&Of(r,t),e&&po(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&Bg(n.aa,function(r,a){wn(i,a,r)}),e=n.sa,(t=n.D)&&e&&wn(i,t,e),wn(i,"VER",n.ma),em(n,i),i}function CS(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new tr(e&&n.Ba&&!n.qa?new Uf({ib:!0}):n.qa)).L=n.H,t}function i1(){}function bu(){if(xf&&!(10<=Number(NM)))throw Error("Environmental error: no available transport.")}function mo(n,t){Ai.call(this),this.g=new Wh(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!Lg(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Lg(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Hf(this)}function eA(n){_b.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function tA(){j_.call(this),this.status=1}function Hf(n){this.g=n}(Ut=tr.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():H_.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:H_),this.g.onreadystatechange=Gr(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(a){return void K_(this,a)}n=e||"";const r=new Mf(this.headers);i&&wb(i,function(a,h){r.set(h,a)}),i=function(n){e:{var t=XM;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=ln.FormData&&n instanceof ln.FormData,!(0<=jx(SF,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(a,h){this.g.setRequestHeader(h,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{e1(this),0<this.B&&((this.K=function(n){return xf&&OM()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gr(this.pa,this)):this.A=Gg(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){K_(this,a)}},Ut.pa=function(){void 0!==w_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pr(this,"timeout"),this.abort(8))},Ut.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,pr(this,"complete"),pr(this,"abort"),Pb(this))},Ut.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pb(this,!0)),tr.Z.M.call(this)},Ut.Fa=function(){this.s||(this.F||this.v||this.l?mS(this):this.cb())},Ut.cb=function(){mS(this)},Ut.ba=function(){try{return 2<vu(this)?this.g.status:-1}catch(n){return-1}},Ut.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Ut.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),xF(t)}},Ut.Da=function(){return this.m},Ut.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ut=Wh.prototype).ma=8,Ut.G=1,Ut.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},Ut.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new _s(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=Wx(a),DM(a,this.P)):a=this.P),null===this.o&&(r.H=a),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=bS(this,r,t),wn(e=Dc(this.F),"RID",n),wn(e,"CVER",22),this.D&&wn(e,"X-HTTP-Session-Id",this.D),em(this,e),this.o&&a&&AS(e,this.o,a),Db(this.i,r),this.Ra&&wn(e,"TYPE","init"),this.ja?(wn(e,"$req",t),wn(e,"SID","null"),r.$=!0,G_(r,e,null)):G_(r,e,t),this.G=2}}else 3==this.G&&(n?Fb(this,n):0==this.l.length||Tb(this.i)||Fb(this))},Ut.Ga=function(){if(this.u=null,Vb(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=U_(Gr(this.bb,this),n)}},Ut.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ys(10),Xg(this),Vb(this))},Ut.ab=function(){null!=this.v&&(this.v=null,Xg(this),Lb(this),ys(19))},Ut.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ys(2)):(this.h.info("Failed to ping google.com"),ys(1))},(Ut=i1.prototype).xa=function(){},Ut.wa=function(){},Ut.va=function(){},Ut.ua=function(){},Ut.Oa=function(){},bu.prototype.g=function(n,t){return new mo(n,t)},zr(mo,Ai),mo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),tS(Gr(n.hb,n,t))),ys(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=X_(n,null,n.W),qh(n)},mo.prototype.close=function(){Nb(this.g)},mo.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,$_(this.g,t)}else this.v?((t={}).__data__=cb(n),$_(this.g,t)):$_(this.g,n)},mo.prototype.M=function(){this.g.j=null,delete this.j,Nb(this.g),delete this.g,mo.Z.M.call(this)},zr(eA,_b),zr(tA,j_),zr(Hf,i1),Hf.prototype.xa=function(){pr(this.g,"a")},Hf.prototype.wa=function(n){pr(this.g,new eA(n))},Hf.prototype.va=function(n){pr(this.g,new tA(n))},Hf.prototype.ua=function(){pr(this.g,"b")},bu.prototype.createWebChannel=bu.prototype.g,mo.prototype.send=mo.prototype.u,mo.prototype.open=mo.prototype.m,mo.prototype.close=mo.prototype.close,Yg.NO_ERROR=0,Yg.TIMEOUT=8,Yg.HTTP_ERROR=6,oS.COMPLETE="complete",zM.EventType=Vh,Vh.OPEN="a",Vh.CLOSE="b",Vh.ERROR="c",Vh.MESSAGE="d",Ai.prototype.listen=Ai.prototype.N,tr.prototype.listenOnce=tr.prototype.O,tr.prototype.getLastError=tr.prototype.La,tr.prototype.getLastErrorCode=tr.prototype.Da,tr.prototype.getStatus=tr.prototype.ba,tr.prototype.getResponseJson=tr.prototype.Qa,tr.prototype.getResponseText=tr.prototype.ga,tr.prototype.send=tr.prototype.ea;var Hb=gl.createWebChannelTransport=function(){return new bu},Gb=gl.getStatEventTarget=function(){return qg()},nA=gl.ErrorCode=Yg,IF=gl.EventType=oS,r1=gl.Event=Au,iA=gl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},zb=gl.FetchXmlHttpFactory=Uf,rA=gl.WebChannel=zM,ES=gl.XhrIo=tr;const sA="@firebase/firestore";class gr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}gr.UNAUTHENTICATED=new gr(null),gr.GOOGLE_CREDENTIALS=new gr("google-credentials-uid"),gr.FIRST_PARTY=new gr("first-party-uid"),gr.MOCK_USER=new gr("mock-user");let wu="9.1.3";const vl=new qo.Yd("@firebase/firestore");function oA(){return vl.logLevel}function xt(n,...t){if(vl.logLevel<=qo.in.DEBUG){const e=t.map(aA);vl.debug(`Firestore (${wu}): ${n}`,...e)}}function Li(n,...t){if(vl.logLevel<=qo.in.ERROR){const e=t.map(aA);vl.error(`Firestore (${wu}): ${n}`,...e)}}function Zh(n,...t){if(vl.logLevel<=qo.in.WARN){const e=t.map(aA);vl.warn(`Firestore (${wu}): ${n}`,...e)}}function aA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function qt(n="Unexpected state"){const t=`FIRESTORE (${wu}) INTERNAL ASSERTION FAILED: `+n;throw Li(t),new Error(t)}function sn(n,t){n||qt()}function kt(n,t){return n}const ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class bt extends Error{constructor(t,e){super(e),this.code=t,this.message=e,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class nr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class Wb{constructor(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${t}`}}class SS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(gr.UNAUTHENTICATED))}shutdown(){}}class IS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class TS{constructor(t){this.t=t,this.currentUser=gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const a=b=>this.i!==r?(r=this.i,e(b)):Promise.resolve();let h=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new nr,t.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const b=h;t.enqueueRetryable((0,ft.Z)(function*(){yield b.promise,yield a(i.currentUser)}))},m=b=>{xt("FirebaseCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>m(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?m(b):(xt("FirebaseCredentialsProvider","Auth not yet detected"),h.resolve(),h=new nr)}},0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(xt("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(sn("string"==typeof i.accessToken),new Wb(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return sn(null===t||"string"==typeof t),new gr(t)}}class DS{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=gr.FIRST_PARTY}get authHeaders(){const t={"X-Goog-AuthUser":this.l},e=this.h.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.m&&(t["X-Goog-Iam-Authorization-Token"]=this.m),t}}class kS{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new DS(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(gr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qo{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.g(i),this.p=i=>e.writeSequenceNumber(i))}g(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.p&&this.p(t),t}}function o1(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}Qo.T=-1;class MS{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=o1(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<e&&(i+=t.charAt(r[a]%t.length))}return i}}function Cn(n,t){return n<t?-1:n>t?1:0}function Gf(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function zi(n){return n+"\0"}class ir{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new bt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new bt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new bt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new bt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ir.fromMillis(Date.now())}static fromDate(t){return ir.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new ir(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Cn(this.nanoseconds,t.nanoseconds):Cn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new gn(t)}static min(){return new gn(new ir(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function RS(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Cu(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function OS(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class zf{constructor(t,e,i){void 0===e?e=0:e>t.length&&qt(),void 0===i?i=t.length-e:i>t.length-e&&qt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===zf.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof zf?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const a=t.get(r),h=e.get(r);if(a<h)return-1;if(a>h)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Mn extends zf{construct(t,e,i){return new Mn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new bt(ut.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Mn(e)}static emptyPath(){return new Mn([])}}const Wf=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rr extends zf{construct(t,e,i){return new Rr(t,e,i)}static isValidIdentifier(t){return Wf.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Rr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const a=()=>{if(0===i.length)throw new bt(ut.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let h=!1;for(;r<t.length;){const f=t[r];if("\\"===f){if(r+1===t.length)throw new bt(ut.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[r+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new bt(ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=m,r+=2}else"`"===f?(h=!h,r++):"."!==f||h?(i+=f,r++):(a(),r++)}if(a(),h)throw new bt(ut.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Rr(e)}static emptyPath(){return new Rr([])}}class qf{constructor(t){this.fields=t,t.sort(Rr.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Gf(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class mr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new mr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(t);return new mr(e)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Cn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}mr.EMPTY_BYTE_STRING=new mr("");const NS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yh(n){if(sn(!!n),"string"==typeof n){let t=0;const e=NS.exec(n);if(sn(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ki(n.seconds),nanos:ki(n.nanos)}}function ki(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Eu(n){return"string"==typeof n?mr.fromBase64String(n):mr.fromUint8Array(n)}function $o(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function FS(n){const t=n.mapValue.fields.__previous_value__;return $o(t)?FS(t):t}function tm(n){const t=Yh(n.mapValue.fields.__local_write_time__.timestampValue);return new ir(t.seconds,t.nanos)}function qr(n){return null==n}function Hs(n){return 0===n&&1/n==-1/0}function Jo(n){return"number"==typeof n&&Number.isInteger(n)&&!Hs(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class jt{constructor(t){this.path=t}static fromPath(t){return new jt(Mn.fromString(t))}static fromName(t){return new jt(Mn.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===Mn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Mn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new jt(new Mn(t.slice()))}}function xu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$o(n)?4:10:qt()}function bl(n,t){const e=xu(n);if(e!==xu(t))return!1;switch(e){case 0:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return tm(n).isEqual(tm(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=Yh(i.timestampValue),h=Yh(r.timestampValue);return a.seconds===h.seconds&&a.nanos===h.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Eu(n.bytesValue).isEqual(Eu(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return ki(i.geoPointValue.latitude)===ki(r.geoPointValue.latitude)&&ki(i.geoPointValue.longitude)===ki(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return ki(i.integerValue)===ki(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=ki(i.doubleValue),h=ki(r.doubleValue);return a===h?Hs(a)===Hs(h):isNaN(a)&&isNaN(h)}return!1}(n,t);case 9:return Gf(n.arrayValue.values||[],t.arrayValue.values||[],bl);case 10:return function(i,r){const a=i.mapValue.fields||{},h=r.mapValue.fields||{};if(RS(a)!==RS(h))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===h[f]||!bl(a[f],h[f])))return!1;return!0}(n,t);default:return qt()}var r}function nm(n,t){return void 0!==(n.values||[]).find(e=>bl(e,t))}function Zf(n,t){const e=xu(n),i=xu(t);if(e!==i)return Cn(e,i);switch(e){case 0:return 0;case 1:return Cn(n.booleanValue,t.booleanValue);case 2:return function(r,a){const h=ki(r.integerValue||r.doubleValue),f=ki(a.integerValue||a.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,t);case 3:return LS(n.timestampValue,t.timestampValue);case 4:return LS(tm(n),tm(t));case 5:return Cn(n.stringValue,t.stringValue);case 6:return function(r,a){const h=Eu(r),f=Eu(a);return h.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(r,a){const h=r.split("/"),f=a.split("/");for(let m=0;m<h.length&&m<f.length;m++){const b=Cn(h[m],f[m]);if(0!==b)return b}return Cn(h.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,a){const h=Cn(ki(r.latitude),ki(a.latitude));return 0!==h?h:Cn(ki(r.longitude),ki(a.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,a){const h=r.values||[],f=a.values||[];for(let m=0;m<h.length&&m<f.length;++m){const b=Zf(h[m],f[m]);if(b)return b}return Cn(h.length,f.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,a){const h=r.fields||{},f=Object.keys(h),m=a.fields||{},b=Object.keys(m);f.sort(),b.sort();for(let F=0;F<f.length&&F<b.length;++F){const K=Cn(f[F],b[F]);if(0!==K)return K;const we=Zf(h[f[F]],m[b[F]]);if(0!==we)return we}return Cn(f.length,b.length)}(n.mapValue,t.mapValue);default:throw qt()}}function LS(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Cn(n,t);const e=Yh(n),i=Yh(t),r=Cn(e.seconds,i.seconds);return 0!==r?r:Cn(e.nanos,i.nanos)}function im(n){return Kh(n)}function Kh(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Yh(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Eu(n.bytesValue).toBase64():"referenceValue"in n?jt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const h of i.values||[])a?a=!1:r+=",",r+=Kh(h);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",h=!0;for(const f of r)h?h=!1:a+=",",a+=`${f}:${Kh(i.fields[f])}`;return a+"}"}(n.mapValue):qt();var t}function lA(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function cA(n){return!!n&&"integerValue"in n}function qb(n){return!!n&&"arrayValue"in n}function Zb(n){return!!n&&"nullValue"in n}function Yb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qh(n){return!!n&&"mapValue"in n}function rm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Cu(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=rm(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=rm(n.arrayValue.values[e]);return t}return Object.assign({},n)}class Or{constructor(t){this.value=t}static empty(){return new Or({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Qh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=rm(e)}setAll(t){let e=Rr.emptyPath(),i={},r=[];t.forEach((h,f)=>{if(!e.isImmediateParentOf(f)){const m=this.getFieldsMap(e);this.applyChanges(m,i,r),i={},r=[],e=f.popLast()}h?i[f.lastSegment()]=rm(h):r.push(f.lastSegment())});const a=this.getFieldsMap(e);this.applyChanges(a,i,r)}delete(t){const e=this.field(t.popLast());Qh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return bl(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Qh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Cu(e,(r,a)=>t[r]=a);for(const r of i)delete t[r]}clone(){return new Or(rm(this.value))}}function Kb(n){const t=[];return Cu(n.fields,(e,i)=>{const r=new Rr([e]);if(Qh(i)){const a=Kb(i.mapValue).fields;if(0===a.length)t.push(r);else for(const h of a)t.push(r.child(h))}else t.push(r)}),new qf(t)}class Jn{constructor(t,e,i,r,a){this.key=t,this.documentType=e,this.version=i,this.data=r,this.documentState=a}static newInvalidDocument(t){return new Jn(t,0,gn.min(),Or.empty(),0)}static newFoundDocument(t,e,i){return new Jn(t,1,e,i,0)}static newNoDocument(t,e){return new Jn(t,2,e,Or.empty(),0)}static newUnknownDocument(t,e){return new Jn(t,3,e,Or.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Or.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Jn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}clone(){return new Jn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uA{constructor(t,e=null,i=[],r=[],a=null,h=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=h,this.endAt=f,this.A=null}}function hA(n,t=null,e=[],i=[],r=null,a=null,h=null){return new uA(n,t,e,i,r,a,h)}function Yf(n){const t=kt(n);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>function(n){return n.field.canonicalString()+n.op.toString()+im(n.value)}(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),qr(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=dA(t.startAt)),t.endAt&&(e+="|ub:",e+=dA(t.endAt)),t.A=e}return t.A}function sm(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!d1(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!bl(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!zS(n.startAt,t.startAt)&&zS(n.endAt,t.endAt)}function om(n){return jt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Zr extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.R(t,e,i):new US(t,e,i):"array-contains"===e?new l1(t,i):"in"===e?new c1(t,i):"not-in"===e?new u1(t,i):"array-contains-any"===e?new h1(t,i):new Zr(t,e,i)}static R(t,e,i){return"in"===e?new jS(t,i):new a1(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.P(Zf(e,this.value)):null!==e&&xu(this.value)===xu(e)&&this.P(Zf(e,this.value))}P(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return qt()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class US extends Zr{constructor(t,e,i){super(t,e,i),this.key=jt.fromName(i.referenceValue)}matches(t){const e=jt.comparator(t.key,this.key);return this.P(e)}}class jS extends Zr{constructor(t,e){super(t,"in",e),this.keys=HS(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class a1 extends Zr{constructor(t,e){super(t,"not-in",e),this.keys=HS(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function HS(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>jt.fromName(i.referenceValue))}class l1 extends Zr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return qb(e)&&nm(e.arrayValue,this.value)}}class c1 extends Zr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&nm(this.value.arrayValue,e)}}class u1 extends Zr{constructor(t,e){super(t,"not-in",e)}matches(t){if(nm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!nm(this.value.arrayValue,e)}}class h1 extends Zr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!qb(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>nm(this.value.arrayValue,i))}}class am{constructor(t,e){this.position=t,this.before=e}}function dA(n){return`${n.before?"b":"a"}:${n.position.map(t=>im(t)).join(",")}`}class Kf{constructor(t,e="asc"){this.field=t,this.dir=e}}function d1(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function GS(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const a=t[r],h=n.position[r];if(i=a.field.isKeyField()?jt.comparator(jt.fromName(h.referenceValue),e.key):Zf(h,e.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return n.before?i<=0:i<0}function zS(n,t){if(null===n)return null===t;if(null===t||n.before!==t.before||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!bl(n.position[e],t.position[e]))return!1;return!0}class Mc{constructor(t,e=null,i=[],r=[],a=null,h="F",f=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=h,this.startAt=f,this.endAt=m,this.V=null,this.S=null}}function WS(n,t,e,i,r,a,h,f){return new Mc(n,t,e,i,r,a,h,f)}function Qf(n){return new Mc(n)}function fA(n){return!qr(n.limit)&&"F"===n.limitType}function pA(n){return!qr(n.limit)&&"L"===n.limitType}function gA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function mA(n){for(const t of n.filters)if(t.v())return t.field;return null}function yA(n){return null!==n.collectionGroup}function $h(n){const t=kt(n);if(null===t.V){t.V=[];const e=mA(t),i=gA(t);if(null!==e&&null===i)e.isKeyField()||t.V.push(new Kf(e)),t.V.push(new Kf(Rr.keyField(),"asc"));else{let r=!1;for(const a of t.explicitOrderBy)t.V.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new Kf(Rr.keyField(),a))}}}return t.V}function yo(n){const t=kt(n);if(!t.S)if("F"===t.limitType)t.S=hA(t.path,t.collectionGroup,$h(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const a of $h(t))e.push(new Kf(a.field,"desc"===a.dir?"asc":"desc"));const i=t.endAt?new am(t.endAt.position,!t.endAt.before):null,r=t.startAt?new am(t.startAt.position,!t.startAt.before):null;t.S=hA(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.S}function Qb(n,t,e){return new Mc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function $f(n,t){return sm(yo(n),yo(t))&&n.limitType===t.limitType}function $b(n){return`${Yf(yo(n))}|lt:${n.limitType}`}function _A(n){return`Query(target=${function(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${im(i.value)}`;var i}).join(", ")}]`),qr(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: "+dA(n.startAt)),n.endAt&&(t+=", endAt: "+dA(n.endAt)),`Target(${t})`}(yo(n))}; limitType=${n.limitType})`}function Jh(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):jt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!GS(e.startAt,$h(e),i)||e.endAt&&GS(e.endAt,$h(e),i)));var e,i}function Jb(n){return(t,e)=>{let i=!1;for(const r of $h(n)){const a=Xh(r,t,e);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function Xh(n,t,e){const i=n.field.isKeyField()?jt.comparator(t.key,e.key):function(r,a,h){const f=a.data.field(r),m=h.data.field(r);return null!==f&&null!==m?Zf(f,m):qt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return qt()}}function qS(n,t){if(n.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hs(t)?"-0":t}}function ZS(n){return{integerValue:""+n}}function ed(n,t){return Jo(t)?ZS(t):qS(n,t)}class Xb{constructor(){this._=void 0}}function ew(n,t,e){return n instanceof td?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(e,t):n instanceof Jf?Qt(n,t):n instanceof nd?YS(n,t):function(i,r){const a=tw(i,r),h=lm(a)+lm(i.C);return cA(a)&&cA(i.C)?ZS(h):qS(i.N,h)}(n,t)}function TF(n,t,e){return n instanceof Jf?Qt(n,t):n instanceof nd?YS(n,t):e}function tw(n,t){return n instanceof Xf?cA(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class td extends Xb{}class Jf extends Xb{constructor(t){super(),this.elements=t}}function Qt(n,t){const e=KS(t);for(const i of n.elements)e.some(r=>bl(r,i))||e.push(i);return{arrayValue:{values:e}}}class nd extends Xb{constructor(t){super(),this.elements=t}}function YS(n,t){let e=KS(t);for(const i of n.elements)e=e.filter(r=>!bl(r,i));return{arrayValue:{values:e}}}class Xf extends Xb{constructor(t,e){super(),this.N=t,this.C=e}}function lm(n){return ki(n.integerValue||n.doubleValue)}function KS(n){return qb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Su{constructor(t,e){this.field=t,this.transform=e}}class Mi{constructor(t,e){this.version=t,this.transformResults=e}}class rr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new rr}static exists(t){return new rr(void 0,t)}static updateTime(t){return new rr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function cm(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class ep{}function f1(n,t,e){n instanceof um?function(i,r,a){const h=i.value.clone(),f=tp(i.fieldTransforms,r,a.transformResults);h.setAll(f),r.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(n,t,e):n instanceof Iu?function(i,r,a){if(!cm(i.precondition,r))return void r.convertToUnknownDocument(a.version);const h=tp(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll($S(i)),f.setAll(h),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function vA(n,t,e){var r;n instanceof um?function(i,r,a){if(!cm(i.precondition,r))return;const h=i.value.clone(),f=JS(i.fieldTransforms,a,r);h.setAll(f),r.convertToFoundDocument(iw(r),h).setHasLocalMutations()}(n,t,e):n instanceof Iu?function(i,r,a){if(!cm(i.precondition,r))return;const h=JS(i.fieldTransforms,a,r),f=r.data;f.setAll($S(i)),f.setAll(h),r.convertToFoundDocument(iw(r),f).setHasLocalMutations()}(n,t,e):cm(n.precondition,r=t)&&r.convertToNoDocument(gn.min())}function QS(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),a=tw(i.transform,r||null);null!=a&&(null==e&&(e=Or.empty()),e.set(i.field,a))}return e||null}function nw(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Gf(e,i,(r,a)=>function(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Jf&&i instanceof Jf||e instanceof nd&&i instanceof nd?Gf(e.elements,i.elements,bl):e instanceof Xf&&i instanceof Xf?bl(e.C,i.C):e instanceof td&&i instanceof td);var e,i}(r,a))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function iw(n){return n.isFoundDocument()?n.version:gn.min()}class um extends ep{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}}class Iu extends ep{constructor(t,e,i,r,a=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}}function $S(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function tp(n,t,e){const i=new Map;sn(n.length===e.length);for(let r=0;r<e.length;r++){const a=n[r],h=a.transform,f=t.data.field(a.field);i.set(a.field,TF(h,f,e[r]))}return i}function JS(n,t,e){const i=new Map;for(const r of n){const a=r.transform,h=e.data.field(r.field);i.set(r.field,ew(a,h,t))}return i}class hm extends ep{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class rw extends ep{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class bA{constructor(t){this.count=t}}var Bi,In;function sw(n){switch(n){default:return qt();case ut.CANCELLED:case ut.UNKNOWN:case ut.DEADLINE_EXCEEDED:case ut.RESOURCE_EXHAUSTED:case ut.INTERNAL:case ut.UNAVAILABLE:case ut.UNAUTHENTICATED:return!1;case ut.INVALID_ARGUMENT:case ut.NOT_FOUND:case ut.ALREADY_EXISTS:case ut.PERMISSION_DENIED:case ut.FAILED_PRECONDITION:case ut.ABORTED:case ut.OUT_OF_RANGE:case ut.UNIMPLEMENTED:case ut.DATA_LOSS:return!0}}function XS(n){if(void 0===n)return Li("GRPC error has no .code"),ut.UNKNOWN;switch(n){case Bi.OK:return ut.OK;case Bi.CANCELLED:return ut.CANCELLED;case Bi.UNKNOWN:return ut.UNKNOWN;case Bi.DEADLINE_EXCEEDED:return ut.DEADLINE_EXCEEDED;case Bi.RESOURCE_EXHAUSTED:return ut.RESOURCE_EXHAUSTED;case Bi.INTERNAL:return ut.INTERNAL;case Bi.UNAVAILABLE:return ut.UNAVAILABLE;case Bi.UNAUTHENTICATED:return ut.UNAUTHENTICATED;case Bi.INVALID_ARGUMENT:return ut.INVALID_ARGUMENT;case Bi.NOT_FOUND:return ut.NOT_FOUND;case Bi.ALREADY_EXISTS:return ut.ALREADY_EXISTS;case Bi.PERMISSION_DENIED:return ut.PERMISSION_DENIED;case Bi.FAILED_PRECONDITION:return ut.FAILED_PRECONDITION;case Bi.ABORTED:return ut.ABORTED;case Bi.OUT_OF_RANGE:return ut.OUT_OF_RANGE;case Bi.UNIMPLEMENTED:return ut.UNIMPLEMENTED;case Bi.DATA_LOSS:return ut.DATA_LOSS;default:return qt()}}(In=Bi||(Bi={}))[In.OK=0]="OK",In[In.CANCELLED=1]="CANCELLED",In[In.UNKNOWN=2]="UNKNOWN",In[In.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",In[In.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",In[In.NOT_FOUND=5]="NOT_FOUND",In[In.ALREADY_EXISTS=6]="ALREADY_EXISTS",In[In.PERMISSION_DENIED=7]="PERMISSION_DENIED",In[In.UNAUTHENTICATED=16]="UNAUTHENTICATED",In[In.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",In[In.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",In[In.ABORTED=10]="ABORTED",In[In.OUT_OF_RANGE=11]="OUT_OF_RANGE",In[In.UNIMPLEMENTED=12]="UNIMPLEMENTED",In[In.INTERNAL=13]="INTERNAL",In[In.UNAVAILABLE=14]="UNAVAILABLE",In[In.DATA_LOSS=15]="DATA_LOSS";class vi{constructor(t,e){this.comparator=t,this.root=e||Pr.EMPTY}insert(t,e){return new vi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Pr.BLACK,null,null))}remove(t){return new vi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Pr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Tu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Tu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Tu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Tu(this.root,t,this.comparator,!0)}}class Tu{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,r&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Pr{constructor(t,e,i,r,a){this.key=t,this.value=e,this.color=null!=i?i:Pr.RED,this.left=null!=r?r:Pr.EMPTY,this.right=null!=a?a:Pr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,a){return new Pr(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const a=i(t,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===a?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Pr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Pr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Pr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Pr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qt();const t=this.left.check();if(t!==this.right.check())throw qt();return t+(this.isRed()?0:1)}}Pr.EMPTY=null,Pr.RED=!0,Pr.BLACK=!1,Pr.EMPTY=new class{constructor(){this.size=0}get key(){throw qt()}get value(){throw qt()}get color(){throw qt()}get left(){throw qt()}get right(){throw qt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Pr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ri{constructor(t){this.comparator=t,this.data=new vi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new eI(this.data.getIterator())}getIteratorFrom(t){return new eI(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Ri)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ri(this.comparator);return e.data=t,e}}class eI{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const tI=new vi(jt.comparator);function _o(){return tI}const nI=new vi(jt.comparator);function ow(){return nI}const iI=new vi(jt.comparator);function rI(){return iI}const p1=new Ri(jt.comparator);function Gn(...n){let t=p1;for(const e of n)t=t.add(e);return t}const DF=new Ri(Cn);function aw(){return DF}class wA{constructor(t,e,i,r,a){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,np.createSynthesizedTargetChangeForCurrentChange(t,e)),new wA(gn.min(),i,aw(),_o(),Gn())}}class np{constructor(t,e,i,r,a){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,e){return new np(mr.EMPTY_BYTE_STRING,e,Gn(),Gn(),Gn())}}class id{constructor(t,e,i,r){this.k=t,this.removedTargetIds=e,this.key=i,this.$=r}}class sI{constructor(t,e){this.targetId=t,this.O=e}}class oI{constructor(t,e,i=mr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class lw{constructor(){this.F=0,this.M=lI(),this.L=mr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(t){t.approximateByteSize()>0&&(this.U=!0,this.L=t)}W(){let t=Gn(),e=Gn(),i=Gn();return this.M.forEach((r,a)=>{switch(a){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:qt()}}),new np(this.L,this.B,t,e,i)}G(){this.U=!1,this.M=lI()}H(t,e){this.U=!0,this.M=this.M.insert(t,e)}J(t){this.U=!0,this.M=this.M.remove(t)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class dm{constructor(t){this.tt=t,this.et=new Map,this.nt=_o(),this.st=aI(),this.it=new Ri(Cn)}rt(t){for(const e of t.k)t.$&&t.$.isFoundDocument()?this.ot(e,t.$):this.at(e,t.key,t.$);for(const e of t.removedTargetIds)this.at(e,t.key,t.$)}ct(t){this.forEachTarget(t,e=>{const i=this.ut(e);switch(t.state){case 0:this.ht(e)&&i.j(t.resumeToken);break;case 1:i.X(),i.q||i.G(),i.j(t.resumeToken);break;case 2:i.X(),i.q||this.removeTarget(e);break;case 3:this.ht(e)&&(i.Z(),i.j(t.resumeToken));break;case 4:this.ht(e)&&(this.lt(e),i.j(t.resumeToken));break;default:qt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.et.forEach((i,r)=>{this.ht(r)&&e(r)})}ft(t){const e=t.targetId,i=t.O.count,r=this.dt(e);if(r){const a=r.target;if(om(a))if(0===i){const h=new jt(a.path);this.at(e,h,Jn.newNoDocument(h,gn.min()))}else sn(1===i);else this.wt(e)!==i&&(this.lt(e),this.it=this.it.add(e))}}_t(t){const e=new Map;this.et.forEach((a,h)=>{const f=this.dt(h);if(f){if(a.current&&om(f.target)){const m=new jt(f.target.path);null!==this.nt.get(m)||this.gt(h,m)||this.at(h,m,Jn.newNoDocument(m,t))}a.K&&(e.set(h,a.W()),a.G())}});let i=Gn();this.st.forEach((a,h)=>{let f=!0;h.forEachWhile(m=>{const b=this.dt(m);return!b||2===b.purpose||(f=!1,!1)}),f&&(i=i.add(a))});const r=new wA(t,e,this.it,this.nt,i);return this.nt=_o(),this.st=aI(),this.it=new Ri(Cn),r}ot(t,e){if(!this.ht(t))return;const i=this.gt(t,e.key)?2:0;this.ut(t).H(e.key,i),this.nt=this.nt.insert(e.key,e),this.st=this.st.insert(e.key,this.yt(e.key).add(t))}at(t,e,i){if(!this.ht(t))return;const r=this.ut(t);this.gt(t,e)?r.H(e,1):r.J(e),this.st=this.st.insert(e,this.yt(e).delete(t)),i&&(this.nt=this.nt.insert(e,i))}removeTarget(t){this.et.delete(t)}wt(t){const e=this.ut(t).W();return this.tt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Y(t){this.ut(t).Y()}ut(t){let e=this.et.get(t);return e||(e=new lw,this.et.set(t,e)),e}yt(t){let e=this.st.get(t);return e||(e=new Ri(Cn),this.st=this.st.insert(t,e)),e}ht(t){const e=null!==this.dt(t);return e||xt("WatchChangeAggregator","Detected inactive target",t),e}dt(t){const e=this.et.get(t);return e&&e.q?null:this.tt.Tt(t)}lt(t){this.et.set(t,new lw),this.tt.getRemoteKeysForTarget(t).forEach(e=>{this.at(t,e,null)})}gt(t,e){return this.tt.getRemoteKeysForTarget(t).has(e)}}function aI(){return new vi(jt.comparator)}function lI(){return new vi(jt.comparator)}const g1={asc:"ASCENDING",desc:"DESCENDING"},m1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class y1{constructor(t,e){this.databaseId=t,this.D=e}}function ip(n,t){return n.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function cI(n,t){return n.D?t.toBase64():t.toUint8Array()}function _1(n,t){return ip(n,t.toTimestamp())}function bi(n){return sn(!!n),gn.fromTimestamp(function(t){const e=Yh(t);return new ir(e.seconds,e.nanos)}(n))}function cw(n,t){return(e=n,new Mn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function uw(n){const t=Mn.fromString(n);return sn(mw(t)),t}function fm(n,t){return cw(n.databaseId,t.path)}function Ta(n,t){const e=uw(t);if(e.get(1)!==n.databaseId.projectId)throw new bt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new bt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new jt(CA(e))}function hw(n,t){return cw(n.databaseId,t)}function dw(n){const t=uw(n);return 4===t.length?Mn.emptyPath():CA(t)}function pm(n){return new Mn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function CA(n){return sn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function uI(n,t,e){return{name:fm(n,t),fields:e.value.mapValue.fields}}function fw(n,t,e){const i=Ta(n,t.name),r=bi(t.updateTime),a=new Or({mapValue:{fields:t.fields}}),h=Jn.newFoundDocument(i,r,a);return e&&h.setHasCommittedMutations(),e?h.setHasCommittedMutations():h}function EA(n,t){let e;if(t instanceof um)e={update:uI(n,t.key,t.value)};else if(t instanceof hm)e={delete:fm(n,t.key)};else if(t instanceof Iu)e={update:uI(n,t.key,t.data),updateMask:E1(t.fieldMask)};else{if(!(t instanceof rw))return qt();e={verify:fm(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,a){const h=a.transform;if(h instanceof td)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Jf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof nd)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Xf)return{fieldPath:a.field.canonicalString(),increment:h.C};throw qt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:_1(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:qt()),e;var r}function dI(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?rr.updateTime(bi(r.updateTime)):void 0!==r.exists?rr.exists(r.exists):rr.none():rr.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(a,h){let f=null;"setToServerValue"in h?(sn("REQUEST_TIME"===h.setToServerValue),f=new td):"appendMissingElements"in h?f=new Jf(h.appendMissingElements.values||[]):"removeAllFromArray"in h?f=new nd(h.removeAllFromArray.values||[]):"increment"in h?f=new Xf(a,h.increment):qt();const m=Rr.fromServerFormat(h.fieldPath);return new Su(m,f)}(n,r)):[];var r;if(t.update){const r=Ta(n,t.update.name),a=new Or({mapValue:{fields:t.update.fields}});if(t.updateMask){const h=new qf((t.updateMask.fieldPaths||[]).map(b=>Rr.fromServerFormat(b)));return new Iu(r,a,h,e,i)}return new um(r,a,e,i)}if(t.delete){const r=Ta(n,t.delete);return new hm(r,e)}if(t.verify){const r=Ta(n,t.verify);return new rw(r,e)}return qt()}function fI(n,t){return{documents:[hw(n,t.path)]}}function gw(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=hw(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=hw(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(f){if(0===f.length)return;const m=f.map(b=>function(F){if("=="===F.op){if(Yb(F.value))return{unaryFilter:{field:rp(F.field),op:"IS_NAN"}};if(Zb(F.value))return{unaryFilter:{field:rp(F.field),op:"IS_NULL"}}}else if("!="===F.op){if(Yb(F.value))return{unaryFilter:{field:rp(F.field),op:"IS_NOT_NAN"}};if(Zb(F.value))return{unaryFilter:{field:rp(F.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rp(F.field),op:w1(F.op),value:F.value}}}(b));return 1===m.length?m[0]:{compositeFilter:{op:"AND",filters:m}}}(t.filters);r&&(e.structuredQuery.where=r);const a=function(f){if(0!==f.length)return f.map(m=>{return{field:rp((b=m).field),direction:b1(b.dir)};var b})}(t.orderBy);a&&(e.structuredQuery.orderBy=a);const h=(m=t.limit,n.D||qr(m)?m:{value:m});var m;return null!==h&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=mI(t.startAt)),t.endAt&&(e.structuredQuery.endAt=mI(t.endAt)),e}function pI(n){let t=dw(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){sn(1===i);const F=e.from[0];F.allDescendants?r=F.collectionId:t=t.child(F.collectionId)}let a=[];e.where&&(a=gI(e.where));let h=[];e.orderBy&&(h=e.orderBy.map(F=>{return new Kf(rd((K=F).field),function(we){switch(we){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(K.direction));var K}));let f=null;e.limit&&(f=function(F){let K;return K="object"==typeof F?F.value:F,qr(K)?null:K}(e.limit));let m=null;e.startAt&&(m=yI(e.startAt));let b=null;return e.endAt&&(b=yI(e.endAt)),WS(t,r,h,a,f,"F",m,b)}function gI(n){return n?void 0!==n.unaryFilter?[C1(n)]:void 0!==n.fieldFilter?[_I(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>gI(t)).reduce((t,e)=>t.concat(e)):qt():[]}function mI(n){return{before:n.before,values:n.position}}function yI(n){return new am(n.values||[],!!n.before)}function b1(n){return g1[n]}function w1(n){return m1[n]}function rp(n){return{fieldPath:n.canonicalString()}}function rd(n){return Rr.fromServerFormat(n.fieldPath)}function _I(n){return Zr.create(rd(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qt()}}(n.fieldFilter.op),n.fieldFilter.value)}function C1(n){switch(n.unaryFilter.op){case"IS_NAN":const t=rd(n.unaryFilter.field);return Zr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=rd(n.unaryFilter.field);return Zr.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=rd(n.unaryFilter.field);return Zr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=rd(n.unaryFilter.field);return Zr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return qt()}}function E1(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function mw(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Da(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=AI(t)),t=x1(n.get(e),t);return AI(t)}function x1(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=a}}return e}function AI(n){return n+"\x01\x01"}function ka(n){const t=n.length;if(sn(t>=2),2===t)return sn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Mn.emptyPath();const e=t-2,i=[];let r="";for(let a=0;a<t;){const h=n.indexOf("\x01",a);switch((h<0||h>e)&&qt(),n.charAt(h+1)){case"\x01":const f=n.substring(a,h);let m;0===r.length?m=f:(r+=f,m=r,r=""),i.push(m);break;case"\x10":r+=n.substring(a,h),r+="\0";break;case"\x11":r+=n.substring(a,h+1);break;default:qt()}a=h+2}return new Mn(i)}class yw{constructor(t,e){this.seconds=t,this.nanoseconds=e}}class Gs{constructor(t,e,i){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=i}}Gs.store="owner",Gs.key="owner";class wl{constructor(t,e,i){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=i}}wl.store="mutationQueues",wl.keyPath="userId";class ri{constructor(t,e,i,r,a){this.userId=t,this.batchId=e,this.localWriteTimeMs=i,this.baseMutations=r,this.mutations=a}}ri.store="mutations",ri.keyPath="batchId",ri.userMutationsIndex="userMutationsIndex",ri.userMutationsKeyPath=["userId","batchId"];class Yr{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,Da(e)]}static key(t,e,i){return[t,Da(e),i]}}Yr.store="documentMutations",Yr.PLACEHOLDER=new Yr;class _w{constructor(t,e){this.path=t,this.readTime=e}}class S1{constructor(t,e){this.path=t,this.version=e}}class wi{constructor(t,e,i,r,a,h){this.unknownDocument=t,this.noDocument=e,this.document=i,this.hasCommittedMutations=r,this.readTime=a,this.parentPath=h}}wi.store="remoteDocuments",wi.readTimeIndex="readTimeIndex",wi.readTimeIndexPath="readTime",wi.collectionReadTimeIndex="collectionReadTimeIndex",wi.collectionReadTimeIndexPath=["parentPath","readTime"];class Cl{constructor(t){this.byteSize=t}}Cl.store="remoteDocumentGlobal",Cl.key="remoteDocumentGlobalKey";class As{constructor(t,e,i,r,a,h,f){this.targetId=t,this.canonicalId=e,this.readTime=i,this.resumeToken=r,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=h,this.query=f}}As.store="targets",As.keyPath="targetId",As.queryTargetsIndexName="queryTargetsIndex",As.queryTargetsKeyPath=["canonicalId","targetId"];class yr{constructor(t,e,i){this.targetId=t,this.path=e,this.sequenceNumber=i}}yr.store="targetDocuments",yr.keyPath=["targetId","path"],yr.documentTargetsIndex="documentTargetsIndex",yr.documentTargetsKeyPath=["path","targetId"];class zs{constructor(t,e,i,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=i,this.targetCount=r}}zs.key="targetGlobalKey",zs.store="targetGlobal";class sp{constructor(t,e){this.collectionId=t,this.parent=e}}sp.store="collectionParents",sp.keyPath=["collectionId","parent"];class Rc{constructor(t,e,i,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=i,this.inForeground=r}}Rc.store="clientMetadata",Rc.keyPath="clientId";class Ma{constructor(t,e,i){this.bundleId=t,this.createTime=e,this.version=i}}Ma.store="bundles",Ma.keyPath="bundleId";class gm{constructor(t,e,i){this.name=t,this.readTime=e,this.bundledQuery=i}}gm.store="namedQueries",gm.keyPath="name";const Aw=[wl.store,ri.store,Yr.store,wi.store,As.store,Gs.store,zs.store,yr.store,Rc.store,Cl.store,sp.store,Ma.store,gm.store],mm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class _t{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&qt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new _t((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(e,a).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof _t?e:_t.resolve(e)}catch(e){return _t.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):_t.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):_t.reject(e)}static resolve(t){return new _t((e,i)=>{e(t)})}static reject(t){return new _t((e,i)=>{i(t)})}static waitFor(t){return new _t((e,i)=>{let r=0,a=0,h=!1;t.forEach(f=>{++r,f.next(()=>{++a,h&&a===r&&e()},m=>i(m))}),h=!0,a===r&&e()})}static or(t){let e=_t.resolve(!1);for(const i of t)e=e.next(r=>r?_t.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,a)=>{i.push(e.call(this,r,a))}),this.waitFor(i)}}class xA{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.Et=new nr,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{e.error?this.Et.reject(new Ws(t,e.error)):this.Et.resolve()},this.transaction.onerror=i=>{const r=vw(i.target.error);this.Et.reject(new Ws(t,r))}}static open(t,e,i,r){try{return new xA(e,t.transaction(r,i))}catch(a){throw new Ws(e,a)}}get It(){return this.Et.promise}abort(t){t&&this.Et.reject(t),this.aborted||(xt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(t){const e=this.transaction.objectStore(t);return new kF(e)}}class El{constructor(t,e,i){this.name=t,this.version=e,this.At=i,12.2===El.Rt((0,Pe.z$)())&&Li("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return xt("SimpleDb","Removing database:",t),xl(window.indexedDB.deleteDatabase(t)).toPromise()}static bt(){if(!(0,Pe.hl)())return!1;if(El.Pt())return!0;const t=(0,Pe.z$)(),e=El.Rt(t),i=0<e&&e<10,r=El.vt(t),a=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||a)}static Pt(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Vt)}static St(t,e){return t.store(e)}static Rt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static vt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Dt(t){var e=this;return(0,ft.Z)(function*(){return e.db||(xt("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const a=indexedDB.open(e.name,e.version);a.onsuccess=h=>{i(h.target.result)},a.onblocked=()=>{r(new Ws(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=h=>{const f=h.target.error;r("VersionError"===f.name?new bt(ut.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new bt(ut.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Ws(t,f))},a.onupgradeneeded=h=>{xt("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',h.oldVersion),e.At.Ct(h.target.result,a.transaction,h.oldVersion,e.version).next(()=>{xt("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Nt&&(e.db.onversionchange=i=>e.Nt(i)),e.db})()}xt(t){this.Nt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var a=this;return(0,ft.Z)(function*(){const h="readonly"===e;let f=0;for(;;){++f;try{a.db=yield a.Dt(t);const m=xA.open(a.db,t,h?"readonly":"readwrite",i),b=r(m).catch(F=>(m.abort(F),_t.reject(F))).toPromise();return b.catch(()=>{}),yield m.It,b}catch(m){const b="FirebaseError"!==m.name&&f<3;if(xt("SimpleDb","Transaction failed with error:",m.message,"Retrying:",b),a.close(),!b)return Promise.reject(m)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class I1{constructor(t){this.kt=t,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(t){this.kt=t}done(){this.$t=!0}Mt(t){this.Ot=t}delete(){return xl(this.kt.delete())}}class Ws extends bt{constructor(t,e){super(ut.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Du(n){return"IndexedDbTransactionError"===n.name}class kF{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(xt("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(xt("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),xl(i)}add(t){return xt("SimpleDb","ADD",this.store.name,t,t),xl(this.store.add(t))}get(t){return xl(this.store.get(t)).next(e=>(void 0===e&&(e=null),xt("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return xt("SimpleDb","DELETE",this.store.name,t),xl(this.store.delete(t))}count(){return xt("SimpleDb","COUNT",this.store.name),xl(this.store.count())}Lt(t,e){const i=this.cursor(this.options(t,e)),r=[];return this.Bt(i,(a,h)=>{r.push(h)}).next(()=>r)}Ut(t,e){xt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.qt=!1;const r=this.cursor(i);return this.Bt(r,(a,h,f)=>f.delete())}Kt(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.Bt(r,e)}jt(t){const e=this.cursor({});return new _t((i,r)=>{e.onerror=a=>{const h=vw(a.target.error);r(h)},e.onsuccess=a=>{const h=a.target.result;h?t(h.primaryKey,h.value).next(f=>{f?h.continue():i()}):i()}})}Bt(t,e){const i=[];return new _t((r,a)=>{t.onerror=h=>{a(h.target.error)},t.onsuccess=h=>{const f=h.target.result;if(!f)return void r();const m=new I1(f),b=e(f.primaryKey,f.value,m);if(b instanceof _t){const F=b.catch(K=>(m.done(),_t.reject(K)));i.push(F)}m.isDone?r():null===m.Ft?f.continue():f.continue(m.Ft)}}).next(()=>_t.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.qt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function xl(n){return new _t((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=vw(i.target.error);e(r)}})}let bI=!1;function vw(n){const t=El.Rt((0,Pe.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new bt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return bI||(bI=!0,setTimeout(()=>{throw i},0)),i}}return n}class T1 extends vI{constructor(t,e){super(),this.Qt=t,this.currentSequenceNumber=e}}function qs(n,t){const e=kt(n);return El.St(e.Qt,t)}class bw{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(t.key)&&f1(a,t,i[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&vA(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&vA(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(gn.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Gn())}isEqual(t){return this.batchId===t.batchId&&Gf(this.mutations,t.mutations,(e,i)=>nw(e,i))&&Gf(this.baseMutations,t.baseMutations,(e,i)=>nw(e,i))}}class ww{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){sn(t.mutations.length===i.length);let r=rI();const a=t.mutations;for(let h=0;h<a.length;h++)r=r.insert(a[h].key,i[h].version);return new ww(t,e,i,r)}}class Sl{constructor(t,e,i,r,a=gn.min(),h=gn.min(),f=mr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f}withSequenceNumber(t){return new Sl(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Sl(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Sl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class Cw{constructor(t){this.Wt=t}}function ym(n,t){if(t.document)return fw(n.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=jt.fromSegments(t.noDocument.path),i=ap(t.noDocument.readTime),r=Jn.newNoDocument(e,i);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=jt.fromSegments(t.unknownDocument.path),i=ap(t.unknownDocument.version);return Jn.newUnknownDocument(e,i)}return qt()}function Ew(n,t,e){const i=xw(e),r=t.key.path.popLast().toArray();if(t.isFoundDocument()){const a={name:fm(f=n.Wt,(m=t).key),fields:m.data.value.mapValue.fields,updateTime:ip(f,m.version.toTimestamp())};return new wi(null,null,a,t.hasCommittedMutations,i,r)}var f,m;if(t.isNoDocument()){const a=t.key.path.toArray(),h=op(t.version),f=t.hasCommittedMutations;return new wi(null,new _w(a,h),null,f,i,r)}if(t.isUnknownDocument()){const a=t.key.path.toArray(),h=op(t.version);return new wi(new S1(a,h),null,null,!0,i,r)}return qt()}function xw(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function D1(n){const t=new ir(n[0],n[1]);return gn.fromTimestamp(t)}function op(n){const t=n.toTimestamp();return new yw(t.seconds,t.nanoseconds)}function ap(n){const t=new ir(n.seconds,n.nanoseconds);return gn.fromTimestamp(t)}function lp(n,t){const e=(t.baseMutations||[]).map(a=>dI(n.Wt,a));for(let a=0;a<t.mutations.length-1;++a){const h=t.mutations[a];a+1<t.mutations.length&&void 0!==t.mutations[a+1].transform&&(h.updateTransforms=t.mutations[a+1].transform.fieldTransforms,t.mutations.splice(a+1,1),++a)}const i=t.mutations.map(a=>dI(n.Wt,a)),r=ir.fromMillis(t.localWriteTimeMs);return new bw(t.batchId,r,e,i)}function cp(n){const t=ap(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?ap(n.lastLimboFreeSnapshotVersion):gn.min();let i;var r;return void 0!==n.query.documents?(sn(1===(r=n.query).documents.length),i=yo(Qf(dw(r.documents[0])))):i=yo(pI(n.query)),new Sl(i,n.targetId,0,n.lastListenSequenceNumber,t,e,mr.fromBase64String(n.resumeToken))}function Sw(n,t){const e=op(t.snapshotVersion),i=op(t.lastLimboFreeSnapshotVersion);let r;r=om(t.target)?fI(n.Wt,t.target):gw(n.Wt,t.target);const a=t.resumeToken.toBase64();return new As(t.targetId,Yf(t.target),e,a,t.sequenceNumber,i,r)}function SA(n){const t=pI({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Qb(t,t.limit,"L"):t}class k1{getBundleMetadata(t,e){return wI(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:ap(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return wI(t).put({bundleId:(i=e).id,createTime:op(bi(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return Iw(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:SA(r.bundledQuery),readTime:ap(r.readTime)};var r})}saveNamedQuery(t,e){return Iw(t).put({name:(i=e).name,readTime:op(bi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function wI(n){return qs(n,Ma.store)}function Iw(n){return qs(n,gm.store)}class IA{constructor(){this.Gt=new Tw}addToCollectionParentIndex(t,e){return this.Gt.add(e),_t.resolve()}getCollectionParents(t,e){return _t.resolve(this.Gt.getEntries(e))}}class Tw{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Ri(Mn.comparator),a=!r.has(i);return this.index[e]=r.add(i),a}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ri(Mn.comparator)).toArray()}}class CI{constructor(){this.zt=new Tw}addToCollectionParentIndex(t,e){if(!this.zt.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.zt.add(e)});const a={collectionId:i,parent:Da(r)};return _m(t).put(a)}return _t.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[zi(e),""],!1,!0);return _m(t).Lt(r).next(a=>{for(const h of a){if(h.collectionId!==e)break;i.push(ka(h.parent))}return i})}}function _m(n){return qs(n,sp.store)}const Am={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _r{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new _r(t,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function EI(n,t,e){const i=n.store(ri.store),r=n.store(Yr.store),a=[],h=IDBKeyRange.only(e.batchId);let f=0;const m=i.Kt({range:h},(F,K,we)=>(f++,we.delete()));a.push(m.next(()=>{sn(1===f)}));const b=[];for(const F of e.mutations){const K=Yr.key(t,F.key.path,e.batchId);a.push(r.delete(K)),b.push(F.key)}return _t.waitFor(a).next(()=>b)}function TA(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw qt();t=n.noDocument}return JSON.stringify(t).length}_r.DEFAULT_COLLECTION_PERCENTILE=10,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_r.DEFAULT=new _r(41943040,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_r.DISABLED=new _r(-1,0,0);class xI{constructor(t,e,i,r){this.userId=t,this.N=e,this.Ht=i,this.referenceDelegate=r,this.Jt={}}static Yt(t,e,i,r){sn(""!==t.uid);const a=t.isAuthenticated()?t.uid:"";return new xI(a,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ku(t).Kt({index:ri.userMutationsIndex,range:i},(r,a,h)=>{e=!1,h.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const a=up(t),h=ku(t);return h.add({}).next(f=>{sn("number"==typeof f);const m=new bw(f,e,i,r),b=function(we,Re,qe){const rt=qe.baseMutations.map(St=>EA(we.Wt,St)),ht=qe.mutations.map(St=>EA(we.Wt,St));return new ri(Re,qe.batchId,qe.localWriteTime.toMillis(),rt,ht)}(this.N,this.userId,m),F=[];let K=new Ri((we,Re)=>Cn(we.canonicalString(),Re.canonicalString()));for(const we of r){const Re=Yr.key(this.userId,we.key.path,f);K=K.add(we.key.path.popLast()),F.push(h.put(b)),F.push(a.put(Re,Yr.PLACEHOLDER))}return K.forEach(we=>{F.push(this.Ht.addToCollectionParentIndex(t,we))}),t.addOnCommittedListener(()=>{this.Jt[f]=m.keys()}),_t.waitFor(F).next(()=>m)})}lookupMutationBatch(t,e){return ku(t).get(e).next(i=>i?(sn(i.userId===this.userId),lp(this.N,i)):null)}Xt(t,e){return this.Jt[e]?_t.resolve(this.Jt[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Jt[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return ku(t).Kt({index:ri.userMutationsIndex,range:r},(h,f,m)=>{f.userId===this.userId&&(sn(f.batchId>=i),a=lp(this.N,f)),m.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return ku(t).Kt({index:ri.userMutationsIndex,range:e,reverse:!0},(r,a,h)=>{i=a.batchId,h.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ku(t).Lt(ri.userMutationsIndex,e).next(i=>i.map(r=>lp(this.N,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=Yr.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(i),a=[];return up(t).Kt({range:r},(h,f,m)=>{const[b,F,K]=h,we=ka(F);if(b===this.userId&&e.path.isEqual(we))return ku(t).get(K).next(Re=>{if(!Re)throw qt();sn(Re.userId===this.userId),a.push(lp(this.N,Re))});m.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ri(Cn);const r=[];return e.forEach(a=>{const h=Yr.prefixForPath(this.userId,a.path),f=IDBKeyRange.lowerBound(h),m=up(t).Kt({range:f},(b,F,K)=>{const[we,Re,qe]=b,rt=ka(Re);we===this.userId&&a.path.isEqual(rt)?i=i.add(qe):K.done()});r.push(m)}),_t.waitFor(r).next(()=>this.Zt(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,a=Yr.prefixForPath(this.userId,i),h=IDBKeyRange.lowerBound(a);let f=new Ri(Cn);return up(t).Kt({range:h},(m,b,F)=>{const[K,we,Re]=m,qe=ka(we);K===this.userId&&i.isPrefixOf(qe)?qe.length===r&&(f=f.add(Re)):F.done()}).next(()=>this.Zt(t,f))}Zt(t,e){const i=[],r=[];return e.forEach(a=>{r.push(ku(t).get(a).next(h=>{if(null===h)throw qt();sn(h.userId===this.userId),i.push(lp(this.N,h))}))}),_t.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return EI(t.Qt,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.te(e.batchId)}),_t.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}te(t){delete this.Jt[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return _t.resolve();const i=IDBKeyRange.lowerBound(Yr.prefixForUser(this.userId)),r=[];return up(t).Kt({range:i},(a,h,f)=>{if(a[0]===this.userId){const m=ka(a[1]);r.push(m)}else f.done()}).next(()=>{sn(0===r.length)})})}containsKey(t,e){return SI(t,this.userId,e)}ee(t){return II(t).get(this.userId).next(e=>e||new wl(this.userId,-1,""))}}function SI(n,t,e){const i=Yr.prefixForPath(t,e.path),r=i[1],a=IDBKeyRange.lowerBound(i);let h=!1;return up(n).Kt({range:a,qt:!0},(f,m,b)=>{const[F,K,we]=f;F===t&&K===r&&(h=!0),b.done()}).next(()=>h)}function ku(n){return qs(n,ri.store)}function up(n){return qs(n,Yr.store)}function II(n){return qs(n,wl.store)}class sd{constructor(t){this.ne=t}next(){return this.ne+=2,this.ne}static se(){return new sd(0)}static ie(){return new sd(-1)}}class M1{constructor(t,e){this.referenceDelegate=t,this.N=e}allocateTargetId(t){return this.re(t).next(e=>{const i=new sd(e.highestTargetId);return e.highestTargetId=i.next(),this.oe(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.re(t).next(e=>gn.fromTimestamp(new ir(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.re(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.re(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.oe(t,r)))}addTargetData(t,e){return this.ae(t,e).next(()=>this.re(t).next(i=>(i.targetCount+=1,this.ce(e,i),this.oe(t,i))))}updateTargetData(t,e){return this.ae(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>hp(t).delete(e.targetId)).next(()=>this.re(t)).next(i=>(sn(i.targetCount>0),i.targetCount-=1,this.oe(t,i)))}removeTargets(t,e,i){let r=0;const a=[];return hp(t).Kt((h,f)=>{const m=cp(f);m.sequenceNumber<=e&&null===i.get(m.targetId)&&(r++,a.push(this.removeTargetData(t,m)))}).next(()=>_t.waitFor(a)).next(()=>r)}forEachTarget(t,e){return hp(t).Kt((i,r)=>{const a=cp(r);e(a)})}re(t){return TI(t).get(zs.key).next(e=>(sn(null!==e),e))}oe(t,e){return TI(t).put(zs.key,e)}ae(t,e){return hp(t).put(Sw(this.N,e))}ce(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.re(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Yf(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return hp(t).Kt({range:r,index:As.queryTargetsIndexName},(h,f,m)=>{const b=cp(f);sm(e,b.target)&&(a=b,m.done())}).next(()=>a)}addMatchingKeys(t,e,i){const r=[],a=Mu(t);return e.forEach(h=>{const f=Da(h.path);r.push(a.put(new yr(i,f))),r.push(this.referenceDelegate.addReference(t,i,h))}),_t.waitFor(r)}removeMatchingKeys(t,e,i){const r=Mu(t);return _t.forEach(e,a=>{const h=Da(a.path);return _t.waitFor([r.delete([i,h]),this.referenceDelegate.removeReference(t,i,a)])})}removeMatchingKeysForTargetId(t,e){const i=Mu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Mu(t);let a=Gn();return r.Kt({range:i,qt:!0},(h,f,m)=>{const b=ka(h[1]),F=new jt(b);a=a.add(F)}).next(()=>a)}containsKey(t,e){const i=Da(e.path),r=IDBKeyRange.bound([i],[zi(i)],!1,!0);let a=0;return Mu(t).Kt({index:yr.documentTargetsIndex,qt:!0,range:r},([h,f],m,b)=>{0!==h&&(a++,b.done())}).next(()=>a>0)}Tt(t,e){return hp(t).get(e).next(i=>i?cp(i):null)}}function hp(n){return qs(n,As.store)}function TI(n){return qs(n,zs.store)}function Mu(n){return qs(n,yr.store)}function dp(n){return Dw.apply(this,arguments)}function Dw(){return(Dw=(0,ft.Z)(function*(n){if(n.code!==ut.FAILED_PRECONDITION||n.message!==mm)throw n;xt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function fp([n,t],[e,i]){const r=Cn(n,e);return 0===r?Cn(t,i):r}class R1{constructor(t){this.ue=t,this.buffer=new Ri(fp),this.he=0}le(){return++this.he}fe(t){const e=[t,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();fp(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class O1{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.de=!1,this.we=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(t)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(t){var e=this;const i=this.de?3e5:6e4;xt("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,ft.Z)(function*(){e.we=null,e.de=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(r){Du(r)?xt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield dp(r)}yield e._e(t)}))}}class P1{constructor(t,e){this.me=t,this.params=e}calculateTargetCount(t,e){return this.me.ge(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return _t.resolve(Qo.T);const i=new R1(e);return this.me.forEachTarget(t,r=>i.fe(r.sequenceNumber)).next(()=>this.me.ye(t,r=>i.fe(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.me.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.me.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(xt("LruGarbageCollector","Garbage collection skipped; disabled"),_t.resolve(Am)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(xt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Am):this.pe(t,e))}getCacheSize(t){return this.me.getCacheSize(t)}pe(t,e){let i,r,a,h,f,m,b;const F=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(K=>(K>this.params.maximumSequenceNumbersToCollect?(xt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${K}`),r=this.params.maximumSequenceNumbersToCollect):r=K,h=Date.now(),this.nthSequenceNumber(t,r))).next(K=>(i=K,f=Date.now(),this.removeTargets(t,i,e))).next(K=>(a=K,m=Date.now(),this.removeOrphanedDocuments(t,i))).next(K=>(b=Date.now(),oA()<=qo.in.DEBUG&&xt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-F}ms\n\tDetermined least recently used ${r} in `+(f-h)+`ms\n\tRemoved ${a} targets in `+(m-f)+`ms\n\tRemoved ${K} documents in `+(b-m)+`ms\nTotal Duration: ${b-F}ms`),_t.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:K})))}}class DA{constructor(t,e){this.db=t,this.garbageCollector=new P1(this,e)}ge(t){const e=this.Te(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Te(t){let e=0;return this.ye(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}ye(t,e){return this.Ee(t,(i,r)=>e(r))}addReference(t,e,i){return Il(t,i)}removeReference(t,e,i){return Il(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return Il(t,e)}Ie(t,e){return function(i,r){let a=!1;return II(i).jt(h=>SI(i,h,r).next(f=>(f&&(a=!0),_t.resolve(!f)))).next(()=>a)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Ee(t,(h,f)=>{if(f<=e){const m=this.Ie(t,h).next(b=>{if(!b)return a++,i.getEntry(t,h).next(()=>(i.removeEntry(h),Mu(t).delete([0,Da(h.path)])))});r.push(m)}}).next(()=>_t.waitFor(r)).next(()=>i.apply(t)).next(()=>a)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return Il(t,e)}Ee(t,e){const i=Mu(t);let r,a=Qo.T;return i.Kt({index:yr.documentTargetsIndex},([h,f],{path:m,sequenceNumber:b})=>{0===h?(a!==Qo.T&&e(new jt(ka(r)),a),a=b,r=m):a=Qo.T}).next(()=>{a!==Qo.T&&e(new jt(ka(r)),a)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Il(n,t){return Mu(n).put((i=n.currentSequenceNumber,new yr(0,Da(t.path),i)));var i}class od{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,t))return a}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0!==r){for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return void(r[a]=[t,e]);r.push([t,e])}else this.inner[i]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),!0;return!1}forEach(t){Cu(this.inner,(e,i)=>{for(const[r,a]of i)t(r,a)})}isEmpty(){return OS(this.inner)}}class DI{constructor(){this.changes=new od(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:gn.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:Jn.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?_t.resolve(i.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class MF{constructor(t,e){this.N=t,this.Ht=e}addEntry(t,e,i){return Ru(t).put(kA(e),i)}removeEntry(t,e){const i=Ru(t),r=kA(e);return i.delete(r)}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Ae(t,i)))}getEntry(t,e){return Ru(t).get(kA(e)).next(i=>this.Re(e,i))}be(t,e){return Ru(t).get(kA(e)).next(i=>({document:this.Re(e,i),size:TA(i)}))}getEntries(t,e){let i=_o();return this.Pe(t,e,(r,a)=>{const h=this.Re(r,a);i=i.insert(r,h)}).next(()=>i)}ve(t,e){let i=_o(),r=new vi(jt.comparator);return this.Pe(t,e,(a,h)=>{const f=this.Re(a,h);i=i.insert(a,f),r=r.insert(a,TA(h))}).next(()=>({documents:i,Ve:r}))}Pe(t,e,i){if(e.isEmpty())return _t.resolve();const r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),a=e.getIterator();let h=a.getNext();return Ru(t).Kt({range:r},(f,m,b)=>{const F=jt.fromSegments(f);for(;h&&jt.comparator(h,F)<0;)i(h,null),h=a.getNext();h&&h.isEqual(F)&&(i(h,m),h=a.hasNext()?a.getNext():null),h?b.Mt(h.path.toArray()):b.done()}).next(()=>{for(;h;)i(h,null),h=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(t,e,i){let r=_o();const a=e.path.length+1,h={};if(i.isEqual(gn.min())){const f=e.path.toArray();h.range=IDBKeyRange.lowerBound(f)}else{const f=e.path.toArray(),m=xw(i);h.range=IDBKeyRange.lowerBound([f,m],!0),h.index=wi.collectionReadTimeIndex}return Ru(t).Kt(h,(f,m,b)=>{if(f.length!==a)return;const F=ym(this.N,m);e.path.isPrefixOf(F.key.path)?Jh(e,F)&&(r=r.insert(F.key,F)):b.done()}).next(()=>r)}newChangeBuffer(t){return new N1(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return vm(t).get(Cl.key).next(e=>(sn(!!e),e))}Ae(t,e){return vm(t).put(Cl.key,e)}Re(t,e){if(e){const i=ym(this.N,e);if(!i.isNoDocument()||!i.version.isEqual(gn.min()))return i}return Jn.newInvalidDocument(t)}}class N1 extends DI{constructor(t,e){super(),this.Se=t,this.trackRemovals=e,this.De=new od(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Ri((a,h)=>Cn(a.canonicalString(),h.canonicalString()));return this.changes.forEach((a,h)=>{const f=this.De.get(a);if(h.document.isValidDocument()){const m=Ew(this.Se.N,h.document,this.getReadTime(a));r=r.add(a.path.popLast()),i+=TA(m)-f,e.push(this.Se.addEntry(t,a,m))}else if(i-=f,this.trackRemovals){const m=Ew(this.Se.N,Jn.newNoDocument(a,gn.min()),this.getReadTime(a));e.push(this.Se.addEntry(t,a,m))}else e.push(this.Se.removeEntry(t,a))}),r.forEach(a=>{e.push(this.Se.Ht.addToCollectionParentIndex(t,a))}),e.push(this.Se.updateMetadata(t,i)),_t.waitFor(e)}getFromCache(t,e){return this.Se.be(t,e).next(i=>(this.De.set(e,i.size),i.document))}getAllFromCache(t,e){return this.Se.ve(t,e).next(({documents:i,Ve:r})=>(r.forEach((a,h)=>{this.De.set(a,h)}),i))}}function vm(n){return qs(n,Cl.store)}function Ru(n){return qs(n,wi.store)}function kA(n){return n.path.toArray()}class kI{constructor(t){this.N=t}Ct(t,e,i,r){sn(i<r&&i>=0&&r<=11);const a=new xA("createOrUpgrade",e);var f;i<1&&r>=1&&(t.createObjectStore(Gs.store),(f=t).createObjectStore(wl.store,{keyPath:wl.keyPath}),f.createObjectStore(ri.store,{keyPath:ri.keyPath,autoIncrement:!0}).createIndex(ri.userMutationsIndex,ri.userMutationsKeyPath,{unique:!0}),f.createObjectStore(Yr.store),kw(t),function(f){f.createObjectStore(wi.store)}(t));let h=_t.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore(yr.store),f.deleteObjectStore(As.store),f.deleteObjectStore(zs.store)}(t),kw(t)),h=h.next(()=>function(f){const m=f.store(zs.store),b=new zs(0,0,gn.min().toTimestamp(),0);return m.put(zs.key,b)}(a))),i<4&&r>=4&&(0!==i&&(h=h.next(()=>function(f,m){return m.store(ri.store).Lt().next(b=>{f.deleteObjectStore(ri.store),f.createObjectStore(ri.store,{keyPath:ri.keyPath,autoIncrement:!0}).createIndex(ri.userMutationsIndex,ri.userMutationsKeyPath,{unique:!0});const F=m.store(ri.store),K=b.map(we=>F.put(we));return _t.waitFor(K)})}(t,a))),h=h.next(()=>{!function(f){f.createObjectStore(Rc.store,{keyPath:Rc.keyPath})}(t)})),i<5&&r>=5&&(h=h.next(()=>this.Ce(a))),i<6&&r>=6&&(h=h.next(()=>(function(f){f.createObjectStore(Cl.store)}(t),this.Ne(a)))),i<7&&r>=7&&(h=h.next(()=>this.xe(a))),i<8&&r>=8&&(h=h.next(()=>this.ke(t,a))),i<9&&r>=9&&(h=h.next(()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){const m=f.objectStore(wi.store);m.createIndex(wi.readTimeIndex,wi.readTimeIndexPath,{unique:!1}),m.createIndex(wi.collectionReadTimeIndex,wi.collectionReadTimeIndexPath,{unique:!1})}(e)})),i<10&&r>=10&&(h=h.next(()=>this.$e(a))),i<11&&r>=11&&(h=h.next(()=>{(function(f){f.createObjectStore(Ma.store,{keyPath:Ma.keyPath})})(t),function(f){f.createObjectStore(gm.store,{keyPath:gm.keyPath})}(t)})),h}Ne(t){let e=0;return t.store(wi.store).Kt((i,r)=>{e+=TA(r)}).next(()=>{const i=new Cl(e);return t.store(Cl.store).put(Cl.key,i)})}Ce(t){const e=t.store(wl.store),i=t.store(ri.store);return e.Lt().next(r=>_t.forEach(r,a=>{const h=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Lt(ri.userMutationsIndex,h).next(f=>_t.forEach(f,m=>{sn(m.userId===a.userId);const b=lp(this.N,m);return EI(t,a.userId,b).next(()=>{})}))}))}xe(t){const e=t.store(yr.store),i=t.store(wi.store);return t.store(zs.store).get(zs.key).next(r=>{const a=[];return i.Kt((h,f)=>{const m=new Mn(h),b=[0,Da(m)];a.push(e.get(b).next(F=>F?_t.resolve():e.put(new yr(0,Da(m),r.highestListenSequenceNumber))))}).next(()=>_t.waitFor(a))})}ke(t,e){t.createObjectStore(sp.store,{keyPath:sp.keyPath});const i=e.store(sp.store),r=new Tw,a=h=>{if(r.add(h)){const f=h.lastSegment(),m=h.popLast();return i.put({collectionId:f,parent:Da(m)})}};return e.store(wi.store).Kt({qt:!0},(h,f)=>{const m=new Mn(h);return a(m.popLast())}).next(()=>e.store(Yr.store).Kt({qt:!0},([h,f,m],b)=>{const F=ka(f);return a(F.popLast())}))}$e(t){const e=t.store(As.store);return e.Kt((i,r)=>{const a=cp(r),h=Sw(this.N,a);return e.put(h)})}}function kw(n){n.createObjectStore(yr.store,{keyPath:yr.keyPath}).createIndex(yr.documentTargetsIndex,yr.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(As.store,{keyPath:As.keyPath}).createIndex(As.queryTargetsIndexName,As.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(zs.store)}const bm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class MA{constructor(t,e,i,r,a,h,f,m,b,F){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Oe=a,this.window=h,this.document=f,this.Fe=b,this.Me=F,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=K=>Promise.resolve(),!MA.bt())throw new bt(ut.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new DA(this,r),this.We=e+"main",this.N=new Cw(m),this.Ge=new El(this.We,11,new kI(this.N)),this.ze=new M1(this.referenceDelegate,this.N),this.Ht=new CI,this.He=new MF(this.N,this.Ht),this.Je=new k1,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===F&&Li("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new bt(ut.FAILED_PRECONDITION,bm);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.ze.getHighestSequenceNumber(t))}).then(t=>{this.Le=new Qo(t,this.Fe)}).then(()=>{this.Be=!0}).catch(t=>(this.Ge&&this.Ge.close(),Promise.reject(t)))}nn(t){var e=this;return this.Qe=function(){var i=(0,ft.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ge.xt(function(){var e=(0,ft.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Oe.enqueueAndForget((0,ft.Z)(function*(){e.started&&(yield e.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>RA(t).put(new Rc(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(t).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(t)).next(e=>this.isPrimary&&!e?this.on(t).next(()=>!1):!!e&&this.an(t).next(()=>!0))).catch(t=>{if(Du(t))return xt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return xt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Oe.enqueueRetryable(()=>this.Qe(t)),this.isPrimary=t})}sn(t){return pp(t).get(Gs.key).next(e=>_t.resolve(this.cn(e)))}un(t){return RA(t).delete(this.clientId)}hn(){var t=this;return(0,ft.Z)(function*(){if(t.isPrimary&&!t.ln(t.je,18e5)){t.je=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=qs(i,Rc.store);return r.Lt().next(a=>{const h=t.fn(a,18e5),f=a.filter(m=>-1===h.indexOf(m));return _t.forEach(f,m=>r.delete(m.clientId)).next(()=>f)})}).catch(()=>[]);if(t.Ye)for(const i of e)t.Ye.removeItem(t.dn(i.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(t){return!!t&&t.ownerId===this.clientId}rn(t){return this.Me?_t.resolve(!0):pp(t).get(Gs.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)){if(this.cn(e)&&this.networkEnabled)return!0;if(!this.cn(e)){if(!e.allowTabSynchronization)throw new bt(ut.FAILED_PRECONDITION,bm);return!1}}return!(!this.networkEnabled||!this.inForeground)||RA(t).Lt().next(i=>void 0===this.fn(i,5e3).find(r=>{if(this.clientId!==r.clientId){const h=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||h&&f)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&xt("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ft.Z)(function*(){t.Be=!1,t._n(),t.Ke&&(t.Ke.cancel(),t.Ke=null),t.mn(),t.gn(),yield t.Ge.runTransaction("shutdown","readwrite",[Gs.store,Rc.store],e=>{const i=new T1(e,Qo.T);return t.on(i).next(()=>t.un(i))}),t.Ge.close(),t.yn()})()}fn(t,e){return t.filter(i=>this.ln(i.updateTimeMs,e)&&!this.wn(i.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",t=>RA(t).Lt().next(e=>this.fn(e,18e5).map(i=>i.clientId)))}get started(){return this.Be}getMutationQueue(t){return xI.Yt(t,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(t,e,i){let a;return xt("IndexedDbPersistence","Starting transaction:",t),this.Ge.runTransaction(t,"readonly"===e?"readonly":"readwrite",Aw,h=>(a=new T1(h,this.Le?this.Le.next():Qo.T),"readwrite-primary"===e?this.sn(a).next(f=>!!f||this.rn(a)).next(f=>{if(!f)throw Li(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new bt(ut.FAILED_PRECONDITION,mm);return i(a)}).next(f=>this.an(a).next(()=>f)):this.Tn(a).next(()=>i(a)))).then(h=>(a.raiseOnCommittedEvent(),h))}Tn(t){return pp(t).get(Gs.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)&&!this.cn(e)&&!(this.Me||this.allowTabSynchronization&&e.allowTabSynchronization))throw new bt(ut.FAILED_PRECONDITION,bm)})}an(t){const e=new Gs(this.clientId,this.allowTabSynchronization,Date.now());return pp(t).put(Gs.key,e)}static bt(){return El.bt()}on(t){const e=pp(t);return e.get(Gs.key).next(i=>this.cn(i)?(xt("IndexedDbPersistence","Releasing primary lease."),e.delete(Gs.key)):_t.resolve())}ln(t,e){const i=Date.now();return!(t<i-e||t>i&&(Li(`Detected an update time that is in the future: ${t} > ${i}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ue=()=>{this._n(),(0,Pe.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(t){var e;try{const i=null!==(null===(e=this.Ye)||void 0===e?void 0:e.getItem(this.dn(t)));return xt("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Li("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(t){Li("Failed to set zombie client id.",t)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(t){}}dn(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function pp(n){return qs(n,Gs.store)}function RA(n){return qs(n,Rc.store)}function Mw(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class MI{constructor(t,e){this.progress=t,this.En=e}}class RI{constructor(t,e,i){this.He=t,this.In=e,this.Ht=i}An(t,e){return this.In.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.Rn(t,e,i))}Rn(t,e,i){return this.He.getEntry(t,e).next(r=>{for(const a of i)a.applyToLocalView(r);return r})}bn(t,e){t.forEach((i,r)=>{for(const a of e)a.applyToLocalView(r)})}Pn(t,e){return this.He.getEntries(t,e).next(i=>this.vn(t,i).next(()=>i))}vn(t,e){return this.In.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.bn(e,i))}getDocumentsMatchingQuery(t,e,i){return jt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.Vn(t,e.path):yA(e)?this.Sn(t,e,i):this.Dn(t,e,i);var r}Vn(t,e){return this.An(t,new jt(e)).next(i=>{let r=ow();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Sn(t,e,i){const r=e.collectionGroup;let a=ow();return this.Ht.getCollectionParents(t,r).next(h=>_t.forEach(h,f=>{const m=(b=e,F=f.child(r),new Mc(F,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,F;return this.Dn(t,m,i).next(b=>{b.forEach((F,K)=>{a=a.insert(F,K)})})}).next(()=>a))}Dn(t,e,i){let r,a;return this.He.getDocumentsMatchingQuery(t,e,i).next(h=>(r=h,this.In.getAllMutationBatchesAffectingQuery(t,e))).next(h=>(a=h,this.Cn(t,a,r).next(f=>{r=f;for(const m of a)for(const b of m.mutations){const F=b.key;let K=r.get(F);null==K&&(K=Jn.newInvalidDocument(F),r=r.insert(F,K)),vA(b,K,m.localWriteTime),K.isFoundDocument()||(r=r.remove(F))}}))).next(()=>(r.forEach((h,f)=>{Jh(e,f)||(r=r.remove(h))}),r))}Cn(t,e,i){let r=Gn();for(const h of e)for(const f of h.mutations)f instanceof Iu&&null===i.get(f.key)&&(r=r.add(f.key));let a=i;return this.He.getEntries(t,r).next(h=>(h.forEach((f,m)=>{m.isFoundDocument()&&(a=a.insert(f,m))}),a))}}class OA{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Nn=i,this.xn=r}static kn(t,e){let i=Gn(),r=Gn();for(const a of e.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new OA(t,e.fromCache,i,r)}}class wm{$n(t){this.On=t}getDocumentsMatchingQuery(t,e,i,r){return 0===(a=e).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||i.isEqual(gn.min())?this.Fn(t,e):this.On.Pn(t,r).next(a=>{const h=this.Mn(e,a);return(fA(e)||pA(e))&&this.Ln(e.limitType,h,r,i)?this.Fn(t,e):(oA()<=qo.in.DEBUG&&xt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_A(e)),this.On.getDocumentsMatchingQuery(t,e,i).next(f=>(h.forEach(m=>{f=f.insert(m.key,m)}),f)))});var a}Mn(t,e){let i=new Ri(Jb(t));return e.forEach((r,a)=>{Jh(t,a)&&(i=i.add(a))}),i}Ln(t,e,i,r){if(i.size!==e.size)return!0;const a="F"===t?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Fn(t,e){return oA()<=qo.in.DEBUG&&xt("QueryEngine","Using full collection scan to execute query:",_A(e)),this.On.getDocumentsMatchingQuery(t,e,gn.min())}}class PA{constructor(t,e,i,r){this.persistence=t,this.Bn=e,this.N=r,this.Un=new vi(Cn),this.qn=new od(a=>Yf(a),sm),this.Kn=gn.min(),this.In=t.getMutationQueue(i),this.jn=t.getRemoteDocumentCache(),this.ze=t.getTargetCache(),this.Qn=new RI(this.jn,this.In,this.persistence.getIndexManager()),this.Je=t.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Un))}}function F1(n,t,e,i){return new PA(n,t,e,i)}function gp(n,t){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,ft.Z)(function*(n,t){const e=kt(n);let i=e.In,r=e.Qn;const a=yield e.persistence.runTransaction("Handle user change","readonly",h=>{let f;return e.In.getAllMutationBatches(h).next(m=>(f=m,i=e.persistence.getMutationQueue(t),r=new RI(e.jn,i,e.persistence.getIndexManager()),i.getAllMutationBatches(h))).next(m=>{const b=[],F=[];let K=Gn();for(const we of f){b.push(we.batchId);for(const Re of we.mutations)K=K.add(Re.key)}for(const we of m){F.push(we.batchId);for(const Re of we.mutations)K=K.add(Re.key)}return r.Pn(h,K).next(we=>({Wn:we,removedBatchIds:b,addedBatchIds:F}))})});return e.In=i,e.Qn=r,e.Bn.$n(e.Qn),a})).apply(this,arguments)}function Ou(n,t){const e=kt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),a=e.jn.newChangeBuffer({trackRemovals:!0});return function(h,f,m,b){const F=m.batch,K=F.keys();let we=_t.resolve();return K.forEach(Re=>{we=we.next(()=>b.getEntry(f,Re)).next(qe=>{const rt=m.docVersions.get(Re);sn(null!==rt),qe.version.compareTo(rt)<0&&(F.applyToRemoteDocument(qe,m),qe.isValidDocument()&&b.addEntry(qe,m.commitVersion))})}),we.next(()=>h.In.removeMutationBatch(f,F))}(e,i,t,a).next(()=>a.apply(i)).next(()=>e.In.performConsistencyCheck(i)).next(()=>e.Qn.Pn(i,r))})}function ad(n){const t=kt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ze.getLastRemoteSnapshotVersion(e))}function Cm(n,t){const e=kt(n),i=t.snapshotVersion;let r=e.Un;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const h=e.jn.newChangeBuffer({trackRemovals:!0});r=e.Un;const f=[];t.targetChanges.forEach((b,F)=>{const K=r.get(F);if(!K)return;f.push(e.ze.removeMatchingKeys(a,b.removedDocuments,F).next(()=>e.ze.addMatchingKeys(a,b.addedDocuments,F)));const we=b.resumeToken;if(we.approximateByteSize()>0){const Re=K.withResumeToken(we,i).withSequenceNumber(a.currentSequenceNumber);r=r.insert(F,Re),qe=K,ht=b,sn((rt=Re).resumeToken.approximateByteSize()>0),(0===qe.resumeToken.approximateByteSize()||rt.snapshotVersion.toMicroseconds()-qe.snapshotVersion.toMicroseconds()>=3e8||ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0)&&f.push(e.ze.updateTargetData(a,Re))}var qe,rt,ht});let m=_o();if(t.documentUpdates.forEach((b,F)=>{t.resolvedLimboDocuments.has(b)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(a,b))}),f.push(L1(a,h,t.documentUpdates,i,void 0).next(b=>{m=b})),!i.isEqual(gn.min())){const b=e.ze.getLastRemoteSnapshotVersion(a).next(F=>e.ze.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(b)}return _t.waitFor(f).next(()=>h.apply(a)).next(()=>e.Qn.vn(a,m)).next(()=>m)}).then(a=>(e.Un=r,a))}function L1(n,t,e,i,r){let a=Gn();return e.forEach(h=>a=a.add(h)),t.getEntries(n,a).next(h=>{let f=_o();return e.forEach((m,b)=>{const F=h.get(m),K=(null==r?void 0:r.get(m))||i;b.isNoDocument()&&b.version.isEqual(gn.min())?(t.removeEntry(m,K),f=f.insert(m,b)):!F.isValidDocument()||b.version.compareTo(F.version)>0||0===b.version.compareTo(F.version)&&F.hasPendingWrites?(t.addEntry(b,K),f=f.insert(m,b)):xt("LocalStore","Ignoring outdated watch update for ",m,". Current version:",F.version," Watch version:",b.version)}),f})}function hn(n,t){const e=kt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.In.getNextMutationBatchAfterBatchId(i,t)))}function Nr(n,t){const e=kt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.ze.getTargetData(i,t).next(a=>a?(r=a,_t.resolve(r)):e.ze.allocateTargetId(i).next(h=>(r=new Sl(t,h,0,i.currentSequenceNumber),e.ze.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Un.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Un=e.Un.insert(i.targetId,i),e.qn.set(t,i.targetId)),i})}function Pu(n,t,e){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,ft.Z)(function*(n,t,e){const i=kt(n),r=i.Un.get(t),a=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",a,h=>i.persistence.referenceDelegate.removeTarget(h,r)))}catch(h){if(!Du(h))throw h;xt("LocalStore",`Failed to update sequence numbers for target ${t}: ${h}`)}i.Un=i.Un.remove(t),i.qn.delete(r.target)})).apply(this,arguments)}function Rw(n,t,e){const i=kt(n);let r=gn.min(),a=Gn();return i.persistence.runTransaction("Execute query","readonly",h=>function(f,m,b){const F=kt(f),K=F.qn.get(b);return void 0!==K?_t.resolve(F.Un.get(K)):F.ze.getTargetData(m,b)}(i,h,yo(t)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.ze.getMatchingKeysForTargetId(h,f.targetId).next(m=>{a=m})}).next(()=>i.Bn.getDocumentsMatchingQuery(h,t,e?r:gn.min(),e?a:Gn())).next(f=>({documents:f,Gn:a})))}function Ow(n,t){const e=kt(n),i=kt(e.ze),r=e.Un.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",a=>i.Tt(a,t).next(h=>h?h.target:null))}function Pw(n){const t=kt(n);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(i,r,a){const h=kt(i);let f=_o(),m=xw(a);const b=Ru(r),F=IDBKeyRange.lowerBound(m,!0);return b.Kt({index:wi.readTimeIndex,range:F},(K,we)=>{const Re=ym(h.N,we);f=f.insert(Re.key,Re),m=we.readTime}).next(()=>({En:f,readTime:D1(m)}))}(t.jn,e,t.Kn)).then(({En:e,readTime:i})=>(t.Kn=i,e))}function Nw(){return(Nw=(0,ft.Z)(function*(n){const t=kt(n);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(i){const r=Ru(i);let a=gn.min();return r.Kt({index:wi.readTimeIndex,reverse:!0},(h,f,m)=>{f.readTime&&(a=D1(f.readTime)),m.done()}).next(()=>a)}(e)).then(e=>{t.Kn=e})})).apply(this,arguments)}function Zs(){return(Zs=(0,ft.Z)(function*(n,t,e,i){const r=kt(n);let a=Gn(),h=_o(),f=rI();for(const F of e){const K=t.zn(F.metadata.name);F.document&&(a=a.add(K)),h=h.insert(K,t.Hn(F)),f=f.insert(K,t.Jn(F.metadata.readTime))}const m=r.jn.newChangeBuffer({trackRemovals:!0}),b=yield Nr(r,(F=i,yo(Qf(Mn.fromString(`__bundle__/docs/${F}`)))));var F;return r.persistence.runTransaction("Apply bundle documents","readwrite",F=>L1(F,m,h,gn.min(),f).next(K=>(m.apply(F),K)).next(K=>r.ze.removeMatchingKeysForTargetId(F,b.targetId).next(()=>r.ze.addMatchingKeys(F,a,b.targetId)).next(()=>r.Qn.vn(F,K)).next(()=>K)))})).apply(this,arguments)}function Ci(n,t){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,ft.Z)(function*(n,t,e=Gn()){const i=yield Nr(n,yo(SA(t.bundledQuery))),r=kt(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const h=bi(t.readTime);if(i.snapshotVersion.compareTo(h)>=0)return r.Je.saveNamedQuery(a,t);const f=i.withResumeToken(mr.EMPTY_BYTE_STRING,h);return r.Un=r.Un.insert(f.targetId,f),r.ze.updateTargetData(a,f).next(()=>r.ze.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.ze.addMatchingKeys(a,e,i.targetId)).next(()=>r.Je.saveNamedQuery(a,t))})})).apply(this,arguments)}class OI{constructor(t){this.N=t,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(t,e){return _t.resolve(this.Yn.get(e))}saveBundleMetadata(t,e){var i;return this.Yn.set(e.id,{id:(i=e).id,version:i.version,createTime:bi(i.createTime)}),_t.resolve()}getNamedQuery(t,e){return _t.resolve(this.Xn.get(e))}saveNamedQuery(t,e){return this.Xn.set(e.name,{name:(i=e).name,query:SA(i.bundledQuery),readTime:bi(i.readTime)}),_t.resolve();var i}}class Fw{constructor(){this.Zn=new Ri(sr.ts),this.es=new Ri(sr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const i=new sr(t,e);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.rs(new sr(t,e))}os(t,e){t.forEach(i=>this.removeReference(i,e))}cs(t){const e=new jt(new Mn([])),i=new sr(e,t),r=new sr(e,t+1),a=[];return this.es.forEachInRange([i,r],h=>{this.rs(h),a.push(h.key)}),a}us(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new jt(new Mn([])),i=new sr(e,t),r=new sr(e,t+1);let a=Gn();return this.es.forEachInRange([i,r],h=>{a=a.add(h.key)}),a}containsKey(t){const e=new sr(t,0),i=this.Zn.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class sr{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return jt.comparator(t.key,e.key)||Cn(t.ls,e.ls)}static ns(t,e){return Cn(t.ls,e.ls)||jt.comparator(t.key,e.key)}}class Lw{constructor(t,e){this.Ht=t,this.referenceDelegate=e,this.In=[],this.fs=1,this.ds=new Ri(sr.ts)}checkEmpty(t){return _t.resolve(0===this.In.length)}addMutationBatch(t,e,i,r){const a=this.fs;this.fs++;const h=new bw(a,e,i,r);this.In.push(h);for(const f of r)this.ds=this.ds.add(new sr(f.key,a)),this.Ht.addToCollectionParentIndex(t,f.key.path.popLast());return _t.resolve(h)}lookupMutationBatch(t,e){return _t.resolve(this.ws(e))}getNextMutationBatchAfterBatchId(t,e){const r=this._s(e+1),a=r<0?0:r;return _t.resolve(this.In.length>a?this.In[a]:null)}getHighestUnacknowledgedBatchId(){return _t.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(t){return _t.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new sr(e,0),r=new sr(e,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([i,r],h=>{const f=this.ws(h.ls);a.push(f)}),_t.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ri(Cn);return e.forEach(r=>{const a=new sr(r,0),h=new sr(r,Number.POSITIVE_INFINITY);this.ds.forEachInRange([a,h],f=>{i=i.add(f.ls)})}),_t.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let a=i;jt.isDocumentKey(a)||(a=a.child(""));const h=new sr(new jt(a),0);let f=new Ri(Cn);return this.ds.forEachWhile(m=>{const b=m.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(f=f.add(m.ls)),!0)},h),_t.resolve(this.gs(f))}gs(t){const e=[];return t.forEach(i=>{const r=this.ws(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){sn(0===this.ys(e.batchId,"removed")),this.In.shift();let i=this.ds;return _t.forEach(e.mutations,r=>{const a=new sr(r.key,e.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ds=i})}te(t){}containsKey(t,e){const i=new sr(e,0),r=this.ds.firstAfterOrEqual(i);return _t.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return _t.resolve()}ys(t,e){return this._s(t)}_s(t){return 0===this.In.length?0:t-this.In[0].batchId}ws(t){const e=this._s(t);return e<0||e>=this.In.length?null:this.In[e]}}class mp{constructor(t,e){this.Ht=t,this.ps=e,this.docs=new vi(jt.comparator),this.size=0}addEntry(t,e,i){const r=e.key,a=this.docs.get(r),h=a?a.size:0,f=this.ps(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:f,readTime:i}),this.size+=f-h,this.Ht.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return _t.resolve(i?i.document.clone():Jn.newInvalidDocument(e))}getEntries(t,e){let i=_o();return e.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.clone():Jn.newInvalidDocument(r))}),_t.resolve(i)}getDocumentsMatchingQuery(t,e,i){let r=_o();const a=new jt(e.path.child("")),h=this.docs.getIteratorFrom(a);for(;h.hasNext();){const{key:f,value:{document:m,readTime:b}}=h.getNext();if(!e.path.isPrefixOf(f.path))break;b.compareTo(i)<=0||Jh(e,m)&&(r=r.insert(m.key,m.clone()))}return _t.resolve(r)}Ts(t,e){return _t.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Em(this)}getSize(t){return _t.resolve(this.size)}}class Em extends DI{constructor(t){super(),this.Se=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.document.isValidDocument()?e.push(this.Se.addEntry(t,r.document,this.getReadTime(i))):this.Se.removeEntry(i)}),_t.waitFor(e)}getFromCache(t,e){return this.Se.getEntry(t,e)}getAllFromCache(t,e){return this.Se.getEntries(t,e)}}class V1{constructor(t){this.persistence=t,this.Es=new od(e=>Yf(e),sm),this.lastRemoteSnapshotVersion=gn.min(),this.highestTargetId=0,this.Is=0,this.As=new Fw,this.targetCount=0,this.Rs=sd.se()}forEachTarget(t,e){return this.Es.forEach((i,r)=>e(r)),_t.resolve()}getLastRemoteSnapshotVersion(t){return _t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return _t.resolve(this.Is)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),_t.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Is&&(this.Is=e),_t.resolve()}ae(t){this.Es.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new sd(e),this.highestTargetId=e),t.sequenceNumber>this.Is&&(this.Is=t.sequenceNumber)}addTargetData(t,e){return this.ae(e),this.targetCount+=1,_t.resolve()}updateTargetData(t,e){return this.ae(e),_t.resolve()}removeTargetData(t,e){return this.Es.delete(e.target),this.As.cs(e.targetId),this.targetCount-=1,_t.resolve()}removeTargets(t,e,i){let r=0;const a=[];return this.Es.forEach((h,f)=>{f.sequenceNumber<=e&&null===i.get(f.targetId)&&(this.Es.delete(h),a.push(this.removeMatchingKeysForTargetId(t,f.targetId)),r++)}),_t.waitFor(a).next(()=>r)}getTargetCount(t){return _t.resolve(this.targetCount)}getTargetData(t,e){const i=this.Es.get(e)||null;return _t.resolve(i)}addMatchingKeys(t,e,i){return this.As.ss(e,i),_t.resolve()}removeMatchingKeys(t,e,i){this.As.os(e,i);const r=this.persistence.referenceDelegate,a=[];return r&&e.forEach(h=>{a.push(r.markPotentiallyOrphaned(t,h))}),_t.waitFor(a)}removeMatchingKeysForTargetId(t,e){return this.As.cs(e),_t.resolve()}getMatchingKeysForTargetId(t,e){const i=this.As.hs(e);return _t.resolve(i)}containsKey(t,e){return _t.resolve(this.As.containsKey(e))}}class ld{constructor(t,e){this.bs={},this.Le=new Qo(0),this.Be=!1,this.Be=!0,this.referenceDelegate=t(this),this.ze=new V1(this),this.Ht=new IA,this.He=new mp(this.Ht,i=>this.referenceDelegate.Ps(i)),this.N=new Cw(e),this.Je=new OI(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(t){let e=this.bs[t.toKey()];return e||(e=new Lw(this.Ht,this.referenceDelegate),this.bs[t.toKey()]=e),e}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(t,e,i){xt("MemoryPersistence","Starting transaction:",t);const r=new U1(this.Le.next());return this.referenceDelegate.vs(),i(r).next(a=>this.referenceDelegate.Vs(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ss(t,e){return _t.or(Object.values(this.bs).map(i=>()=>i.containsKey(t,e)))}}class U1 extends vI{constructor(t){super(),this.currentSequenceNumber=t}}class NA{constructor(t){this.persistence=t,this.Ds=new Fw,this.Cs=null}static Ns(t){return new NA(t)}get xs(){if(this.Cs)return this.Cs;throw qt()}addReference(t,e,i){return this.Ds.addReference(i,e),this.xs.delete(i.toString()),_t.resolve()}removeReference(t,e,i){return this.Ds.removeReference(i,e),this.xs.add(i.toString()),_t.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),_t.resolve()}removeTarget(t,e){this.Ds.cs(e.targetId).forEach(r=>this.xs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(a=>this.xs.add(a.toString()))}).next(()=>i.removeTargetData(t,e))}vs(){this.Cs=new Set}Vs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _t.forEach(this.xs,i=>{const r=jt.fromPath(i);return this.ks(t,r).next(a=>{a||e.removeEntry(r)})}).next(()=>(this.Cs=null,e.apply(t)))}updateLimboDocument(t,e){return this.ks(t,e).next(i=>{i?this.xs.delete(e.toString()):this.xs.add(e.toString())})}Ps(t){return 0}ks(t,e){return _t.or([()=>_t.resolve(this.Ds.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ss(t,e)])}}function FA(n,t){return`firestore_clients_${n}_${t}`}function yp(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function xm(n,t){return`firestore_targets_${n}_${t}`}class Sm{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static $s(t,e,i){const r=JSON.parse(i);let a,h="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return h&&r.error&&(h="string"==typeof r.error.message&&"string"==typeof r.error.code,h&&(a=new bt(r.error.code,r.error.message))),h?new Sm(t,e,r.state,a):(Li("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Tl{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static $s(t,e){const i=JSON.parse(e);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new bt(i.error.code,i.error.message))),a?new Tl(t,i.state,r):(Li("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class LA{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static $s(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=aw();for(let h=0;r&&h<i.activeTargetIds.length;++h)r=Jo(i.activeTargetIds[h]),a=a.add(i.activeTargetIds[h]);return r?new LA(t,a):(Li("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class _p{constructor(t,e){this.clientId=t,this.onlineState=e}static $s(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new _p(e.clientId,e.onlineState):(Li("SharedClientState",`Failed to parse online state: ${t}`),null)}}class BA{constructor(){this.activeTargetIds=aw()}Fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ms(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Os(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class VA{constructor(t,e,i,r,a){this.window=t,this.Oe=e,this.persistenceKey=i,this.Ls=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new vi(Cn),this.started=!1,this.Ks=[];const h=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.js=FA(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new BA),this.Ws=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(f){return`firestore_bundle_loaded_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ft.Z)(function*(){const e=yield t.syncEngine.pn();for(const r of e){if(r===t.Ls)continue;const a=t.getItem(FA(t.persistenceKey,r));if(a){const h=LA.$s(r,a);h&&(t.qs=t.qs.insert(h.clientId,h))}}t.Ys();const i=t.storage.getItem(t.Hs);if(i){const r=t.Xs(i);r&&t.Zs(r)}for(const r of t.Ks)t.Us(r);t.Ks=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Qs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(t){let e=!1;return this.qs.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.ei(t,"pending")}updateMutationState(t,e,i){this.ei(t,e,i),this.ni(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(xm(this.persistenceKey,t));if(i){const r=Tl.$s(t,i);r&&(e=r.state)}}return this.si.Fs(t),this.Ys(),e}removeLocalQueryTarget(t){this.si.Ms(t),this.Ys()}isLocalQueryTarget(t){return this.si.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(xm(this.persistenceKey,t))}updateQueryState(t,e,i){this.ii(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.ni(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.ri(t)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return xt("SharedClientState","READ",t,e),e}setItem(t,e){xt("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){xt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}Us(t){var e=this;const i=t;if(i.storageArea===this.storage){if(xt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.js)return void Li("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,ft.Z)(function*(){if(e.started){if(null!==i.key)if(e.Ws.test(i.key)){if(null==i.newValue){const r=e.ai(i.key);return e.ci(r,null)}{const r=e.ui(i.key,i.newValue);if(r)return e.ci(r.clientId,r)}}else if(e.Gs.test(i.key)){if(null!==i.newValue){const r=e.hi(i.key,i.newValue);if(r)return e.li(r)}}else if(e.zs.test(i.key)){if(null!==i.newValue){const r=e.fi(i.key,i.newValue);if(r)return e.di(r)}}else if(i.key===e.Hs){if(null!==i.newValue){const r=e.Xs(i.newValue);if(r)return e.Zs(r)}}else if(i.key===e.Qs){const r=function(a){let h=Qo.T;if(null!=a)try{const f=JSON.parse(a);sn("number"==typeof f),h=f}catch(f){Li("SharedClientState","Failed to read sequence number from WebStorage",f)}return h}(i.newValue);r!==Qo.T&&e.sequenceNumberHandler(r)}else if(i.key===e.Js)return e.syncEngine.wi()}else e.Ks.push(i)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(t,e,i){const r=new Sm(this.currentUser,t,e,i),a=yp(this.persistenceKey,this.currentUser,t);this.setItem(a,r.Os())}ni(t){const e=yp(this.persistenceKey,this.currentUser,t);this.removeItem(e)}ri(t){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:t}))}ii(t,e,i){const r=xm(this.persistenceKey,t),a=new Tl(t,e,i);this.setItem(r,a.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(t){const e=this.Ws.exec(t);return e?e[1]:null}ui(t,e){const i=this.ai(t);return LA.$s(i,e)}hi(t,e){const i=this.Gs.exec(t),r=Number(i[1]);return Sm.$s(new gr(void 0!==i[2]?i[2]:null),r,e)}fi(t,e){const i=this.zs.exec(t),r=Number(i[1]);return Tl.$s(r,e)}Xs(t){return _p.$s(t)}li(t){var e=this;return(0,ft.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine._i(t.batchId,t.state,t.error);xt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}di(t){return this.syncEngine.mi(t.targetId,t.state,t.error)}ci(t,e){const i=e?this.qs.insert(t,e):this.qs.remove(t),r=this.ti(this.qs),a=this.ti(i),h=[],f=[];return a.forEach(m=>{r.has(m)||h.push(m)}),r.forEach(m=>{a.has(m)||f.push(m)}),this.syncEngine.gi(h,f).then(()=>{this.qs=i})}Zs(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ti(t){let e=aw();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class Bw{constructor(){this.yi=new BA,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.yi.Fs(t),this.pi[t]||"not-current"}updateQueryState(t,e,i){this.pi[t]=e}removeLocalQueryTarget(t){this.yi.Ms(t)}isLocalQueryTarget(t){return this.yi.activeTargetIds.has(t)}clearQueryState(t){delete this.pi[t]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(t){return this.yi.activeTargetIds.has(t)}start(){return this.yi=new BA,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class UA{Ti(t){}shutdown(){}}class PI{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(t){this.bi.push(t)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){xt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.bi)t(0)}Ri(){xt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.bi)t(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Vw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Uw{constructor(t){this.vi=t.vi,this.Vi=t.Vi}Si(t){this.Di=t}Ci(t){this.Ni=t}onMessage(t){this.xi=t}close(){this.Vi()}send(t){this.vi(t)}ki(){this.Di()}$i(t){this.Ni(t)}Oi(t){this.xi(t)}}class OF extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Fi=(t.ssl?"https":"http")+"://"+t.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(t,e,i,r){const a=this.Bi(t,e);xt("RestConnection","Sending: ",a,i);const h={};return this.Ui(h,r),this.qi(t,a,h,i).then(f=>(xt("RestConnection","Received: ",f),f),f=>{throw Zh("RestConnection",`${t} failed with error: `,f,"url: ",a,"request:",i),f})}Ki(t,e,i,r){return this.Li(t,e,i,r)}Ui(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/"+wu,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(const i in e.authHeaders)e.authHeaders.hasOwnProperty(i)&&(t[i]=e.authHeaders[i])}Bi(t,e){return`${this.Fi}/v1/${e}:${Vw[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}qi(t,e,i,r){return new Promise((a,h)=>{const f=new ES;f.listenOnce(IF.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case nA.NO_ERROR:const b=f.getResponseJson();xt("Connection","XHR received:",JSON.stringify(b)),a(b);break;case nA.TIMEOUT:xt("Connection",'RPC "'+t+'" timed out'),h(new bt(ut.DEADLINE_EXCEEDED,"Request time out"));break;case nA.HTTP_ERROR:const F=f.getStatus();if(xt("Connection",'RPC "'+t+'" failed with status:',F,"response text:",f.getResponseText()),F>0){const K=f.getResponseJson().error;if(K&&K.status&&K.message){const we=function(Re){const qe=Re.toLowerCase().replace(/_/g,"-");return Object.values(ut).indexOf(qe)>=0?qe:ut.UNKNOWN}(K.status);h(new bt(we,K.message))}else h(new bt(ut.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new bt(ut.UNAVAILABLE,"Connection failed."));break;default:qt()}}finally{xt("Connection",'RPC "'+t+'" completed.')}});const m=JSON.stringify(r);f.send(e,"POST",m,i,15)})}ji(t,e){const i=[this.Fi,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Hb(),a=Gb(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new zb({})),this.Ui(h.initMessageHeaders,e),(0,Pe.uI)()||(0,Pe.b$)()||(0,Pe.d)()||(0,Pe.w1)()||(0,Pe.Mn)()||(0,Pe.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const f=i.join("");xt("Connection","Creating WebChannel: "+f,h);const m=r.createWebChannel(f,h);let b=!1,F=!1;const K=new Uw({vi:Re=>{F?xt("Connection","Not sending because WebChannel is closed:",Re):(b||(xt("Connection","Opening WebChannel transport."),m.open(),b=!0),xt("Connection","WebChannel sending:",Re),m.send(Re))},Vi:()=>m.close()}),we=(Re,qe,rt)=>{Re.listen(qe,ht=>{try{rt(ht)}catch(St){setTimeout(()=>{throw St},0)}})};return we(m,rA.EventType.OPEN,()=>{F||xt("Connection","WebChannel transport opened.")}),we(m,rA.EventType.CLOSE,()=>{F||(F=!0,xt("Connection","WebChannel transport closed"),K.$i())}),we(m,rA.EventType.ERROR,Re=>{F||(F=!0,Zh("Connection","WebChannel transport errored:",Re),K.$i(new bt(ut.UNAVAILABLE,"The operation could not be completed")))}),we(m,rA.EventType.MESSAGE,Re=>{var qe;if(!F){const rt=Re.data[0];sn(!!rt);const ht=rt,St=ht.error||(null===(qe=ht[0])||void 0===qe?void 0:qe.error);if(St){xt("Connection","WebChannel received error:",St);const Ft=St.status;let zt=function(qn){const Ui=Bi[qn];if(void 0!==Ui)return XS(Ui)}(Ft),Wt=St.message;void 0===zt&&(zt=ut.INTERNAL,Wt="Unknown error status: "+Ft+" with message "+St.message),F=!0,K.$i(new bt(zt,Wt)),m.close()}else xt("Connection","WebChannel received:",rt),K.Oi(rt)}}),we(a,r1.STAT_EVENT,Re=>{Re.stat===iA.PROXY?xt("Connection","Detected buffering proxy"):Re.stat===iA.NOPROXY&&xt("Connection","Detected no buffering proxy")}),setTimeout(()=>{K.ki()},0),K}}function j1(){return"undefined"!=typeof window?window:null}function on(){return"undefined"!=typeof document?document:null}function jA(n){return new y1(n,!0)}class cd{constructor(t,e,i=1e3,r=1.5,a=6e4){this.Oe=t,this.timerId=e,this.Qi=i,this.Wi=r,this.Gi=a,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(t){this.cancel();const e=Math.floor(this.zi+this.Zi()),i=Math.max(0,Date.now()-this.Ji),r=Math.max(0,e-i);r>0&&xt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Ji=Date.now(),t())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class NI{constructor(t,e,i,r,a,h){this.Oe=t,this.er=i,this.nr=r,this.credentialsProvider=a,this.listener=h,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new cd(t,e)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var t=this;return(0,ft.Z)(function*(){t.ar()&&(yield t.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(t){this._r(),this.stream.send(t)}dr(){var t=this;return(0,ft.Z)(function*(){if(t.cr())return t.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(t,e){var i=this;return(0,ft.Z)(function*(){i._r(),i.rr.cancel(),i.sr++,3!==t?i.rr.reset():e&&e.code===ut.RESOURCE_EXHAUSTED?(Li(e.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),i.rr.Yi()):e&&e.code===ut.UNAUTHENTICATED&&i.credentialsProvider.invalidateToken(),null!==i.stream&&(i.mr(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Ci(e)})()}mr(){}auth(){this.state=1;const t=this.gr(this.sr),e=this.sr;this.credentialsProvider.getToken().then(i=>{this.sr===e&&this.yr(i)},i=>{t(()=>{const r=new bt(ut.UNKNOWN,"Fetching auth token failed: "+i.message);return this.pr(r)})})}yr(t){const e=this.gr(this.sr);this.stream=this.Tr(t),this.stream.Si(()=>{e(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(i=>{e(()=>this.pr(i))}),this.stream.onMessage(i=>{e(()=>this.onMessage(i))})}ur(){var t=this;this.state=4,this.rr.Xi((0,ft.Z)(function*(){t.state=0,t.start()}))}pr(t){return xt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(3,t)}gr(t){return e=>{this.Oe.enqueueAndForget(()=>this.sr===t?e():(xt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class H1 extends NI{constructor(t,e,i,r,a){super(t,"listen_stream_connection_backoff","listen_stream_idle",e,i,a),this.N=r}Tr(t){return this.nr.ji("Listen",t)}onMessage(t){this.rr.reset();const e=function(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(m=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:qt(),r=t.targetChange.targetIds||[],a=function(m,b){return m.D?(sn(void 0===b||"string"==typeof b),mr.fromBase64String(b||"")):(sn(void 0===b||b instanceof Uint8Array),mr.fromUint8Array(b||new Uint8Array))}(n,t.targetChange.resumeToken),h=t.targetChange.cause,f=h&&function(m){const b=void 0===m.code?ut.UNKNOWN:XS(m.code);return new bt(b,m.message||"")}(h);e=new oI(i,r,a,f||null)}else if("documentChange"in t){const i=t.documentChange,r=Ta(n,i.document.name),a=bi(i.document.updateTime),h=new Or({mapValue:{fields:i.document.fields}}),f=Jn.newFoundDocument(r,a,h);e=new id(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in t){const i=t.documentDelete,r=Ta(n,i.document),a=i.readTime?bi(i.readTime):gn.min(),h=Jn.newNoDocument(r,a);e=new id([],i.removedTargetIds||[],h.key,h)}else if("documentRemove"in t){const i=t.documentRemove,r=Ta(n,i.document);e=new id([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return qt();{const i=t.filter,a=new bA(i.count||0);e=new sI(i.targetId,a)}}var m;return e}(this.N,t),i=function(r){if(!("targetChange"in r))return gn.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?gn.min():a.readTime?bi(a.readTime):gn.min()}(t);return this.listener.Er(e,i)}Ir(t){const e={};e.database=pm(this.N),e.addTarget=function(r,a){let h;const f=a.target;return h=om(f)?{documents:fI(r,f)}:{query:gw(r,f)},h.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?h.resumeToken=cI(r,a.resumeToken):a.snapshotVersion.compareTo(gn.min())>0&&(h.readTime=ip(r,a.snapshotVersion.toTimestamp())),h}(this.N,t);const i=function(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return qt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.wr(e)}Ar(t){const e={};e.database=pm(this.N),e.removeTarget=t,this.wr(e)}}class G1 extends NI{constructor(t,e,i,r,a){super(t,"write_stream_connection_backoff","write_stream_idle",e,i,a),this.N=r,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Tr(t){return this.nr.ji("Write",t)}onMessage(t){if(sn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Rr){this.rr.reset();const e=function(n,t){return n&&n.length>0?(sn(void 0!==t),n.map(e=>function(i,r){let a=bi(i.updateTime?i.updateTime:r);return a.isEqual(gn.min())&&(a=bi(r)),new Mi(a,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=bi(t.commitTime);return this.listener.vr(i,e)}return sn(!t.writeResults||0===t.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const t={};t.database=pm(this.N),this.wr(t)}Pr(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>EA(this.N,i))};this.wr(e)}}class PF extends class{}{constructor(t,e,i){super(),this.credentials=t,this.nr=e,this.N=i,this.Dr=!1}Cr(){if(this.Dr)throw new bt(ut.FAILED_PRECONDITION,"The client has already been terminated.")}Li(t,e,i){return this.Cr(),this.credentials.getToken().then(r=>this.nr.Li(t,e,i,r)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ut.UNAUTHENTICATED&&this.credentials.invalidateToken(),r):new bt(ut.UNKNOWN,r.toString())})}Ki(t,e,i){return this.Cr(),this.credentials.getToken().then(r=>this.nr.Ki(t,e,i,r)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ut.UNAUTHENTICATED&&this.credentials.invalidateToken(),r):new bt(ut.UNKNOWN,r.toString())})}terminate(){this.Dr=!0}}class NF{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(t){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Fr("Offline")))}set(t){this.Br(),this.Nr=0,"Online"===t&&(this.$r=!1),this.Fr(t)}Fr(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}Mr(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Li(e),this.$r=!1):xt("OnlineStateTracker",e)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class z1{constructor(t,e,i,r,a){var h=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=a,this.Qr.Ti(f=>{i.enqueueAndForget((0,ft.Z)(function*(){var m;Dl(h)&&(xt("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,ft.Z)(function*(b){const F=kt(b);F.Kr.add(4),yield Ap(F),F.Wr.set("Unknown"),F.Kr.delete(4),yield Wi(F)}),function(b){return m.apply(this,arguments)})(h))}))}),this.Wr=new NF(i,r)}}function Wi(n){return jw.apply(this,arguments)}function jw(){return(jw=(0,ft.Z)(function*(n){if(Dl(n))for(const t of n.jr)yield t(!0)})).apply(this,arguments)}function Ap(n){return Im.apply(this,arguments)}function Im(){return(Im=(0,ft.Z)(function*(n){for(const t of n.jr)yield t(!1)})).apply(this,arguments)}function HA(n,t){const e=kt(n);e.qr.has(t.targetId)||(e.qr.set(t.targetId,t),zw(e)?Gw(e):bp(e).cr()&&Hw(e,t))}function Tm(n,t){const e=kt(n),i=bp(e);e.qr.delete(t),i.cr()&&FI(e,t),0===e.qr.size&&(i.cr()?i.lr():Dl(e)&&e.Wr.set("Unknown"))}function Hw(n,t){n.Gr.Y(t.targetId),bp(n).Ir(t)}function FI(n,t){n.Gr.Y(t),bp(n).Ar(t)}function Gw(n){n.Gr=new dm({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Tt:t=>n.qr.get(t)||null}),bp(n).start(),n.Wr.Or()}function zw(n){return Dl(n)&&!bp(n).ar()&&n.qr.size>0}function Dl(n){return 0===kt(n).Kr.size}function LI(n){n.Gr=void 0}function W1(n){return GA.apply(this,arguments)}function GA(){return(GA=(0,ft.Z)(function*(n){n.qr.forEach((t,e)=>{Hw(n,t)})})).apply(this,arguments)}function Ww(n,t){return qw.apply(this,arguments)}function qw(){return(qw=(0,ft.Z)(function*(n,t){LI(n),zw(n)?(n.Wr.Lr(t),Gw(n)):n.Wr.set("Unknown")})).apply(this,arguments)}function FF(n,t,e){return Zw.apply(this,arguments)}function Zw(){return(Zw=(0,ft.Z)(function*(n,t,e){if(n.Wr.set("Online"),t instanceof oI&&2===t.state&&t.cause)try{yield(i=(0,ft.Z)(function*(r,a){const h=a.cause;for(const f of a.targetIds)r.qr.has(f)&&(yield r.remoteSyncer.rejectListen(f,h),r.qr.delete(f),r.Gr.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,t)}catch(i){xt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield zA(n,i)}else if(t instanceof id?n.Gr.rt(t):t instanceof sI?n.Gr.ft(t):n.Gr.ct(t),!e.isEqual(gn.min()))try{const i=yield ad(n.localStore);e.compareTo(i)>=0&&(yield function(r,a){const h=r.Gr._t(a);return h.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const b=r.qr.get(m);b&&r.qr.set(m,b.withResumeToken(f.resumeToken,a))}}),h.targetMismatches.forEach(f=>{const m=r.qr.get(f);if(!m)return;r.qr.set(f,m.withResumeToken(mr.EMPTY_BYTE_STRING,m.snapshotVersion)),FI(r,f);const b=new Sl(m.target,f,1,m.sequenceNumber);Hw(r,b)}),r.remoteSyncer.applyRemoteEvent(h)}(n,e))}catch(i){xt("RemoteStore","Failed to raise snapshot:",i),yield zA(n,i)}var i})).apply(this,arguments)}function zA(n,t,e){return Yw.apply(this,arguments)}function Yw(){return(Yw=(0,ft.Z)(function*(n,t,e){if(!Du(t))throw t;n.Kr.add(1),yield Ap(n),n.Wr.set("Offline"),e||(e=()=>ad(n.localStore)),n.asyncQueue.enqueueRetryable((0,ft.Z)(function*(){xt("RemoteStore","Retrying IndexedDB access"),yield e(),n.Kr.delete(1),yield Wi(n)}))})).apply(this,arguments)}function BI(n,t){return t().catch(e=>zA(n,e,t))}function vp(n){return Kw.apply(this,arguments)}function Kw(){return(Kw=(0,ft.Z)(function*(n){const t=kt(n),e=ud(t);let i=t.Ur.length>0?t.Ur[t.Ur.length-1].batchId:-1;for(;Dm(t);)try{const r=yield hn(t.localStore,i);if(null===r){0===t.Ur.length&&e.lr();break}i=r.batchId,q1(t,r)}catch(r){yield zA(t,r)}VI(t)&&Qw(t)})).apply(this,arguments)}function Dm(n){return Dl(n)&&n.Ur.length<10}function q1(n,t){n.Ur.push(t);const e=ud(n);e.cr()&&e.br&&e.Pr(t.mutations)}function VI(n){return Dl(n)&&!ud(n).ar()&&n.Ur.length>0}function Qw(n){ud(n).start()}function km(n){return UI.apply(this,arguments)}function UI(){return(UI=(0,ft.Z)(function*(n){ud(n).Sr()})).apply(this,arguments)}function jI(n){return $w.apply(this,arguments)}function $w(){return($w=(0,ft.Z)(function*(n){const t=ud(n);for(const e of n.Ur)t.Pr(e.mutations)})).apply(this,arguments)}function Z1(n,t,e){return Jw.apply(this,arguments)}function Jw(){return(Jw=(0,ft.Z)(function*(n,t,e){const i=n.Ur.shift(),r=ww.from(i,t,e);yield BI(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield vp(n)})).apply(this,arguments)}function Y1(n,t){return Xw.apply(this,arguments)}function Xw(){return(Xw=(0,ft.Z)(function*(n,t){var e;t&&ud(n).br&&(yield(e=(0,ft.Z)(function*(i,r){if(sw(a=r.code)&&a!==ut.ABORTED){const h=i.Ur.shift();ud(i).hr(),yield BI(i,()=>i.remoteSyncer.rejectFailedWrite(h.batchId,r)),yield vp(i)}var a}),function(i,r){return e.apply(this,arguments)})(n,t)),VI(n)&&Qw(n)})).apply(this,arguments)}function WA(n,t){return eC.apply(this,arguments)}function eC(){return(eC=(0,ft.Z)(function*(n,t){const e=kt(n);t?(e.Kr.delete(2),yield Wi(e)):t||(e.Kr.add(2),yield Ap(e),e.Wr.set("Unknown"))})).apply(this,arguments)}function bp(n){return n.zr||(n.zr=function(t,e,i){const r=kt(t);return r.Cr(),new H1(e,r.nr,r.credentials,r.N,i)}(n.datastore,n.asyncQueue,{Si:W1.bind(null,n),Ci:Ww.bind(null,n),Er:FF.bind(null,n)}),n.jr.push(function(){var t=(0,ft.Z)(function*(e){e?(n.zr.hr(),zw(n)?Gw(n):n.Wr.set("Unknown")):(yield n.zr.stop(),LI(n))});return function(e){return t.apply(this,arguments)}}())),n.zr}function ud(n){return n.Hr||(n.Hr=function(t,e,i){const r=kt(t);return r.Cr(),new G1(e,r.nr,r.credentials,r.N,i)}(n.datastore,n.asyncQueue,{Si:km.bind(null,n),Ci:Y1.bind(null,n),Vr:jI.bind(null,n),vr:Z1.bind(null,n)}),n.jr.push(function(){var t=(0,ft.Z)(function*(e){e?(n.Hr.hr(),yield vp(n)):(yield n.Hr.stop(),n.Ur.length>0&&(xt("RemoteStore",`Stopping write stream with ${n.Ur.length} pending writes`),n.Ur=[]))});return function(e){return t.apply(this,arguments)}}())),n.Hr}class HI{constructor(t,e,i,r,a){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(t,e,i,r,a){const h=Date.now()+i,f=new HI(t,e,h,r,a);return f.start(i),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new bt(ut.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mm(n,t){if(Li("AsyncQueue",`${t}: ${n}`),Du(n))return new bt(ut.UNAVAILABLE,`${t}: ${n}`);throw n}class Nu{constructor(t){this.comparator=t?(e,i)=>t(e,i)||jt.comparator(e.key,i.key):(e,i)=>jt.comparator(e.key,i.key),this.keyedMap=ow(),this.sortedSet=new vi(this.comparator)}static emptySet(t){return new Nu(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Nu)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Nu;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class GI{constructor(){this.Jr=new vi(jt.comparator)}track(t){const e=t.doc.key,i=this.Jr.get(e);i?0!==t.type&&3===i.type?this.Jr=this.Jr.insert(e,t):3===t.type&&1!==i.type?this.Jr=this.Jr.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Jr=this.Jr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Jr=this.Jr.remove(e):1===t.type&&2===i.type?this.Jr=this.Jr.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):qt():this.Jr=this.Jr.insert(e,t)}Yr(){const t=[];return this.Jr.inorderTraversal((e,i)=>{t.push(i)}),t}}class wp{constructor(t,e,i,r,a,h,f,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=m}static fromInitialDocuments(t,e,i,r){const a=[];return e.forEach(h=>{a.push({type:0,doc:h})}),new wp(t,e,Nu.emptySet(e),a,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&$f(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class K1{constructor(){this.Xr=void 0,this.listeners=[]}}class Q1{constructor(){this.queries=new od(t=>$b(t),$f),this.onlineState="Unknown",this.Zr=new Set}}function tC(n,t){return nC.apply(this,arguments)}function nC(){return(nC=(0,ft.Z)(function*(n,t){const e=kt(n),i=t.query;let r=!1,a=e.queries.get(i);if(a||(r=!0,a=new K1),r)try{a.Xr=yield e.onListen(i)}catch(h){const f=Mm(h,`Initialization of query '${_A(t.query)}' failed`);return void t.onError(f)}e.queries.set(i,a),a.listeners.push(t),t.eo(e.onlineState),a.Xr&&t.no(a.Xr)&&Ar(e)})).apply(this,arguments)}function qA(n,t){return Rm.apply(this,arguments)}function Rm(){return(Rm=(0,ft.Z)(function*(n,t){const e=kt(n),i=t.query;let r=!1;const a=e.queries.get(i);if(a){const h=a.listeners.indexOf(t);h>=0&&(a.listeners.splice(h,1),r=0===a.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)})).apply(this,arguments)}function $1(n,t){const e=kt(n);let i=!1;for(const r of t){const h=e.queries.get(r.query);if(h){for(const f of h.listeners)f.no(r)&&(i=!0);h.Xr=r}}i&&Ar(e)}function Cp(n,t,e){const i=kt(n),r=i.queries.get(t);if(r)for(const a of r.listeners)a.onError(e);i.queries.delete(t)}function Ar(n){n.Zr.forEach(t=>{t.next()})}class ZA{constructor(t,e,i){this.query=t,this.so=e,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=i||{}}no(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new wp(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.io?this.oo(t)&&(this.so.next(t),e=!0):this.ao(t,this.onlineState)&&(this.co(t),e=!0),this.ro=t,e}onError(t){this.so.error(t)}eo(t){this.onlineState=t;let e=!1;return this.ro&&!this.io&&this.ao(this.ro,t)&&(this.co(this.ro),e=!0),e}ao(t,e){return!t.fromCache||!(this.options.uo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}oo(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(t){t=wp.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)}}class Ra{constructor(t,e){this.payload=t,this.byteLength=e}ho(){return"metadata"in this.payload}}class YA{constructor(t){this.N=t}zn(t){return Ta(this.N,t)}Hn(t){return t.metadata.exists?fw(this.N,t.document,!1):Jn.newNoDocument(this.zn(t.metadata.name),this.Jn(t.metadata.readTime))}Jn(t){return bi(t)}}class J1{constructor(t,e,i){this.lo=t,this.localStore=e,this.N=i,this.queries=[],this.documents=[],this.progress=iC(t)}fo(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}wo(t){const e=new Map,i=new YA(this.N);for(const r of t)if(r.metadata.queries){const a=i.zn(r.metadata.name);for(const h of r.metadata.queries){const f=(e.get(h)||Gn()).add(a);e.set(h,f)}}return e}complete(){var t=this;return(0,ft.Z)(function*(){const e=yield function(n,t,e,i){return Zs.apply(this,arguments)}(t.localStore,new YA(t.N),t.documents,t.lo.id),i=t.wo(t.documents);for(const r of t.queries)yield Ci(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",new MI(Object.assign({},t.progress),e)})()}}function iC(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class rC{constructor(t){this.key=t}}class sC{constructor(t){this.key=t}}class zI{constructor(t,e){this.query=t,this._o=e,this.mo=null,this.current=!1,this.yo=Gn(),this.mutatedKeys=Gn(),this.po=Jb(t),this.To=new Nu(this.po)}get Eo(){return this._o}Io(t,e){const i=e?e.Ao:new GI,r=e?e.To:this.To;let a=e?e.mutatedKeys:this.mutatedKeys,h=r,f=!1;const m=fA(this.query)&&r.size===this.query.limit?r.last():null,b=pA(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((F,K)=>{const we=r.get(F),Re=Jh(this.query,K)?K:null,qe=!!we&&this.mutatedKeys.has(we.key),rt=!!Re&&(Re.hasLocalMutations||this.mutatedKeys.has(Re.key)&&Re.hasCommittedMutations);let ht=!1;we&&Re?we.data.isEqual(Re.data)?qe!==rt&&(i.track({type:3,doc:Re}),ht=!0):this.Ro(we,Re)||(i.track({type:2,doc:Re}),ht=!0,(m&&this.po(Re,m)>0||b&&this.po(Re,b)<0)&&(f=!0)):!we&&Re?(i.track({type:0,doc:Re}),ht=!0):we&&!Re&&(i.track({type:1,doc:we}),ht=!0,(m||b)&&(f=!0)),ht&&(Re?(h=h.add(Re),a=rt?a.add(F):a.delete(F)):(h=h.delete(F),a=a.delete(F)))}),fA(this.query)||pA(this.query))for(;h.size>this.query.limit;){const F=fA(this.query)?h.last():h.first();h=h.delete(F.key),a=a.delete(F.key),i.track({type:1,doc:F})}return{To:h,Ao:i,Ln:f,mutatedKeys:a}}Ro(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.To;this.To=t.To,this.mutatedKeys=t.mutatedKeys;const a=t.Ao.Yr();a.sort((b,F)=>function(K,we){const Re=qe=>{switch(qe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qt()}};return Re(K)-Re(we)}(b.type,F.type)||this.po(b.doc,F.doc)),this.bo(i);const h=e?this.Po():[],f=0===this.yo.size&&this.current?1:0,m=f!==this.mo;return this.mo=f,0!==a.length||m?{snapshot:new wp(this.query,t.To,r,a,t.mutatedKeys,0===f,m,!1),vo:h}:{vo:h}}eo(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({To:this.To,Ao:new GI,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(t){return!this._o.has(t)&&!!this.To.has(t)&&!this.To.get(t).hasLocalMutations}bo(t){t&&(t.addedDocuments.forEach(e=>this._o=this._o.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this._o=this._o.delete(e)),this.current=t.current)}Po(){if(!this.current)return[];const t=this.yo;this.yo=Gn(),this.To.forEach(i=>{this.Vo(i.key)&&(this.yo=this.yo.add(i.key))});const e=[];return t.forEach(i=>{this.yo.has(i)||e.push(new sC(i))}),this.yo.forEach(i=>{t.has(i)||e.push(new rC(i))}),e}So(t){this._o=t.Gn,this.yo=Gn();const e=this.Io(t.documents);return this.applyChanges(e,!0)}Do(){return wp.fromInitialDocuments(this.query,this.To,this.mutatedKeys,0===this.mo)}}class X1{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class eR{constructor(t){this.key=t,this.Co=!1}}class WI{constructor(t,e,i,r,a,h){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=h,this.No={},this.xo=new od(f=>$b(f),$f),this.ko=new Map,this.$o=new Set,this.Oo=new vi(jt.comparator),this.Fo=new Map,this.Mo=new Fw,this.Lo={},this.Bo=new Map,this.Uo=sd.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function tR(n,t){return qI.apply(this,arguments)}function qI(){return(qI=(0,ft.Z)(function*(n,t){const e=tv(n);let i,r;const a=e.xo.get(t);if(a)i=a.targetId,e.sharedClientState.addLocalQueryTarget(i),r=a.view.Do();else{const h=yield Nr(e.localStore,yo(t)),f=e.sharedClientState.addLocalQueryTarget(h.targetId);i=h.targetId,r=yield oC(e,t,i,"current"===f),e.isPrimaryClient&&HA(e.remoteStore,h)}return r})).apply(this,arguments)}function oC(n,t,e,i){return aC.apply(this,arguments)}function aC(){return(aC=(0,ft.Z)(function*(n,t,e,i){n.Ko=(F,K,we)=>{return(Re=(0,ft.Z)(function*(qe,rt,ht,St){let Ft=rt.view.Io(ht);Ft.Ln&&(Ft=yield Rw(qe.localStore,rt.query,!1).then(({documents:qn})=>rt.view.Io(qn,Ft)));const zt=St&&St.targetChanges.get(rt.targetId),Wt=rt.view.applyChanges(Ft,qe.isPrimaryClient,zt);return JA(qe,rt.targetId,Wt.vo),Wt.snapshot}),function(qe,rt,ht,St){return Re.apply(this,arguments)})(n,F,K,we);var Re};const r=yield Rw(n.localStore,t,!0),a=new zI(t,r.Gn),h=a.Io(r.documents),f=np.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),m=a.applyChanges(h,n.isPrimaryClient,f);JA(n,e,m.vo);const b=new X1(t,e,a);return n.xo.set(t,b),n.ko.has(e)?n.ko.get(e).push(t):n.ko.set(e,[t]),m.snapshot})).apply(this,arguments)}function Ep(n,t){return ZI.apply(this,arguments)}function ZI(){return(ZI=(0,ft.Z)(function*(n,t){const e=kt(n),i=e.xo.get(t),r=e.ko.get(i.targetId);if(r.length>1)return e.ko.set(i.targetId,r.filter(a=>!$f(a,t))),void e.xo.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Pu(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Tm(e.remoteStore,i.targetId),xp(e,i.targetId)}).catch(dp))):(xp(e,i.targetId),yield Pu(e.localStore,i.targetId,!0))})).apply(this,arguments)}function lC(){return(lC=(0,ft.Z)(function*(n,t,e){const i=Fm(n);try{const r=yield function(a,h){const f=kt(a),m=ir.now(),b=h.reduce((K,we)=>K.add(we.key),Gn());let F;return f.persistence.runTransaction("Locally write mutations","readwrite",K=>f.Qn.Pn(K,b).next(we=>{F=we;const Re=[];for(const qe of h){const rt=QS(qe,F.get(qe.key));null!=rt&&Re.push(new Iu(qe.key,rt,Kb(rt.value.mapValue),rr.exists(!0)))}return f.In.addMutationBatch(K,m,Re,h)})).then(K=>(K.applyToLocalDocumentSet(F),{batchId:K.batchId,changes:F}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(a,h,f){let m=a.Lo[a.currentUser.toKey()];m||(m=new vi(Cn)),m=m.insert(h,f),a.Lo[a.currentUser.toKey()]=m}(i,r.batchId,e),yield kl(i,r.changes),yield vp(i.remoteStore)}catch(r){const a=Mm(r,"Failed to persist write");e.reject(a)}})).apply(this,arguments)}function nR(n,t){return KA.apply(this,arguments)}function KA(){return(KA=(0,ft.Z)(function*(n,t){const e=kt(n);try{const i=yield Cm(e.localStore,t);t.targetChanges.forEach((r,a)=>{const h=e.Fo.get(a);h&&(sn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?h.Co=!0:r.modifiedDocuments.size>0?sn(h.Co):r.removedDocuments.size>0&&(sn(h.Co),h.Co=!1))}),yield kl(e,i,t)}catch(i){yield dp(i)}})).apply(this,arguments)}function KI(n,t,e){const i=kt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.xo.forEach((a,h)=>{const f=h.view.eo(t);f.snapshot&&r.push(f.snapshot)}),function(a,h){const f=kt(a);f.onlineState=h;let m=!1;f.queries.forEach((b,F)=>{for(const K of F.listeners)K.eo(h)&&(m=!0)}),m&&Ar(f)}(i.eventManager,t),r.length&&i.No.Er(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function cC(n,t,e){return QA.apply(this,arguments)}function QA(){return(QA=(0,ft.Z)(function*(n,t,e){const i=kt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Fo.get(t),a=r&&r.key;if(a){let h=new vi(jt.comparator);h=h.insert(a,Jn.newNoDocument(a,gn.min()));const f=Gn().add(a),m=new wA(gn.min(),new Map,new Ri(Cn),h,f);yield nR(i,m),i.Oo=i.Oo.remove(a),i.Fo.delete(t),XA(i)}else yield Pu(i.localStore,t,!1).then(()=>xp(i,t,e)).catch(dp)})).apply(this,arguments)}function QI(n,t){return $A.apply(this,arguments)}function $A(){return($A=(0,ft.Z)(function*(n,t){const e=kt(n),i=t.batch.batchId;try{const r=yield Ou(e.localStore,t);fC(e,i,null),dC(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield kl(e,r)}catch(r){yield dp(r)}})).apply(this,arguments)}function $I(n,t,e){return uC.apply(this,arguments)}function uC(){return(uC=(0,ft.Z)(function*(n,t,e){const i=kt(n);try{const r=yield function(a,h){const f=kt(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let b;return f.In.lookupMutationBatch(m,h).next(F=>(sn(null!==F),b=F.keys(),f.In.removeMutationBatch(m,F))).next(()=>f.In.performConsistencyCheck(m)).next(()=>f.Qn.Pn(m,b))})}(i.localStore,t);fC(i,t,e),dC(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield kl(i,r)}catch(r){yield dp(r)}})).apply(this,arguments)}function hC(){return(hC=(0,ft.Z)(function*(n,t){const e=kt(n);Dl(e.remoteStore)||xt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const h=kt(a);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>h.In.getHighestUnacknowledgedBatchId(f))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Bo.get(i)||[];r.push(t),e.Bo.set(i,r)}catch(i){const r=Mm(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}})).apply(this,arguments)}function dC(n,t){(n.Bo.get(t)||[]).forEach(e=>{e.resolve()}),n.Bo.delete(t)}function fC(n,t,e){const i=kt(n);let r=i.Lo[i.currentUser.toKey()];if(r){const a=r.get(t);a&&(e?a.reject(e):a.resolve(),r=r.remove(t)),i.Lo[i.currentUser.toKey()]=r}}function xp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ko.get(t))n.xo.delete(i),e&&n.No.jo(i,e);n.ko.delete(t),n.isPrimaryClient&&n.Mo.cs(t).forEach(i=>{n.Mo.containsKey(i)||Sp(n,i)})}function Sp(n,t){n.$o.delete(t.path.canonicalString());const e=n.Oo.get(t);null!==e&&(Tm(n.remoteStore,e),n.Oo=n.Oo.remove(t),n.Fo.delete(e),XA(n))}function JA(n,t,e){for(const i of e)i instanceof rC?(n.Mo.addReference(i.key,t),JI(n,i)):i instanceof sC?(xt("SyncEngine","Document no longer in limbo: "+i.key),n.Mo.removeReference(i.key,t),n.Mo.containsKey(i.key)||Sp(n,i.key)):qt()}function JI(n,t){const e=t.key,i=e.path.canonicalString();n.Oo.get(e)||n.$o.has(i)||(xt("SyncEngine","New document in limbo: "+e),n.$o.add(i),XA(n))}function XA(n){for(;n.$o.size>0&&n.Oo.size<n.maxConcurrentLimboResolutions;){const t=n.$o.values().next().value;n.$o.delete(t);const e=new jt(Mn.fromString(t)),i=n.Uo.next();n.Fo.set(i,new eR(e)),n.Oo=n.Oo.insert(e,i),HA(n.remoteStore,new Sl(yo(Qf(e.path)),i,2,Qo.T))}}function kl(n,t,e){return ev.apply(this,arguments)}function ev(){return(ev=(0,ft.Z)(function*(n,t,e){const i=kt(n),r=[],a=[],h=[];var f;i.xo.isEmpty()||(i.xo.forEach((f,m)=>{h.push(i.Ko(m,t,e).then(b=>{if(b){i.isPrimaryClient&&i.sharedClientState.updateQueryState(m.targetId,b.fromCache?"not-current":"current"),r.push(b);const F=OA.kn(m.targetId,b);a.push(F)}}))}),yield Promise.all(h),i.No.Er(r),yield(f=(0,ft.Z)(function*(m,b){const F=kt(m);try{yield F.persistence.runTransaction("notifyLocalViewChanges","readwrite",K=>_t.forEach(b,we=>_t.forEach(we.Nn,Re=>F.persistence.referenceDelegate.addReference(K,we.targetId,Re)).next(()=>_t.forEach(we.xn,Re=>F.persistence.referenceDelegate.removeReference(K,we.targetId,Re)))))}catch(K){if(!Du(K))throw K;xt("LocalStore","Failed to update sequence numbers: "+K)}for(const K of b){const we=K.targetId;if(!K.fromCache){const Re=F.Un.get(we),rt=Re.withLastLimboFreeSnapshotVersion(Re.snapshotVersion);F.Un=F.Un.insert(we,rt)}}}),function(m,b){return f.apply(this,arguments)})(i.localStore,a))})).apply(this,arguments)}function XI(n,t){return pC.apply(this,arguments)}function pC(){return(pC=(0,ft.Z)(function*(n,t){const e=kt(n);if(!e.currentUser.isEqual(t)){xt("SyncEngine","User change. New user:",t.toKey());const i=yield gp(e.localStore,t);e.currentUser=t,(r=e).Bo.forEach(h=>{h.forEach(f=>{f.reject(new bt(ut.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Bo.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield kl(e,i.Wn)}var r})).apply(this,arguments)}function rR(n,t){const e=kt(n),i=e.Fo.get(t);if(i&&i.Co)return Gn().add(i.key);{let r=Gn();const a=e.ko.get(t);if(!a)return r;for(const h of a){const f=e.xo.get(h);r=r.unionWith(f.view.Eo)}return r}}function eT(n,t){return gC.apply(this,arguments)}function gC(){return(gC=(0,ft.Z)(function*(n,t){const e=kt(n),i=yield Rw(e.localStore,t.query,!0),r=t.view.So(i);return e.isPrimaryClient&&JA(e,t.targetId,r.vo),r})).apply(this,arguments)}function sR(n){return mC.apply(this,arguments)}function mC(){return(mC=(0,ft.Z)(function*(n){const t=kt(n);return Pw(t.localStore).then(e=>kl(t,e))})).apply(this,arguments)}function Om(n,t,e,i){return hd.apply(this,arguments)}function hd(){return(hd=(0,ft.Z)(function*(n,t,e,i){const r=kt(n),a=yield function(h,f){const m=kt(h),b=kt(m.In);return m.persistence.runTransaction("Lookup mutation documents","readonly",F=>b.Xt(F,f).next(K=>K?m.Qn.Pn(F,K):_t.resolve(null)))}(r.localStore,t);var f;null!==a?("pending"===e?yield vp(r.remoteStore):"acknowledged"===e||"rejected"===e?(fC(r,t,i||null),dC(r,t),f=t,kt(kt(r.localStore).In).te(f)):qt(),yield kl(r,a)):xt("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function Pm(){return(Pm=(0,ft.Z)(function*(n,t){const e=kt(n);if(tv(e),Fm(e),!0===t&&!0!==e.qo){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield Oa(e,i.toArray());e.qo=!0,yield WA(e.remoteStore,!0);for(const a of r)HA(e.remoteStore,a)}else if(!1===t&&!1!==e.qo){const i=[];let r=Promise.resolve();e.ko.forEach((a,h)=>{e.sharedClientState.isLocalQueryTarget(h)?i.push(h):r=r.then(()=>(xp(e,h),Pu(e.localStore,h,!0))),Tm(e.remoteStore,h)}),yield r,yield Oa(e,i),function(a){const h=kt(a);h.Fo.forEach((f,m)=>{Tm(h.remoteStore,m)}),h.Mo.us(),h.Fo=new Map,h.Oo=new vi(jt.comparator)}(e),e.qo=!1,yield WA(e.remoteStore,!1)}})).apply(this,arguments)}function Oa(n,t,e){return yC.apply(this,arguments)}function yC(){return(yC=(0,ft.Z)(function*(n,t,e){const i=kt(n),r=[],a=[];for(const h of t){let f;const m=i.ko.get(h);if(m&&0!==m.length){f=yield Nr(i.localStore,yo(m[0]));for(const b of m){const F=i.xo.get(b),K=yield eT(i,F);K.snapshot&&a.push(K.snapshot)}}else{const b=yield Ow(i.localStore,h);f=yield Nr(i.localStore,b),yield oC(i,Ip(b),h,!1)}r.push(f)}return i.No.Er(a),r})).apply(this,arguments)}function Ip(n){return WS(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function aR(n){const t=kt(n);return kt(kt(t.localStore).persistence).pn()}function lR(n,t,e,i){return tT.apply(this,arguments)}function tT(){return(tT=(0,ft.Z)(function*(n,t,e,i){const r=kt(n);if(r.qo)xt("SyncEngine","Ignoring unexpected query state notification.");else if(r.ko.has(t))switch(e){case"current":case"not-current":{const a=yield Pw(r.localStore),h=wA.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield kl(r,a,h);break}case"rejected":yield Pu(r.localStore,t,!0),xp(r,t,i);break;default:qt()}})).apply(this,arguments)}function _C(n,t,e){return Nm.apply(this,arguments)}function Nm(){return(Nm=(0,ft.Z)(function*(n,t,e){const i=tv(n);if(i.qo){for(const r of t){if(i.ko.has(r)){xt("SyncEngine","Adding an already active target "+r);continue}const a=yield Ow(i.localStore,r),h=yield Nr(i.localStore,a);yield oC(i,Ip(a),h.targetId,!1),HA(i.remoteStore,h)}for(const r of e)i.ko.has(r)&&(yield Pu(i.localStore,r,!1).then(()=>{Tm(i.remoteStore,r),xp(i,r)}).catch(dp))}})).apply(this,arguments)}function tv(n){const t=kt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=nR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=rR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cC.bind(null,t),t.No.Er=$1.bind(null,t.eventManager),t.No.jo=Cp.bind(null,t.eventManager),t}function Fm(n){const t=kt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=QI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$I.bind(null,t),t}class nT{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ft.Z)(function*(){e.N=jA(t.databaseInfo.databaseId),e.sharedClientState=e.Wo(t),e.persistence=e.Go(t),yield e.persistence.start(),e.gcScheduler=e.zo(t),e.localStore=e.Ho(t)})()}zo(t){return null}Ho(t){return F1(this.persistence,new wm,t.initialUser,this.N)}Go(t){return new ld(NA.Ns,this.N)}Wo(t){return new Bw}terminate(){var t=this;return(0,ft.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class iT extends nT{constructor(t,e,i){super(),this.Jo=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,ft.Z)(function*(){yield e().call(i,t),yield function(n){return Nw.apply(this,arguments)}(i.localStore),yield i.Jo.initialize(i,t),yield Fm(i.Jo.syncEngine),yield vp(i.Jo.remoteStore),yield i.persistence.nn(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Ho(t){return F1(this.persistence,new wm,t.initialUser,this.N)}zo(t){return new O1(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}Go(t){const e=Mw(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?_r.withCacheSize(this.cacheSizeBytes):_r.DEFAULT;return new MA(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,j1(),on(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(t){return new Bw}}class cR extends iT{constructor(t,e){super(t,e,!1),this.Jo=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,ft.Z)(function*(){yield e().call(i,t);const r=i.Jo.syncEngine;i.sharedClientState instanceof VA&&(i.sharedClientState.syncEngine={_i:Om.bind(null,r),mi:lR.bind(null,r),gi:_C.bind(null,r),pn:aR.bind(null,r),wi:sR.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.nn(function(){var a=(0,ft.Z)(function*(h){yield function(n,t){return Pm.apply(this,arguments)}(i.Jo.syncEngine,h),i.gcScheduler&&(h&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):h||i.gcScheduler.stop())});return function(h){return a.apply(this,arguments)}}())})()}Wo(t){const e=j1();if(!VA.bt(e))throw new bt(ut.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Mw(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new VA(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class vC{initialize(t,e){var i=this;return(0,ft.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>KI(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=XI.bind(null,i.syncEngine),yield WA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Q1}createDatastore(t){const e=jA(t.databaseInfo.databaseId),i=new OF(t.databaseInfo);return new PF(t.credentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,a=f=>KI(this.syncEngine,f,0),h=PI.bt()?new PI:new UA,new z1(e,i,r,a,h);var e,i,r,a,h}createSyncEngine(t,e){return function(i,r,a,h,f,m,b){const F=new WI(i,r,a,h,f,m);return b&&(F.qo=!0),F}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ft.Z)(function*(e){const i=kt(e);xt("RemoteStore","RemoteStore shutting down."),i.Kr.add(5),yield Ap(i),i.Qr.shutdown(),i.Wr.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function bC(n,t=10240){let e=0;return{read:()=>(0,ft.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,ft.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Tp{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Yo(this.observer.next,t)}error(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Xo(){this.muted=!0}Yo(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class rT{constructor(t,e){this.Zo=t,this.N=e,this.metadata=new nr,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(i=>{i&&i.ho()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Zo.cancel()}getMetadata(){var t=this;return(0,ft.Z)(function*(){return t.metadata.promise})()}Qo(){var t=this;return(0,ft.Z)(function*(){return yield t.getMetadata(),t.ea()})()}ea(){var t=this;return(0,ft.Z)(function*(){const e=yield t.na();if(null===e)return null;const i=t.ta.decode(e),r=Number(i);isNaN(r)&&t.sa(`length string (${i}) is not valid number`);const a=yield t.ia(r);return new Ra(JSON.parse(a),e.length+r)})()}ra(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}na(){var t=this;return(0,ft.Z)(function*(){for(;t.ra()<0&&!(yield t.oa()););if(0===t.buffer.length)return null;const e=t.ra();e<0&&t.sa("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}ia(t){var e=this;return(0,ft.Z)(function*(){for(;e.buffer.length<t;)(yield e.oa())&&e.sa("Reached the end of bundle when more is expected.");const i=e.ta.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}sa(t){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${t}`)}oa(){var t=this;return(0,ft.Z)(function*(){const e=yield t.Zo.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class sT{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ft.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new bt(ut.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ft.Z)(function*(a,h){const f=kt(a),m=pm(f.N)+"/documents",b={documents:h.map(Re=>fm(f.N,Re))},F=yield f.Ki("BatchGetDocuments",m,b),K=new Map;F.forEach(Re=>{const qe=function(n,t){return"found"in t?function(e,i){sn(!!i.found);const r=Ta(e,i.found.name),a=bi(i.found.updateTime),h=new Or({mapValue:{fields:i.found.fields}});return Jn.newFoundDocument(r,a,h)}(n,t):"missing"in t?function(e,i){sn(!!i.missing),sn(!!i.readTime);const r=Ta(e,i.missing),a=bi(i.readTime);return Jn.newNoDocument(r,a)}(n,t):qt()}(f.N,Re);K.set(qe.key.toString(),qe)});const we=[];return h.forEach(Re=>{const qe=K.get(Re.toString());sn(!!qe),we.push(qe)}),we}),function(a,h){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new hm(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ft.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const a=jt.fromPath(r);t.mutations.push(new rw(a,t.precondition(a)))}),yield(i=(0,ft.Z)(function*(r,a){const h=kt(r),f=pm(h.N)+"/documents",m={writes:a.map(b=>EA(h.N,b))};yield h.Li("Commit",f,m)}),function(r,a){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw qt();e=gn.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new bt(ut.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?rr.updateTime(e):rr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(gn.min()))throw new bt(ut.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rr.updateTime(e)}return rr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class oT{constructor(t,e,i,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=i,this.deferred=r,this.aa=5,this.rr=new cd(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var t=this;this.rr.Xi((0,ft.Z)(function*(){const e=new sT(t.datastore),i=t.ua(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(a=>{t.ha(a)}))}).catch(r=>{t.ha(r)})}))}ua(t){try{const e=this.updateFunction(t);return!qr(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ha(t){this.aa>0&&this.la(t)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(t)}la(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!sw(e)}return!1}}class aT{constructor(t,e,i){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=i,this.user=gr.UNAUTHENTICATED,this.clientId=MS.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(e,function(){var a=(0,ft.Z)(function*(h){xt("FirestoreClient","Received user=",h.uid),yield r.credentialListener(h),r.user=h});return function(h){return a.apply(this,arguments)}}())}getConfiguration(){var t=this;return(0,ft.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,credentials:t.credentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.credentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new bt(ut.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ft.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.credentials.shutdown(),e.resolve()}catch(i){const r=Mm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function lT(n,t){return nv.apply(this,arguments)}function nv(){return(nv=(0,ft.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),xt("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,ft.Z)(function*(a){i.isEqual(a)||(yield gp(t.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t})).apply(this,arguments)}function wC(n,t){return CC.apply(this,arguments)}function CC(){return(CC=(0,ft.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield iv(n);xt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>{return(a=(0,ft.Z)(function*(h,f){const m=kt(h);m.asyncQueue.verifyOperationInProgress(),xt("RemoteStore","RemoteStore received new credentials");const b=Dl(m);m.Kr.add(3),yield Ap(m),b&&m.Wr.set("Unknown"),yield m.remoteSyncer.handleCredentialChange(f),m.Kr.delete(3),yield Wi(m)}),function(h,f){return a.apply(this,arguments)})(t.remoteStore,r);var a}),n.onlineComponents=t})).apply(this,arguments)}function iv(n){return EC.apply(this,arguments)}function EC(){return(EC=(0,ft.Z)(function*(n){return n.offlineComponents||(xt("FirestoreClient","Using default OfflineComponentProvider"),yield lT(n,new nT)),n.offlineComponents})).apply(this,arguments)}function xC(n){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,ft.Z)(function*(n){return n.onlineComponents||(xt("FirestoreClient","Using default OnlineComponentProvider"),yield wC(n,new vC)),n.onlineComponents})).apply(this,arguments)}function dd(n){return iv(n).then(t=>t.persistence)}function SC(n){return iv(n).then(t=>t.localStore)}function cT(n){return xC(n).then(t=>t.remoteStore)}function uT(n){return xC(n).then(t=>t.syncEngine)}function Ml(n){return IC.apply(this,arguments)}function IC(){return(IC=(0,ft.Z)(function*(n){const t=yield xC(n),e=t.eventManager;return e.onListen=tR.bind(null,t.syncEngine),e.onUnlisten=Ep.bind(null,t.syncEngine),e})).apply(this,arguments)}function dT(n,t,e={}){const i=new nr;return n.asyncQueue.enqueueAndForget((0,ft.Z)(function*(){return function(r,a,h,f,m){const b=new Tp({next:K=>{a.enqueueAndForget(()=>qA(r,F));const we=K.docs.has(h);!we&&K.fromCache?m.reject(new bt(ut.UNAVAILABLE,"Failed to get document because the client is offline.")):we&&K.fromCache&&f&&"server"===f.source?m.reject(new bt(ut.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(K)},error:K=>m.reject(K)}),F=new ZA(Qf(h.path),b,{includeMetadataChanges:!0,uo:!0});return tC(r,F)}(yield Ml(n),n.asyncQueue,t,e,i)})),i.promise}function rv(n,t,e={}){const i=new nr;return n.asyncQueue.enqueueAndForget((0,ft.Z)(function*(){return function(r,a,h,f,m){const b=new Tp({next:K=>{a.enqueueAndForget(()=>qA(r,F)),K.fromCache&&"server"===f.source?m.reject(new bt(ut.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(K)},error:K=>m.reject(K)}),F=new ZA(h,b,{includeMetadataChanges:!0,uo:!0});return tC(r,F)}(yield Ml(n),n.asyncQueue,t,e,i)})),i.promise}class LF{constructor(t,e,i,r,a,h,f,m){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.useFetchStreams=m}}class fd{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof fd&&t.projectId===this.projectId&&t.database===this.database}}const gT=new Map;function ov(n,t,e){if(!e)throw new bt(ut.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function Lm(n,t,e,i){if(!0===t&&!0===i)throw new bt(ut.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function kC(n){if(!jt.isDocumentKey(n))throw new bt(ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function mT(n){if(jt.isDocumentKey(n))throw new bt(ut.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Dp(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":qt()}function Tn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new bt(ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Dp(n);throw new bt(ut.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function yT(n,t){if(t<=0)throw new bt(ut.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class _T{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new bt(ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new bt(ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Lm("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class kp{constructor(t,e){this._credentials=e,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _T({}),this._settingsFrozen=!1,t instanceof fd?this._databaseId=t:(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new bt(ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fd(i.options.projectId)}(t))}get app(){if(!this._app)throw new bt(ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new bt(ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _T(t),void 0!==t.credentials&&(this._credentials=function(e){if(!e)return new SS;switch(e.type){case"gapi":const i=e.client;return sn(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new kS(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new bt(ut.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=gT.get(t);e&&(xt("ComponentProvider","Removing Datastore"),gT.delete(t),e.terminate())}(this),Promise.resolve()}}class Xn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Xn(this.firestore,t,this._key)}}class Kr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Kr(this.firestore,t,this._query)}}class Pa extends Kr{constructor(t,e,i){super(t,e,Qf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Xn(this.firestore,null,new jt(t))}withConverter(t){return new Pa(this.firestore,t,this._path)}}function MC(n,t,...e){if(n=(0,Pe.m9)(n),ov("collection","path",t),n instanceof kp){const i=Mn.fromString(t,...e);return mT(i),new Pa(n,null,i)}{if(!(n instanceof Xn||n instanceof Pa))throw new bt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mn.fromString(t,...e));return mT(i),new Pa(n.firestore,null,i)}}function av(n,t,...e){if(n=(0,Pe.m9)(n),1===arguments.length&&(t=MS.I()),ov("doc","path",t),n instanceof kp){const i=Mn.fromString(t,...e);return kC(i),new Xn(n,null,new jt(i))}{if(!(n instanceof Xn||n instanceof Pa))throw new bt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mn.fromString(t,...e));return kC(i),new Xn(n.firestore,n instanceof Pa?n.converter:null,new jt(i))}}function RC(n,t){return n=(0,Pe.m9)(n),t=(0,Pe.m9)(t),(n instanceof Xn||n instanceof Pa)&&(t instanceof Xn||t instanceof Pa)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function vT(n,t){return n=(0,Pe.m9)(n),t=(0,Pe.m9)(t),n instanceof Kr&&t instanceof Kr&&n.firestore===t.firestore&&$f(n._query,t._query)&&n.converter===t.converter}class bT{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new cd(this,"async_queue_retry"),this.Ta=()=>{const e=on();e&&xt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.rr.tr()};const t=on();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ta)}get isShuttingDown(){return this.wa}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ea(),this.Ia(t)}enterRestrictedMode(t){if(!this.wa){this.wa=!0,this.ya=t||!1;const e=on();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ta)}}enqueue(t){if(this.Ea(),this.wa)return new Promise(()=>{});const e=new nr;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.da.push(t),this.Aa()))}Aa(){var t=this;return(0,ft.Z)(function*(){if(0!==t.da.length){try{yield t.da[0](),t.da.shift(),t.rr.reset()}catch(e){if(!Du(e))throw e;xt("AsyncQueue","Operation failed with retryable error: "+e)}t.da.length>0&&t.rr.Xi(()=>t.Aa())}})()}Ia(t){const e=this.fa.then(()=>(this.ga=!0,t().catch(i=>{throw this.ma=i,this.ga=!1,Li("INTERNAL UNHANDLED ERROR: ",function(a){let h=a.message||"";return a.stack&&(h=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),h}(i)),i}).then(i=>(this.ga=!1,i))));return this.fa=e,e}enqueueAfterDelay(t,e,i){this.Ea(),this.pa.indexOf(t)>-1&&(e=0);const r=HI.createAndSchedule(this,t,e,i,a=>this.Ra(a));return this._a.push(r),r}Ea(){this.ma&&qt()}verifyOperationInProgress(){}ba(){var t=this;return(0,ft.Z)(function*(){let e;do{e=t.fa,yield e}while(e!==t.fa)})()}Pa(t){for(const e of this._a)if(e.timerId===t)return!0;return!1}va(t){return this.ba().then(()=>{this._a.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this._a)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.ba()})}Va(t){this.pa.push(t)}Ra(t){const e=this._a.indexOf(t);this._a.splice(e,1)}}function lv(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class wT{constructor(){this._progressObserver={},this._taskCompletionResolver=new nr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Oi extends kp{constructor(t,e){super(t,e),this.type="firestore",this._queue=new bT,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||fR(this),this._firestoreClient.terminate()}}function qi(n){return n._firestoreClient||fR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function fR(n){var t;const e=n._freezeSettings(),i=(a=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new LF(n._databaseId,a,n._persistenceKey,(f=e).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new aT(n._credentials,n._queue,i)}function pR(n,t,e){const i=new nr;return n.asyncQueue.enqueue((0,ft.Z)(function*(){try{yield lT(n,e),yield wC(n,t),i.resolve()}catch(r){if(!("FirebaseError"===(a=r).name?a.code===ut.FAILED_PRECONDITION||a.code===ut.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var a})).then(()=>i.promise)}function gR(n){if(n._initialized||n._terminated)throw new bt(ut.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Fu{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new bt(ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Pc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pc(mr.fromBase64String(t))}catch(e){throw new bt(ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Pc(mr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Mp{constructor(t){this._methodName=t}}class OC{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new bt(ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new bt(ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Cn(this._lat,t._lat)||Cn(this._long,t._long)}}const mR=/^__.*__$/;class yR{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Iu(t,this.data,this.fieldMask,e,this.fieldTransforms):new um(t,this.data,e,this.fieldTransforms)}}class ET{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Iu(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function _R(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qt()}}class PC{constructor(t,e,i,r,a,h){this.settings=t,this.databaseId=e,this.N=i,this.ignoreUndefinedProperties=r,void 0===a&&this.Sa(),this.fieldTransforms=a||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(t){return new PC(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Ca({path:i,xa:!1});return r.ka(t),r}$a(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Ca({path:i,xa:!1});return r.Sa(),r}Oa(t){return this.Ca({path:void 0,xa:!0})}Fa(t){return Um(t,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Sa(){if(this.path)for(let t=0;t<this.path.length;t++)this.ka(this.path.get(t))}ka(t){if(0===t.length)throw this.Fa("Document fields must not be empty");if(_R(this.Da)&&mR.test(t))throw this.Fa('Document fields cannot begin and end with "__"')}}class YF{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.N=i||jA(t)}Ba(t,e,i,r=!1){return new PC({Da:t,methodName:e,La:i,path:Rr.emptyPath(),xa:!1,Ma:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function pd(n){const t=n._freezeSettings(),e=jA(n._databaseId);return new YF(n._databaseId,!!t.ignoreUndefinedProperties,e)}function cv(n,t,e,i,r,a={}){const h=n.Ba(a.merge||a.mergeFields?2:0,t,e,r);LC("Data must be an object, but it was:",h,i);const f=FC(i,h);let m,b;if(a.merge)m=new qf(h.fieldMask),b=h.fieldTransforms;else if(a.mergeFields){const F=[];for(const K of a.mergeFields){const we=Vm(t,K,e);if(!h.contains(we))throw new bt(ut.INVALID_ARGUMENT,`Field '${we}' is specified in your field mask but missing from your input data.`);bR(F,we)||F.push(we)}m=new qf(F),b=h.fieldTransforms.filter(K=>m.covers(K.field))}else m=null,b=h.fieldTransforms;return new yR(new Or(f),m,b)}class Bm extends Mp{_toFieldTransform(t){if(2!==t.Da)throw t.Fa(1===t.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Bm}}function AR(n,t,e){return new PC({Da:3,La:t.settings.La,methodName:n._methodName,xa:e},t.databaseId,t.N,t.ignoreUndefinedProperties)}class xT extends Mp{_toFieldTransform(t){return new Su(t.path,new td)}isEqual(t){return t instanceof xT}}class KF extends Mp{constructor(t,e){super(t),this.Ua=e}_toFieldTransform(t){const e=AR(this,t,!0),i=this.Ua.map(a=>Xo(a,e)),r=new Jf(i);return new Su(t.path,r)}isEqual(t){return this===t}}class QF extends Mp{constructor(t,e){super(t),this.Ua=e}_toFieldTransform(t){const e=AR(this,t,!0),i=this.Ua.map(a=>Xo(a,e)),r=new nd(i);return new Su(t.path,r)}isEqual(t){return this===t}}class vR extends Mp{constructor(t,e){super(t),this.qa=e}_toFieldTransform(t){const e=new Xf(t.N,ed(t.N,this.qa));return new Su(t.path,e)}isEqual(t){return this===t}}function ST(n,t,e,i){const r=n.Ba(1,t,e);LC("Data must be an object, but it was:",r,i);const a=[],h=Or.empty();Cu(i,(m,b)=>{const F=hv(t,m,e);b=(0,Pe.m9)(b);const K=r.$a(F);if(b instanceof Bm)a.push(F);else{const we=Xo(b,K);null!=we&&(a.push(F),h.set(F,we))}});const f=new qf(a);return new ET(h,f,r.fieldTransforms)}function NC(n,t,e,i,r,a){const h=n.Ba(1,t,e),f=[Vm(t,i,e)],m=[r];if(a.length%2!=0)throw new bt(ut.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let we=0;we<a.length;we+=2)f.push(Vm(t,a[we])),m.push(a[we+1]);const b=[],F=Or.empty();for(let we=f.length-1;we>=0;--we)if(!bR(b,f[we])){const Re=f[we];let qe=m[we];qe=(0,Pe.m9)(qe);const rt=h.$a(Re);if(qe instanceof Bm)b.push(Re);else{const ht=Xo(qe,rt);null!=ht&&(b.push(Re),F.set(Re,ht))}}const K=new qf(b);return new ET(F,K,h.fieldTransforms)}function uv(n,t,e,i=!1){return Xo(e,n.Ba(i?4:3,t))}function Xo(n,t){if(IT(n=(0,Pe.m9)(n)))return LC("Unsupported field value:",t,n),FC(n,t);if(n instanceof Mp)return function(e,i){if(!_R(i.Da))throw i.Fa(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Fa(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.xa&&4!==t.Da)throw t.Fa("Nested arrays are not supported");return function(e,i){const r=[];let a=0;for(const h of e){let f=Xo(h,i.Oa(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,Pe.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ed(i.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=ir.fromDate(e);return{timestampValue:ip(i.N,r)}}if(e instanceof ir){const r=new ir(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ip(i.N,r)}}if(e instanceof OC)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Pc)return{bytesValue:cI(i.N,e._byteString)};if(e instanceof Xn){const r=i.databaseId,a=e.firestore._databaseId;if(!a.isEqual(r))throw i.Fa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:cw(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.Fa(`Unsupported field value: ${Dp(e)}`)}(n,t)}function FC(n,t){const e={};return OS(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Cu(n,(i,r)=>{const a=Xo(r,t.Na(i));null!=a&&(e[i]=a)}),{mapValue:{fields:e}}}function IT(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ir||n instanceof OC||n instanceof Pc||n instanceof Xn||n instanceof Mp)}function LC(n,t,e){if(!IT(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=Dp(e);throw t.Fa("an object"===i?n+" a custom object":n+" "+i)}var i}function Vm(n,t,e){if((t=(0,Pe.m9)(t))instanceof Fu)return t._internalPath;if("string"==typeof t)return hv(n,t);throw Um("Field path arguments must be of type string or FieldPath.",n,!1,void 0,e)}const TT=new RegExp("[~\\*/\\[\\]]");function hv(n,t,e){if(t.search(TT)>=0)throw Um(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Fu(...t.split("."))._internalPath}catch(i){throw Um(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Um(n,t,e,i,r){const a=i&&!i.isEmpty(),h=void 0!==r;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(a||h)&&(m+=" (found",a&&(m+=` in field ${i}`),h&&(m+=` in document ${r}`),m+=")"),new bt(ut.INVALID_ARGUMENT,f+n+m)}function bR(n,t){return n.some(e=>e.isEqual(t))}class Rp{constructor(t,e,i,r,a){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new dv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(jm("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class dv extends Rp{data(){return super.data()}}function jm(n,t){return"string"==typeof t?hv(n,t):t instanceof Fu?t._internalPath:t._delegate._internalPath}class Op{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Lu extends Rp{constructor(t,e,i,r,a,h){super(t,e,i,r,h),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new fv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(jm("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class fv extends Lu{data(t={}){return super.data(t)}}class Bu{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Op(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new fv(this._firestore,this._userDataWriter,i.key,i,new Op(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new bt(ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(h=>({type:"added",doc:new fv(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Op(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(h=>r||3!==h.type).map(h=>{const f=new fv(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Op(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,b=-1;return 0!==h.type&&(m=a.indexOf(h.doc.key),a=a.delete(h.doc.key)),1!==h.type&&(a=a.add(h.doc),b=a.indexOf(h.doc.key)),{type:$F(h.type),doc:f,oldIndex:m,newIndex:b}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function $F(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qt()}}function Hm(n,t){return n instanceof Lu&&t instanceof Lu?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Bu&&t instanceof Bu&&n._firestore===t._firestore&&vT(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function DT(n){if(pA(n)&&0===n.explicitOrderBy.length)throw new bt(ut.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pv{}function gd(n,...t){for(const e of t)n=e._apply(n);return n}class BC extends pv{constructor(t,e,i){super(),this.Ka=t,this.ja=e,this.Qa=i,this.type="where"}_apply(t){const e=pd(t.firestore),i=function(r,a,h,f,m,b,F){let K;if(m.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new bt(ut.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on FieldPath.documentId().`);if("in"===b||"not-in"===b){gv(F,b);const Re=[];for(const qe of F)Re.push(NT(f,r,qe));K={arrayValue:{values:Re}}}else K=NT(f,r,F)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||gv(F,b),K=uv(h,"where",F,"in"===b||"not-in"===b);const we=Zr.create(m,b,K);return function(Re,qe){if(qe.v()){const ht=mA(Re);if(null!==ht&&!ht.isEqual(qe.field))throw new bt(ut.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ht.toString()}' and '${qe.field.toString()}'`);const St=gA(Re);null!==St&&FT(0,qe.field,St)}const rt=function(ht,St){for(const Ft of ht.filters)if(St.indexOf(Ft.op)>=0)return Ft.op;return null}(Re,function(ht){switch(ht){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(qe.op));if(null!==rt)throw new bt(ut.INVALID_ARGUMENT,rt===qe.op?`Invalid query. You cannot use more than one '${qe.op.toString()}' filter.`:`Invalid query. You cannot use '${qe.op.toString()}' filters with '${rt.toString()}' filters.`)}(r,we),we}(t._query,0,e,t.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Kr(t.firestore,t.converter,function(r,a){const h=r.filters.concat([a]);return new Mc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),h,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class JF extends pv{constructor(t,e){super(),this.Ka=t,this.Wa=e,this.type="orderBy"}_apply(t){const e=function(i,r,a){if(null!==i.startAt)throw new bt(ut.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new bt(ut.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new Kf(r,a);return function(f,m){if(null===gA(f)){const b=mA(f);null!==b&&FT(0,b,m.field)}}(i,h),h}(t._query,this.Ka,this.Wa);return new Kr(t.firestore,t.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new Mc(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class kT extends pv{constructor(t,e,i){super(),this.type=t,this.Ga=e,this.za=i}_apply(t){return new Kr(t.firestore,t.converter,Qb(t._query,this.Ga,this.za))}}class RT extends pv{constructor(t,e,i){super(),this.type=t,this.Ha=e,this.Ja=i}_apply(t){const e=PT(t,this.type,this.Ha,this.Ja);return new Kr(t.firestore,t.converter,(r=e,new Mc((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class OT extends pv{constructor(t,e,i){super(),this.type=t,this.Ha=e,this.Ja=i}_apply(t){const e=PT(t,this.type,this.Ha,this.Ja);return new Kr(t.firestore,t.converter,(r=e,new Mc((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function PT(n,t,e,i){if(e[0]=(0,Pe.m9)(e[0]),e[0]instanceof Rp)return function(r,a,h,f,m){if(!f)throw new bt(ut.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const b=[];for(const F of $h(r))if(F.field.isKeyField())b.push(lA(a,f.key));else{const K=f.data.field(F.field);if($o(K))throw new bt(ut.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+F.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===K){const we=F.field.canonicalString();throw new bt(ut.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${we}' (used as the orderBy) does not exist.`)}b.push(K)}return new am(b,m)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=pd(n.firestore);return function(a,h,f,m,b,F){const K=a.explicitOrderBy;if(b.length>K.length)throw new bt(ut.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const we=[];for(let Re=0;Re<b.length;Re++){const qe=b[Re];if(K[Re].field.isKeyField()){if("string"!=typeof qe)throw new bt(ut.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof qe}`);if(!yA(a)&&-1!==qe.indexOf("/"))throw new bt(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${m}() must be a plain document ID, but '${qe}' contains a slash.`);const rt=a.path.child(Mn.fromString(qe));if(!jt.isDocumentKey(rt))throw new bt(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${m}() must result in a valid document path, but '${rt}' is not because it contains an odd number of segments.`);const ht=new jt(rt);we.push(lA(h,ht))}else{const rt=uv(f,m,qe);we.push(rt)}}return new am(we,F)}(n._query,n.firestore._databaseId,r,t,e,i)}}function NT(n,t,e){if("string"==typeof(e=(0,Pe.m9)(e))){if(""===e)throw new bt(ut.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!yA(t)&&-1!==e.indexOf("/"))throw new bt(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Mn.fromString(e));if(!jt.isDocumentKey(i))throw new bt(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return lA(n,new jt(i))}if(e instanceof Xn)return lA(n,e._key);throw new bt(ut.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dp(e)}.`)}function gv(n,t){if(!Array.isArray(n)||0===n.length)throw new bt(ut.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new bt(ut.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function FT(n,t,e){if(!e.isEqual(t))throw new bt(ut.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class vs{convertValue(t,e="none"){switch(xu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ki(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Eu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw qt()}}convertObject(t,e){const i={};return Cu(t.fields,(r,a)=>{i[r]=this.convertValue(a,e)}),i}convertGeoPoint(t){return new OC(ki(t.latitude),ki(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=FS(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(tm(t));default:return null}}convertTimestamp(t){const e=Yh(t);return new ir(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Mn.fromString(t);sn(mw(i));const r=new fd(i.get(1),i.get(3)),a=new jt(i.popFirst(5));return r.isEqual(e)||Li(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}}function mv(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class VC extends vs{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Xn(this.firestore,null,e)}}class LT{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=pd(t)}set(t,e,i){this._verifyNotCommitted();const r=Vu(t,this._firestore),a=mv(r.converter,e,i),h=cv(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(h.toMutation(r._key,rr.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const a=Vu(t,this._firestore);let h;return h="string"==typeof(e=(0,Pe.m9)(e))||e instanceof Fu?NC(this._dataReader,"WriteBatch.update",a._key,e,i,r):ST(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(h.toMutation(a._key,rr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Vu(t,this._firestore);return this._mutations=this._mutations.concat(new hm(e._key,rr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new bt(ut.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Vu(n,t){if((n=(0,Pe.m9)(n)).firestore!==t)throw new bt(ut.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Uu extends vs{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Xn(this.firestore,null,e)}}function jT(n,t,e){n=Tn(n,Xn);const i=Tn(n.firestore,Oi),r=mv(n.converter,t,e);return Qr(i,[cv(pd(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,rr.none())])}function yv(n,t,e,...i){n=Tn(n,Xn);const r=Tn(n.firestore,Oi),a=pd(r);let h;return h="string"==typeof(t=(0,Pe.m9)(t))||t instanceof Fu?NC(a,"updateDoc",n._key,t,e,i):ST(a,"updateDoc",n._key,t),Qr(r,[h.toMutation(n._key,rr.exists(!0))])}function _v(n,...t){var e,i,r;n=(0,Pe.m9)(n);let a={includeMetadataChanges:!1},h=0;"object"!=typeof t[h]||lv(t[h])||(a=t[h],h++);const f={includeMetadataChanges:a.includeMetadataChanges};if(lv(t[h])){const K=t[h];t[h]=null===(e=K.next)||void 0===e?void 0:e.bind(K),t[h+1]=null===(i=K.error)||void 0===i?void 0:i.bind(K),t[h+2]=null===(r=K.complete)||void 0===r?void 0:r.bind(K)}let m,b,F;if(n instanceof Xn)b=Tn(n.firestore,Oi),F=Qf(n._key.path),m={next:K=>{t[h]&&t[h](jC(b,n,K))},error:t[h+1],complete:t[h+2]};else{const K=Tn(n,Kr);b=Tn(K.firestore,Oi),F=K._query;const we=new Uu(b);m={next:Re=>{t[h]&&t[h](new Bu(b,we,K,Re))},error:t[h+1],complete:t[h+2]},DT(n._query)}return function(K,we,Re,qe){const rt=new Tp(qe),ht=new ZA(we,rt,Re);return K.asyncQueue.enqueueAndForget((0,ft.Z)(function*(){return tC(yield Ml(K),ht)})),()=>{rt.Xo(),K.asyncQueue.enqueueAndForget((0,ft.Z)(function*(){return qA(yield Ml(K),ht)}))}}(qi(b),F,f,m)}function Qr(n,t){return function(e,i){const r=new nr;return e.asyncQueue.enqueueAndForget((0,ft.Z)(function*(){return function(n,t,e){return lC.apply(this,arguments)}(yield uT(e),i,r)})),r.promise}(qi(n),t)}function jC(n,t,e){const i=e.docs.get(t._key),r=new Uu(n);return new Lu(n,r,t._key,i,new Op(e.hasPendingWrites,e.fromCache),t.converter)}class iL extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=pd(t)}get(t){const e=Vu(t,this._firestore),i=new VC(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return qt();const a=r[0];if(a.isFoundDocument())return new Rp(this._firestore,i,a.key,a,e.converter);if(a.isNoDocument())return new Rp(this._firestore,i,e._key,null,e.converter);throw qt()})}set(t,e,i){const r=Vu(t,this._firestore),a=mv(r.converter,e,i),h=cv(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,h),this}update(t,e,i,...r){const a=Vu(t,this._firestore);let h;return h="string"==typeof(e=(0,Pe.m9)(e))||e instanceof Fu?NC(this._dataReader,"Transaction.update",a._key,e,i,r):ST(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,h),this}delete(t){const e=Vu(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Vu(t,this._firestore),i=new Uu(this._firestore);return super.get(t).then(r=>new Lu(this._firestore,i,e._key,r._document,new Op(!1,!1),e.converter))}}function Av(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new bt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function WT(){if("undefined"==typeof Uint8Array)throw new bt("unimplemented","Uint8Arrays are not available in this environment.")}function OR(){if("undefined"==typeof atob)throw new bt("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(n){wu=n})(fo.SDK_VERSION),(0,fo._registerComponent)(new Ea.wA("firestore",(n,{options:t})=>{const e=n.getProvider("app").getImmediate(),i=new Oi(e,new TS(n.getProvider("auth-internal")));return t=Object.assign({useFetchStreams:!0},t),i._setSettings(t),i},"PUBLIC")),(0,fo.registerVersion)(sA,"3.1.1",void 0),(0,fo.registerVersion)(sA,"3.1.1","esm2017");class Pp{constructor(t){this._delegate=t}static fromBase64String(t){return OR(),new Pp(Pc.fromBase64String(t))}static fromUint8Array(t){return WT(),new Pp(Pc.fromUint8Array(t))}toBase64(){return OR(),this._delegate.toBase64()}toUint8Array(){return WT(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function vv(n){return function(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of["next","error","complete"])if(i in e&&"function"==typeof e[i])return!0;return!1}(n)}class NR{enableIndexedDbPersistence(t,e){return function(n,t){gR(n=Tn(n,Oi));const e=qi(n),i=n._freezeSettings(),r=new vC;return pR(e,r,new iT(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function(n){gR(n=Tn(n,Oi));const t=qi(n),e=n._freezeSettings(),i=new vC;return pR(t,i,new cR(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function(n){if(n._initialized&&!n._terminated)throw new bt(ut.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new nr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ft.Z)(function*(){try{yield(e=(0,ft.Z)(function*(i){if(!El.bt())return Promise.resolve();const r=i+"main";yield El.delete(r)}),function(i){return e.apply(this,arguments)})(Mw(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class HC{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof fd||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Zh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function(n,t,e,i={}){var r;const a=(n=Tn(n,kp))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Zh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let h,f;if("string"==typeof i.mockUserToken)h=i.mockUserToken,f=gr.MOCK_USER;else{h=(0,Pe.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new bt(ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new gr(m)}n._credentials=new IS(new Wb(h,f))}}(this._delegate,t,e,i)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,ft.Z)(function*(){const t=yield dd(n),e=yield cT(n);return t.setNetworkEnabled(!0),function(i){const r=kt(i);return r.Kr.delete(0),Wi(r)}(e)}))}(qi(n=Tn(n,Oi)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,ft.Z)(function*(){const t=yield dd(n),e=yield cT(n);return t.setNetworkEnabled(!1),(i=(0,ft.Z)(function*(r){const a=kt(r);a.Kr.add(0),yield Ap(a),a.Wr.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(qi(n=Tn(n,Oi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,Lm("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(t){const e=new nr;return t.asyncQueue.enqueueAndForget((0,ft.Z)(function*(){return function(n,t){return hC.apply(this,arguments)}(yield uT(t),e)})),e.promise}(qi(n=Tn(n,Oi)))}(this._delegate)}onSnapshotsInSync(t){return function(n,t){return function(n,t){const e=new Tp(t);return n.asyncQueue.enqueueAndForget((0,ft.Z)(function*(){return i=yield Ml(n),r=e,kt(i).Zr.add(r),void r.next();var i,r})),()=>{e.Xo(),n.asyncQueue.enqueueAndForget((0,ft.Z)(function*(){return i=yield Ml(n),r=e,void kt(i).Zr.delete(r);var i,r}))}}(qi(n=Tn(n,Oi)),lv(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new bt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new yd(this,MC(this._delegate,t))}catch(e){throw Ys(e,"collection()","Firestore.collection()")}}doc(t){try{return new Na(this,av(this._delegate,t))}catch(e){throw Ys(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new bs(this,function(n,t){if(n=Tn(n,kp),ov("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new bt(ut.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Kr(n,null,(e=t,new Mc(Mn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Ys(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function(n,t){return function(n,t){const e=new nr;return n.asyncQueue.enqueueAndForget((0,ft.Z)(function*(){const i=yield(r=n,xC(r).then(a=>a.datastore));var r;new oT(n.asyncQueue,i,t,e).run()})),e.promise}(qi(n),e=>t(new iL(n,e)))}(this._delegate,e=>t(new zC(this,e)))}batch(){return qi(this._delegate),new qT(new LT(this._delegate,t=>Qr(this._delegate,t)))}loadBundle(t){return function(n,t){const e=qi(n=Tn(n,Oi)),i=new wT;return function(n,t,e,i){const r=function(a,h){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,m=function(m,b){if(m instanceof Uint8Array)return bC(m,b);if(m instanceof ArrayBuffer)return bC(new Uint8Array(m),b);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new rT(m,h);var m}(e,jA(t));n.asyncQueue.enqueueAndForget((0,ft.Z)(function*(){!function(n,t,e){const i=kt(n);var r;(r=(0,ft.Z)(function*(a,h,f){try{const m=yield h.getMetadata();if(yield function(we,Re){const qe=kt(we),rt=bi(Re.createTime);return qe.persistence.runTransaction("hasNewerBundle","readonly",ht=>qe.Je.getBundleMetadata(ht,Re.id)).then(ht=>!!ht&&ht.createTime.compareTo(rt)>=0)}(a.localStore,m))return yield h.close(),void f._completeWith((we=m,{taskState:"Success",documentsLoaded:we.totalDocuments,bytesLoaded:we.totalBytes,totalDocuments:we.totalDocuments,totalBytes:we.totalBytes}));f._updateProgress(iC(m));const b=new J1(m,a.localStore,h.N);let F=yield h.Qo();for(;F;){const we=yield b.fo(F);we&&f._updateProgress(we),F=yield h.Qo()}const K=yield b.complete();yield kl(a,K.En,void 0),yield function(we,Re){const qe=kt(we);return qe.persistence.runTransaction("Save bundle","readwrite",rt=>qe.Je.saveBundleMetadata(rt,Re))}(a.localStore,m),f._completeWith(K.progress)}catch(m){Zh("SyncEngine",`Loading bundle failed with ${m}`),f._failWith(m)}var we}),function(a,h,f){return r.apply(this,arguments)})(i,t,e).then(()=>{i.sharedClientState.notifyBundleLoaded()})}(yield uT(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function(n,t){return function(n,t){return n.asyncQueue.enqueue((0,ft.Z)(function*(){return function(e,i){const r=kt(e);return r.persistence.runTransaction("Get named query","readonly",a=>r.Je.getNamedQuery(a,i))}(yield SC(n),t)}))}(qi(n=Tn(n,Oi)),t).then(e=>e?new Kr(n,null,e.query):null)}(this._delegate,t).then(e=>e?new bs(this,e):null)}}class ju extends vs{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pp(new Pc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Na.forKey(e,this.firestore,null)}}class zC{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new ju(t)}get(t){const e=Fp(t);return this._delegate.get(e).then(i=>new Np(this._firestore,new Lu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Fp(t);return i?(Av("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const a=Fp(t);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,i,...r),this}delete(t){const e=Fp(t);return this._delegate.delete(e),this}}class qT{constructor(t){this._delegate=t}set(t,e,i){const r=Fp(t);return i?(Av("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const a=Fp(t);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,i,...r),this}delete(t){const e=Fp(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class md{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new fv(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new zm(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=md.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let a=r.get(e);return a||(a=new md(t,new ju(t),e),r.set(e,a)),a}}md.INSTANCES=new WeakMap;class Na{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new ju(t)}static forPath(t,e,i){if(t.length%2!=0)throw new bt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Na(e,new Xn(e._delegate,i,new jt(t)))}static forKey(t,e,i){return new Na(e,new Xn(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new yd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new yd(this.firestore,MC(this._delegate,t))}catch(e){throw Ys(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Pe.m9)(t))instanceof Xn&&RC(this._delegate,t)}set(t,e){e=Av("DocumentReference.set",e);try{return e?jT(this._delegate,t,e):jT(this._delegate,t)}catch(i){throw Ys(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?yv(this._delegate,t):yv(this._delegate,t,e,...i)}catch(r){throw Ys(r,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return Qr(Tn(n.firestore,Oi),[new hm(n._key,rr.none())])}(this._delegate)}onSnapshot(...t){const e=FR(t),i=WC(t,r=>new Np(this.firestore,new Lu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return _v(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=Tn(n,Xn);const t=Tn(n.firestore,Oi),e=qi(t),i=new Uu(t);return function(n,t){const e=new nr;return n.asyncQueue.enqueueAndForget((0,ft.Z)(function*(){return(i=(0,ft.Z)(function*(r,a,h){try{const f=yield function(m,b){const F=kt(m);return F.persistence.runTransaction("read document","readonly",K=>F.Qn.An(K,b))}(r,a);f.isFoundDocument()?h.resolve(f):f.isNoDocument()?h.resolve(null):h.reject(new bt(ut.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const m=Mm(f,`Failed to get document '${a} from cache`);h.reject(m)}}),function(r,a,h){return i.apply(this,arguments)})(yield SC(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Lu(t,i,n._key,r,new Op(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=Tn(n,Xn);const t=Tn(n.firestore,Oi);return dT(qi(t),n._key,{source:"server"}).then(e=>jC(t,n,e))}(this._delegate):function(n){n=Tn(n,Xn);const t=Tn(n.firestore,Oi);return dT(qi(t),n._key).then(e=>jC(t,n,e))}(this._delegate),e.then(i=>new Np(this.firestore,new Lu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Na(this.firestore,this._delegate.withConverter(t?md.getInstance(this.firestore,t):null))}}function Ys(n,t,e){return n.message=n.message.replace(t,e),n}function FR(n){for(const t of n)if("object"==typeof t&&!vv(t))return t;return{}}function WC(n,t){var e,i;let r;return r=vv(n[0])?n[0]:vv(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(t(a))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Np{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Na(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return Hm(this._delegate,t._delegate)}}class zm extends Np{data(t){const e=this._delegate.data(t);return function(n,t){n||qt()}(void 0!==e),e}}class bs{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new ju(t)}where(t,e,i){try{return new bs(this.firestore,gd(this._delegate,function(n,t,e){const i=t,r=jm("where",n);return new BC(r,i,e)}(t,e,i)))}catch(r){throw Ys(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new bs(this.firestore,gd(this._delegate,function(n,t="asc"){const e=t,i=jm("orderBy",n);return new JF(i,e)}(t,e)))}catch(i){throw Ys(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new bs(this.firestore,gd(this._delegate,function(n){return yT("limit",n),new kT("limit",n,"F")}(t)))}catch(e){throw Ys(e,"limit()","Query.limit()")}}limitToLast(t){try{return new bs(this.firestore,gd(this._delegate,function(n){return yT("limitToLast",n),new kT("limitToLast",n,"L")}(t)))}catch(e){throw Ys(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new bs(this.firestore,gd(this._delegate,function(...n){return new RT("startAt",n,!0)}(...t)))}catch(e){throw Ys(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new bs(this.firestore,gd(this._delegate,function(...n){return new RT("startAfter",n,!1)}(...t)))}catch(e){throw Ys(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new bs(this.firestore,gd(this._delegate,function(...n){return new OT("endBefore",n,!0)}(...t)))}catch(e){throw Ys(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new bs(this.firestore,gd(this._delegate,function(...n){return new OT("endAt",n,!1)}(...t)))}catch(e){throw Ys(e,"endAt()","Query.endAt()")}}isEqual(t){return vT(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=Tn(n,Kr);const t=Tn(n.firestore,Oi),e=qi(t),i=new Uu(t);return function(n,t){const e=new nr;return n.asyncQueue.enqueueAndForget((0,ft.Z)(function*(){return(i=(0,ft.Z)(function*(r,a,h){try{const f=yield Rw(r,a,!0),m=new zI(a,f.Gn),b=m.Io(f.documents),F=m.applyChanges(b,!1);h.resolve(F.snapshot)}catch(f){const m=Mm(f,`Failed to execute query '${a} against cache`);h.reject(m)}}),function(r,a,h){return i.apply(this,arguments)})(yield SC(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Bu(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=Tn(n,Kr);const t=Tn(n.firestore,Oi),e=qi(t),i=new Uu(t);return rv(e,n._query,{source:"server"}).then(r=>new Bu(t,i,n,r))}(this._delegate):function(n){n=Tn(n,Kr);const t=Tn(n.firestore,Oi),e=qi(t),i=new Uu(t);return DT(n._query),rv(e,n._query).then(r=>new Bu(t,i,n,r))}(this._delegate),e.then(i=>new qC(this.firestore,new Bu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=FR(t),i=WC(t,r=>new qC(this.firestore,new Bu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return _v(this._delegate,e,i)}withConverter(t){return new bs(this.firestore,this._delegate.withConverter(t?md.getInstance(this.firestore,t):null))}}class LR{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new zm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class qC{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new bs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new zm(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new LR(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new zm(this._firestore,i))})}isEqual(t){return Hm(this._delegate,t._delegate)}}class yd extends bs{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Na(this.firestore,t):null}doc(t){try{return new Na(this.firestore,void 0===t?av(this._delegate):av(this._delegate,t))}catch(e){throw Ys(e,"doc()","CollectionReference.doc()")}}add(t){return function(n,t){const e=Tn(n.firestore,Oi),i=av(n),r=mv(n.converter,t);return Qr(e,[cv(pd(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,rr.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Na(this.firestore,e))}isEqual(t){return RC(this._delegate,t._delegate)}withConverter(t){return new yd(this.firestore,this._delegate.withConverter(t?md.getInstance(this.firestore,t):null))}}function Fp(n){return Tn(n,Xn)}class ZT{constructor(...t){this._delegate=new Fu(...t)}static documentId(){return new ZT(Rr.keyField().canonicalString())}isEqual(t){return(t=(0,Pe.m9)(t))instanceof Fu&&this._delegate._internalPath.isEqual(t._internalPath)}}class _d{constructor(t){this._delegate=t}static serverTimestamp(){const t=new xT("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new _d(t)}static delete(){const t=new Bm("deleteField");return t._methodName="FieldValue.delete",new _d(t)}static arrayUnion(...t){const e=function(...n){return new KF("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new _d(e)}static arrayRemove(...t){const e=function(...n){return new QF("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new _d(e)}static increment(t){const e=function(n){return new vR("increment",n)}(t);return e._methodName="FieldValue.increment",new _d(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const ZC={Firestore:HC,GeoPoint:OC,Timestamp:ir,Blob:Pp,Transaction:zC,WriteBatch:qT,DocumentReference:Na,DocumentSnapshot:Np,Query:bs,QueryDocumentSnapshot:zm,QuerySnapshot:qC,CollectionReference:yd,FieldPath:ZT,FieldValue:_d,setLogLevel:function(n){!function(n){vl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,t){n.INTERNAL.registerComponent(new Ea.wA("firestore-compat",e=>((t,e)=>new HC(t,e,new NR))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},ZC)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.4")}(X0.Z);var Nc=Fe(6682),Lp=Fe(6136),BR=Fe(7771),bv=Fe(8858);class VR extends cn.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new UR(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,i=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,a=i.length;let h;if(this.closed)throw new cc.N;if(this.isStopped||this.hasError?h=Vs.w.EMPTY:(this.observers.push(t),h=new bv.W(this,t)),r&&t.add(t=new Lp.ht(t,r)),e)for(let f=0;f<a&&!t.closed;f++)t.next(i[f]);else for(let f=0;f<a&&!t.closed;f++)t.next(i[f].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),h}_getNow(){return(this.scheduler||BR.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,i=this._windowTime,r=this._events,a=r.length;let h=0;for(;h<a&&!(t-r[h].time<i);)h++;return a>e&&(h=Math.max(h,a-e)),h>0&&r.splice(0,h),r}}class UR{constructor(t,e){this.time=t,this.value=e}}function wv(n,t,e){let i;return i=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},r=>r.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:i}){let r,h,a=0,f=!1,m=!1;return function(F){let K;a++,!r||f?(f=!1,r=new VR(n,t,i),K=r.subscribe(this),h=F.subscribe({next(we){r.next(we)},error(we){f=!0,r.error(we)},complete(){m=!0,h=void 0,r.complete()}}),m&&(h=void 0)):K=r.subscribe(this),this.add(()=>{a--,K.unsubscribe(),K=void 0,h&&!m&&e&&0===a&&(h.unsubscribe(),h=void 0,r=void 0)})}}(i))}function YC(n,t){return t?Ii(()=>n,t):Ii(()=>n)}var Wm=Fe(9673);Fe(2329);const YT=new Map,GR={activated:!1,tokenObservers:[]},zR={initialized:!1,enabled:!1};function Ks(n){return YT.get(n)||GR}function Rl(n,t){YT.set(n,t)}function Iv(){return zR}class WR{constructor(t,e,i,r,a){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ft.Z)(function*(){e.stop();try{e.pending=new Pe.BH,yield function(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Pe.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const vo=new Pe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function $T(n){if(!Ks(n).activated)throw vo.create("use-before-activation",{appName:n.name})}function JT(n,t){return $C.apply(this,arguments)}function $C(){return($C=(0,ft.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});r&&(i["X-Firebase-Client"]=r.getPlatformInfoString());const a={method:"POST",body:JSON.stringify(t),headers:i};let h,f;try{h=yield fetch(n,a)}catch(K){throw vo.create("fetch-network-error",{originalErrorMessage:K.message})}if(200!==h.status)throw vo.create("fetch-status-error",{httpStatus:h.status});try{f=yield h.json()}catch(K){throw vo.create("fetch-parse-error",{originalErrorMessage:K.message})}const m=f.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw vo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const b=1e3*Number(m[1]),F=Date.now();return{token:f.attestationToken,expireTimeMillis:F+b,issuedAtTimeMillis:F}})).apply(this,arguments)}function KR(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Fc="firebase-app-check-store";let XC=null;function XT(){return XC||(XC=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(vo.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{const r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(Fc,{keyPath:"compositeKey"})}}}catch(e){t(vo.create("storage-open",{originalErrorMessage:e.message}))}}),XC)}function tE(){return(tE=(0,ft.Z)(function*(n,t){const i=(yield XT()).transaction(Fc,"readwrite"),a=i.objectStore(Fc).put({compositeKey:n,value:t});return new Promise((h,f)=>{a.onsuccess=m=>{h()},i.onerror=m=>{var b;f(vo.create("storage-set",{originalErrorMessage:null===(b=m.target.error)||void 0===b?void 0:b.message}))}})})).apply(this,arguments)}const Tv=new qo.Yd("@firebase/app-check");function XR(n,t){return(0,Pe.hl)()?function(n,t){return function(n,t){return tE.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Tv.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function iE(){return Iv().enabled}function rE(){return Dv.apply(this,arguments)}function Dv(){return(Dv=(0,ft.Z)(function*(){const n=Iv();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const oE={error:"UNKNOWN_ERROR"};function aE(n){return Pe.US.encodeString(JSON.stringify(n),!1)}function vd(n){return Bp.apply(this,arguments)}function Bp(){return(Bp=(0,ft.Z)(function*(n,t=!1){const e=n.app;$T(e);const i=Ks(e);let a,h,r=i.token;if(!r){const f=yield i.cachedTokenPromise;f&&Vp(f)&&(r=f,Rl(e,Object.assign(Object.assign({},i),{token:r})),sD(e,{token:r.token}))}if(!t&&r&&Vp(r))return{token:r.token};if(iE()){const f=yield JT(KR(e,yield rE()),n.platformLoggerProvider);return yield XR(e,f),Rl(e,Object.assign(Object.assign({},i),{token:f})),{token:f.token}}try{r=yield i.provider.getToken()}catch(f){Tv.error(f),a=f}return r?(h={token:r.token},Rl(e,Object.assign(Object.assign({},i),{token:r})),yield XR(e,r)):h=tO(a),sD(e,h),h})).apply(this,arguments)}function kv(n,t){const e=Ks(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Rl(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function sD(n,t){const e=Ks(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function Vp(n){return n.expireTimeMillis-Date.now()>0}function tO(n){return{token:aE(oE),error:n}}class nO{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=Ks(this.app);for(const e of t)kv(this.app,e.next);return Promise.resolve()}}const Lc="app-check-internal";(0,fo._registerComponent)(new Ea.wA("app-check",n=>function(n,t){return new nO(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Lc).initialize()})),(0,fo._registerComponent)(new Ea.wA(Lc,n=>function(n){return{getToken:t=>vd(n,t),addTokenListener:t=>function(n,t,e,i){const{app:r}=n,a=Ks(r),h={next:e,error:i,type:t},f=Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,h]});if(!f.tokenRefresher){const m=function(n){const{app:t}=n;return new WR((0,ft.Z)(function*(){let i;if(i=Ks(t).token?yield vd(n,!0):yield vd(n),i.error)throw i.error}),()=>!0,()=>{const e=Ks(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n);f.tokenRefresher=m}if(!f.tokenRefresher.isRunning()&&a.isTokenAutoRefreshEnabled&&f.tokenRefresher.start(),a.token&&Vp(a.token)){const m=a.token;Promise.resolve().then(()=>e({token:m.token})).catch(()=>{})}else null==a.token&&a.cachedTokenPromise.then(m=>{m&&Vp(m)&&e({token:m.token})}).catch(()=>{});Rl(r,f)}(n,"INTERNAL",t),removeTokenListener:t=>kv(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,fo.registerVersion)("@firebase/app-check","0.4.2");class Pv{constructor(){return(0,ii.vb)("app-check")}}"undefined"!=typeof window&&window;var uD=Fe(7841);const Nv=new c.OlP("angularfire2.auth.use-emulator"),Fv=new c.OlP("angularfire2.auth.settings"),Lv=new c.OlP("angularfire2.auth.tenant-id"),Xm=new c.OlP("angularfire2.auth.langugage-code"),fE=new c.OlP("angularfire2.auth.use-device-language"),pE=new c.OlP("angularfire.auth.persistence"),Bv=(n,t,e,i,r,a,h,f)=>(0,ps.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=t.runOutsideAngular(()=>n.auth());if(e&&m.useEmulator(...e),i&&(m.tenantId=i),m.languageCode=r,a&&m.useDeviceLanguage(),h)for(const[b,F]of Object.entries(h))m.settings[b]=F;return f&&m.setPersistence(f),m},[e,i,r,a,h,f]);let Bc=(()=>{class n{constructor(e,i,r,a,h,f,m,b,F,K,we,Re){const qe=new cn.xQ,rt=(0,Rt.of)(void 0).pipe((0,Lp.QV)(h.outsideAngular),Ii(()=>a.runOutsideAngular(()=>Promise.resolve().then(Fe.bind(Fe,4671)))),(0,Gt.U)(()=>(0,ps.on)(e,a,i)),(0,Gt.U)(ht=>Bv(ht,a,f,b,F,K,m,we)),wv({bufferSize:1,refCount:!1}));if(Ka(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Rt.of)(null);else{rt.pipe(Qn()).subscribe();const St=rt.pipe(Ii(Wt=>Wt.getRedirectResult().then(qn=>qn,()=>null)),ii.iC,wv({bufferSize:1,refCount:!1})),Ft=rt.pipe(Ii(Wt=>new jn.y(qn=>({unsubscribe:a.runOutsideAngular(()=>Wt.onAuthStateChanged(Ui=>qn.next(Ui),Ui=>qn.error(Ui),()=>qn.complete()))})))),zt=rt.pipe(Ii(Wt=>new jn.y(qn=>({unsubscribe:a.runOutsideAngular(()=>Wt.onIdTokenChanged(Ui=>qn.next(Ui),Ui=>qn.error(Ui),()=>qn.complete()))}))));this.authState=St.pipe(YC(Ft),(0,Wm.R)(h.outsideAngular),(0,Lp.QV)(h.insideAngular)),this.user=St.pipe(YC(zt),(0,Wm.R)(h.outsideAngular),(0,Lp.QV)(h.insideAngular)),this.idToken=this.user.pipe(Ii(Wt=>Wt?(0,Un.D)(Wt.getIdToken()):(0,Rt.of)(null))),this.idTokenResult=this.user.pipe(Ii(Wt=>Wt?(0,Un.D)(Wt.getIdTokenResult()):(0,Rt.of)(null))),this.credential=(0,Nc.T)(St,qe,this.authState.pipe(Gi(Wt=>!Wt))).pipe((0,Gt.U)(Wt=>(null==Wt?void 0:Wt.user)?Wt:null),(0,Wm.R)(h.outsideAngular),(0,Lp.QV)(h.insideAngular))}return(0,ps.pX)(this,rt,a,{spy:{apply:(ht,St,Ft)=>{(ht.startsWith("signIn")||ht.startsWith("createUser"))&&Ft.then(zt=>qe.next(zt))}}})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ps.Dh),c.LFG(ps.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(ii.HU),c.LFG(Nv,8),c.LFG(Fv,8),c.LFG(Lv,8),c.LFG(Xm,8),c.LFG(fE,8),c.LFG(pE,8),c.LFG(Pv,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function fD(n,t){return function(n,t=Og.z){return new jn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function pD(n,t){return fD(n,t).pipe((0,Gt.U)(e=>({payload:e,type:"query"})))}function gE(n,t){return pD(n,t).pipe(jr(void 0),mu(),(0,Gt.U)(([e,i])=>{const r=i.payload.docChanges(),a=r.map(h=>({type:h.type,payload:h}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((h,f)=>{const m=r.find(F=>F.doc.ref.isEqual(h.ref)),b=null==e?void 0:e.payload.docs.find(F=>F.ref.isEqual(h.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(h.metadata)||!m&&b&&JSON.stringify(b.metadata)===JSON.stringify(h.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:h}})}),a}))}function dO(n,t,e){return gE(n,e).pipe(ol((i,r)=>function(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return mE(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return mE(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return mE(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),t),[]),pl(),(0,Gt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function mE(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function pO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class gO{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=gE(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Gt.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(jr(void 0),mu(),Gi(([i,r])=>r.length>0||!i),(0,Gt.U)(([i,r])=>r),ii.iC)}auditTrail(t){return this.stateChanges(t).pipe(ol((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=pO(t);return dO(this.query,e,this.afs.schedulers.outsideAngular).pipe(ii.iC)}valueChanges(t={}){return pD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Gt.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),ii.iC)}get(t){return(0,Un.D)(this.query.get(t)).pipe(ii.iC)}add(t){return this.ref.add(t)}doc(t){return new mO(this.ref.doc(t),this.afs)}}class mO{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:a}=s(i,e);return new gO(r,a,this.afs)}snapshotChanges(){return function(n,t){return fD(n,t).pipe(jr(void 0),mu(),(0,Gt.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ii.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Gt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Un.D)(this.ref.get(t)).pipe(ii.iC)}}class yO{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?gE(this.query,this.afs.schedulers.outsideAngular).pipe((0,Gt.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Gi(e=>e.length>0),ii.iC):gE(this.query,this.afs.schedulers.outsideAngular).pipe(ii.iC)}auditTrail(t){return this.stateChanges(t).pipe(ol((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=pO(t);return dO(this.query,e,this.afs.schedulers.outsideAngular).pipe(ii.iC)}valueChanges(t={}){return pD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Gt.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),ii.iC)}get(t){return(0,Un.D)(this.query.get(t)).pipe(ii.iC)}}const _O=new c.OlP("angularfire2.enableFirestorePersistence"),AO=new c.OlP("angularfire2.firestore.persistenceSettings"),TL=new c.OlP("angularfire2.firestore.settings"),DL=new c.OlP("angularfire2.firestore.use-emulator");function s(n,t=(e=>e)){return{query:t(n),ref:n}}let o=(()=>{class n{constructor(e,i,r,a,h,f,m,b,F,K,we,Re,qe,rt,ht,St,Ft){this.schedulers=m;const zt=(0,ps.on)(e,f,i),Wt=F;K&&Bv(zt,f,we,qe,rt,ht,Re,St),[this.firestore,this.persistenceEnabled$]=(0,ps.cc)(`${zt.name}.firestore`,"AngularFirestore",zt.name,()=>{const qn=f.runOutsideAngular(()=>zt.firestore());if(a&&qn.settings(a),Wt&&qn.useEmulator(...Wt),r&&!Ka(h)){const Ui=()=>{try{return(0,Un.D)(qn.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Es){return"undefined"!=typeof console&&console.warn(Es),(0,Rt.of)(!1)}};return[qn,f.runOutsideAngular(Ui)]}return[qn,(0,Rt.of)(!1)]},[a,Wt,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:a,query:h}=s(r,i),f=this.schedulers.ngZone.run(()=>a);return new gO(f,h,this)}collectionGroup(e,i){const r=i||(h=>h),a=this.firestore.collectionGroup(e);return new yO(r(a),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new mO(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ps.Dh),c.LFG(ps.xv,8),c.LFG(_O,8),c.LFG(TL,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(ii.HU),c.LFG(AO,8),c.LFG(DL,8),c.LFG(Bc,8),c.LFG(Nv,8),c.LFG(Fv,8),c.LFG(Lv,8),c.LFG(Xm,8),c.LFG(fE,8),c.LFG(pE,8),c.LFG(Pv,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),l=(()=>{class n{constructor(){uD.Z.registerVersion("angularfire",ii.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:_O,useValue:!0},{provide:AO,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[o]}),n})(),u=(()=>{class n{constructor(e){this.fireservices=e}create_Debat(e){return this.fireservices.collection("Debats").add(Object.assign({},e))}get_allDebat(){return this.fireservices.collection("Debats").snapshotChanges()}get_debatID(e){var i=this;return(0,ft.Z)(function*(){return i.fireservices.collection("Debats").doc(e).ref.get()})()}create_Msg(e,i){return this.fireservices.collection("Debats/"+i+"/Message").add(Object.assign({},e))}get_allMsg(e){return this.fireservices.collection("Debats/"+e+"/Message").snapshotChanges()}create_graphs(e){this.fireservices.collection("Debats").doc(e).collection("graphs").doc("graph").set({graph:!0})}get_allQuestions(e){return this.fireservices.collection("Debats/"+e+"/graphs/graph/Questions").snapshotChanges()}get_allAnswers(e,i){return this.fireservices.collection("Debats/"+e+"/graphs/graph/Questions/"+i+"/R\xe9ponses").snapshotChanges()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(o))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function d(n,t){if(1&n&&(c.TgZ(0,"div",8),c._UZ(1,"img",9),c.TgZ(2,"div",10),c.TgZ(3,"h5",11),c._uU(4),c.qZA(),c.TgZ(5,"p",12),c._uU(6),c.qZA(),c.TgZ(7,"p"),c._uU(8),c.qZA(),c.TgZ(9,"p",12),c._uU(10),c.ALo(11,"date"),c.qZA(),c.TgZ(12,"a",13),c._uU(13,"Consulter"),c.qZA(),c.qZA(),c.qZA()),2&n){const e=t.$implicit;c.xp6(4),c.Oqu(e.title),c.xp6(2),c.Oqu(e.author),c.xp6(2),c.hij("theme: ",e.theme,""),c.xp6(2),c.hij("Date: ",c.xi3(11,5,null==e.date?null:e.date.toDate(),"short"),""),c.xp6(2),c.MGl("href","debatlibre/",e.id,"",c.LSH)}}let p=(()=>{class n{constructor(e){this.forumsservice=e,this.name="Angular",this.imageObject=[{Image:"../../assets/images/live.png",thumbImage:"../../assets/images/live.png",title:"Sujet1"},{image:"../../assets/images/live.png",thumbImage:"../../assets/images/live.png",title:"Sujet"},{image:"../../assets/images/live.png",thumbImage:"../../assets/images/live.png",title:"Sujet3"},{image:"../../assets/images/live.png",thumbImage:"../../assets/images/live.png",title:"Sujet4"},{image:"../../assets/images/live.png",thumbImage:"../../assets/images/live.png",title:"Sujet5"},{image:"../../assets/images/live.png",thumbImage:"../../assets/images/live.png",title:"Sujet6"},{image:"../../assets/images/live.png",thumbImage:"../../assets/images/live.png",title:"Sujet7"}]}ngOnInit(){this.forumsservice.get_allDebat().subscribe(e=>{this.Debats=e.map(i=>Object.assign({id:i.payload.doc.id},i.payload.doc.data()))})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(u))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-tousdebats"]],decls:15,vars:1,consts:[[1,"contact-bg"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"contactheading"],[1,"layout_padding"],[1,"full","comment_form"],["class","card","style","width: 18rem;",4,"ngFor","ngForOf"],[1,"card",2,"width","18rem"],["src","../../assets/images/comments.jpg","alt","...",1,"card-img-top"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary","stretched-link",3,"href"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"h3"),c._uU(6,"Tous les d\xe9bats"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(7,"section",5),c.TgZ(8,"div",1),c.TgZ(9,"div",2),c.TgZ(10,"div",3),c.TgZ(11,"div",6),c.TgZ(12,"div",3),c.TgZ(13,"div",2),c.YNc(14,d,14,8,"div",7),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(14),c.Q6J("ngForOf",i.Debats))},directives:[vn],pipes:[Fd],styles:[".online[_ngcontent-%COMP%]{position:fixed;padding-top:15%;padding-bottom:15%}.test[_ngcontent-%COMP%]{position:absolute;transform:translate(50%,50%);padding-top:5%;display:flex;padding-right:35%;margin-left:25%}.test[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;color:#146325;font-size:20px;letter-spacing:normal;animation:flash 1.4s linear infinite;padding-right:20%}@keyframes flash{0%{color:#146325;text-shadow:none}90%{color:#146325;text-shadow:none}to{color:#fff900;text-shadow:0 0 7px #fff900,0 0 50px #fff900}}"]}),n})();class _{}var A=Fe(1555);function z(n,t){return new jn.y(e=>{const i=n.length;if(0===i)return void e.complete();const r=new Array(i);let a=0,h=0;for(let f=0;f<i;f++){const m=(0,Un.D)(n[f]);let b=!1;e.add(m.subscribe({next:F=>{b||(b=!0,h++),r[f]=F},error:F=>e.error(F),complete:()=>{a++,(a===i||!b)&&(h===i&&e.next(t?t.reduce((F,K,we)=>(F[K]=r[we],F),{}):r),e.complete())}}))}})}let le=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),De=(()=>{class n extends le{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Me=new c.OlP("NgValueAccessor"),ot={provide:Me,useExisting:(0,c.Gpc)(()=>pt),multi:!0},wt=new c.OlP("CompositionEventMode");let pt=(()=>{class n extends le{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=Se()?Se().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(wt,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&c.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[c._Bn([ot]),c.qOj]}),n})();const $t=new c.OlP("NgValidators"),ei=new c.OlP("NgAsyncValidators");function kL(n){return null!=n}function ML(n){const t=(0,c.QGY)(n)?(0,Un.D)(n):n;return(0,c.CqO)(t),t}function RL(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function OL(n,t){return t.map(e=>e(n))}function PL(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function vO(n){return null!=n?function(n){if(!n)return null;const t=n.filter(kL);return 0==t.length?null:function(e){return RL(OL(e,t))}}(PL(n)):null}function FL(n){if(!n)return null;const t=n.filter(kL);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if((0,fa.k)(t))return z(t,null);if((0,A.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return z(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return z(n=1===n.length&&(0,fa.k)(n[0])?n[0]:n,null).pipe((0,Gt.U)(e=>t(...e)))}return z(n,null)}(OL(e,t).map(ML)).pipe((0,Gt.U)(RL))}}function bO(n){return null!=n?FL(PL(n)):null}function LL(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function BL(n){return n._rawValidators}function VL(n){return n._rawAsyncValidators}function wO(n){return n?Array.isArray(n)?n:[n]:[]}function gD(n,t){return Array.isArray(n)?n.includes(t):n===t}function UL(n,t){const e=wO(t);return wO(n).forEach(r=>{gD(e,r)||e.push(r)}),e}function jL(n,t){return wO(t).filter(e=>!gD(n,e))}let HL=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=vO(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=bO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,i){return!!this.control&&this.control.hasError(e,i)}getError(e,i){return this.control?this.control.getError(e,i):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n}),n})(),wo=(()=>{class n extends HL{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();class Ed extends HL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class GL{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let mD=(()=>{class n extends GL{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ed,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&c.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[c.qOj]}),n})(),yD=(()=>{class n extends GL{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(wo,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&c.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[c.qOj]}),n})();function AD(n,t){return[...t.path,n]}function yE(n,t){xO(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&zL(n,t)})}(n,t),function(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&zL(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function vD(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),wD(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function bD(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function xO(n,t){const e=BL(n);null!==t.validator?n.setValidators(LL(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=VL(n);null!==t.asyncValidator?n.setAsyncValidators(LL(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();bD(t._rawValidators,r),bD(t._rawAsyncValidators,r)}function wD(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=BL(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(h=>h!==t.validator);a.length!==r.length&&(e=!0,n.setValidators(a))}}if(null!==t.asyncValidator){const r=VL(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(h=>h!==t.asyncValidator);a.length!==r.length&&(e=!0,n.setAsyncValidators(a))}}}const i=()=>{};return bD(t._rawValidators,i),bD(t._rawAsyncValidators,i),e}function zL(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function WL(n,t){xO(n,t)}function SO(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function qL(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function IO(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(a=>{a.constructor===pt?e=a:function(n){return Object.getPrototypeOf(n.constructor)===De}(a)?i=a:r=a}),r||i||e||null}function CD(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const _E="VALID",ED="INVALID",Wv="PENDING",AE="DISABLED";function TO(n){return(kO(n)?n.validators:n)||null}function ZL(n){return Array.isArray(n)?vO(n):n||null}function DO(n,t){return(kO(t)?t.asyncValidators:n)||null}function YL(n){return Array.isArray(n)?bO(n):n||null}function kO(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class MO{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=ZL(this._rawValidators),this._composedAsyncValidatorFn=YL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===_E}get invalid(){return this.status===ED}get pending(){return this.status==Wv}get disabled(){return this.status===AE}get enabled(){return this.status!==AE}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=ZL(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=YL(t)}addValidators(t){this.setValidators(UL(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(UL(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(jL(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(jL(t,this._rawAsyncValidators))}hasValidator(t){return gD(this._rawValidators,t)}hasAsyncValidator(t){return gD(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Wv,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=AE,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=_E,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_E||this.status===Wv)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?AE:_E}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Wv,this._hasOwnPendingAsyncValidator=!0;const e=ML(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=i instanceof vE?i.controls.hasOwnProperty(r)?i.controls[r]:null:i instanceof RO&&i.at(r)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?AE:this.errors?ED:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wv)?Wv:this._anyControlsHaveStatus(ED)?ED:_E}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){kO(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class qv extends MO{constructor(t=null,e,i){super(TO(e),DO(i,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){CD(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){CD(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class vE extends MO{constructor(t,e,i){super(TO(e),DO(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof qv?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,a)=>{i=e(i,r,a)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class RO extends MO{constructor(t,e,i){super(TO(e),DO(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,r)=>{this._throwIfControlMissing(r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof qv?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const $H={provide:wo,useExisting:(0,c.Gpc)(()=>Zv)},bE=(()=>Promise.resolve(null))();let Zv=(()=>{class n extends wo{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new c.vpe,this.form=new vE({},vO(e),bO(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){bE.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),yE(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){bE.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),CD(this._directives,e)})}addFormGroup(e){bE.then(()=>{const i=this._findContainer(e.path),r=new vE({});WL(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){bE.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){bE.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,qL(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(c.Y36($t,10),c.Y36(ei,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&c.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([$H]),c.qOj]}),n})(),KL=(()=>{class n extends wo{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return AD(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const XH={provide:Ed,useExisting:(0,c.Gpc)(()=>xD)},$L=(()=>Promise.resolve(null))();let xD=(()=>{class n extends Ed{constructor(e,i,r,a){super(),this.control=new qv,this._registered=!1,this.update=new c.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=IO(0,a)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),SO(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?AD(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){yE(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){$L.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;$L.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(wo,9),c.Y36($t,10),c.Y36(ei,10),c.Y36(Me,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([XH]),c.qOj,c.TTD]}),n})(),SD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const eG={provide:Me,useExisting:(0,c.Gpc)(()=>OO),multi:!0};let OO=(()=>{class n extends De{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&c.NdJ("input",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},features:[c._Bn([eG]),c.qOj]}),n})();const tG={provide:Me,useExisting:(0,c.Gpc)(()=>PO),multi:!0};let JL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),nG=(()=>{class n{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e)return void this._accessors.splice(i,1)}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return!!e[0].control&&e[0]._parent===i._control._parent&&e[1].name===i.name}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,c.Yz7)({factory:function(){return new n},token:n,providedIn:JL}),n})(),PO=(()=>{class n extends De{constructor(e,i,r,a){super(e,i),this._registry=r,this._injector=a,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Ed),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(nG),c.Y36(c.zs3))},n.\u0275dir=c.lG2({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,i){1&e&&c.NdJ("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[c._Bn([tG]),c.qOj]}),n})();const NO=new c.OlP("NgModelWithFormControlWarning"),sG={provide:wo,useExisting:(0,c.Gpc)(()=>wE)};let wE=(()=>{class n extends wo{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(wD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return yE(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){vD(e.control||null,e,!1),CD(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,qL(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(vD(i||null,e),r instanceof qv&&(yE(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);WL(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return wD(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){xO(this.form,this),this._oldForm&&wD(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36($t,10),c.Y36(ei,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&c.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([sG]),c.qOj,c.TTD]}),n})();const oG={provide:wo,useExisting:(0,c.Gpc)(()=>ID)};let ID=(()=>{class n extends KL{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){tB(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(wo,13),c.Y36($t,10),c.Y36(ei,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[c._Bn([oG]),c.qOj]}),n})();const aG={provide:wo,useExisting:(0,c.Gpc)(()=>TD)};let TD=(()=>{class n extends wo{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return AD(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){tB(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(wo,13),c.Y36($t,10),c.Y36(ei,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[c._Bn([aG]),c.qOj]}),n})();function tB(n){return!(n instanceof ID||n instanceof wE||n instanceof TD)}const lG={provide:Ed,useExisting:(0,c.Gpc)(()=>FO)};let FO=(()=>{class n extends Ed{constructor(e,i,r,a,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=IO(0,a)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),SO(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return AD(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(wo,13),c.Y36($t,10),c.Y36(ei,10),c.Y36(Me,10),c.Y36(NO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([lG]),c.qOj,c.TTD]}),n._ngModelWarningSentOnce=!1,n})();const cG={provide:Me,useExisting:(0,c.Gpc)(()=>DD),multi:!0};function nB(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let DD=(()=>{class n extends De{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=this._getOptionId(e);null==i&&this.setProperty("selectedIndex",-1);const r=nB(i,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&c.NdJ("change",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([cG]),c.qOj]}),n})(),iB=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(nB(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(DD,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const hG={provide:Me,useExisting:(0,c.Gpc)(()=>LO),multi:!0};function rB(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let LO=(()=>{class n extends De{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(a=>this._getOptionId(a));i=(a,h)=>{a._setSelected(r.indexOf(h.toString())>-1)}}else i=(r,a)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[];if(void 0!==i.selectedOptions){const a=i.selectedOptions;for(let h=0;h<a.length;h++){const f=a.item(h),m=this._getOptionValue(f.value);r.push(m)}}else{const a=i.options;for(let h=0;h<a.length;h++){const f=a.item(h);if(f.selected){const m=this._getOptionValue(f.value);r.push(m)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&c.NdJ("change",function(a){return i.onChange(a.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([hG]),c.qOj]}),n})(),sB=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(rB(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(rB(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(LO,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const gG={provide:$t,useExisting:(0,c.Gpc)(()=>kD),multi:!0};let kD=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?function(n){return function(n){return null==n||0===n.length}(n.value)?{required:!0}:null}(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&c.uIk("required",i.required?"":null)},inputs:{required:"required"},features:[c._Bn([gG])]}),n})(),pB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[JL]]}),n})(),bG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[pB]}),n})(),gB=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:NO,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[pB]}),n})(),CG=(()=>{class n{group(e,i=null){const r=this._reduceControls(e);let f,a=null,h=null;return null!=i&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(a=null!=i.validators?i.validators:null,h=null!=i.asyncValidators?i.asyncValidators:null,f=null!=i.updateOn?i.updateOn:void 0):(a=null!=i.validator?i.validator:null,h=null!=i.asyncValidator?i.asyncValidator:null)),new vE(r,{asyncValidators:h,updateOn:f,validators:a})}control(e,i,r){return new qv(e,i,r)}array(e,i,r){const a=e.map(h=>this._createControl(h));return new RO(a,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof qv||e instanceof vE||e instanceof RO?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,c.Yz7)({factory:function(){return new n},token:n,providedIn:gB}),n})();function EG(n,t){if(1&n&&(c.TgZ(0,"option",21),c._uU(1),c.qZA()),2&n){const e=t.$implicit;c.Q6J("ngValue",e),c.xp6(1),c.Oqu(e)}}function xG(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"div"),c.TgZ(2,"label"),c._uU(3,"Autres"),c.qZA(),c.TgZ(4,"input",22),c.NdJ("ngModelChange",function(r){return c.CHM(e),c.oxw().autres=r}),c.qZA(),c.qZA(),c.qZA()}if(2&n){const e=c.oxw();c.xp6(4),c.Q6J("ngModel",e.autres)}}function SG(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"label"),c._uU(2,"Type de r\xe9ponses :"),c.qZA(),c.TgZ(3,"div"),c.TgZ(4,"label"),c.TgZ(5,"input",23),c.NdJ("ngModelChange",function(r){return c.CHM(e),c.oxw().typeRep=r}),c.qZA(),c._uU(6,"Commentaires"),c.qZA(),c.TgZ(7,"label"),c.TgZ(8,"input",24),c.NdJ("ngModelChange",function(r){return c.CHM(e),c.oxw().typeRep=r}),c.qZA(),c._uU(9,"Oui & Non"),c.qZA(),c.TgZ(10,"label"),c.TgZ(11,"input",25),c.NdJ("ngModelChange",function(r){return c.CHM(e),c.oxw().typeRep=r}),c.qZA(),c._uU(12,"Personnalis\xe9"),c.qZA(),c.qZA(),c.TgZ(13,"div"),c.TgZ(14,"label"),c._uU(15,"Duration en minutes:"),c.qZA(),c.TgZ(16,"input",26),c.NdJ("ngModelChange",function(r){return c.CHM(e),c.oxw().duree=r}),c.qZA(),c.qZA(),c.qZA()}if(2&n){const e=c.oxw();c.xp6(5),c.Q6J("ngModel",e.typeRep),c.xp6(3),c.Q6J("ngModel",e.typeRep),c.xp6(3),c.Q6J("ngModel",e.typeRep),c.xp6(5),c.Q6J("ngModel",e.duree)}}let IG=(()=>{class n{constructor(e){this.forumsservice=e,this.authorName="",this.title="",this.container="",this.theme="",this.autres="",this.type="",this.typeRep="",this.duree=0,this.img=new FormData,this.themesList=["Informatique","Sciences","Cinema","Sport","Cuisine","Autres"]}ngOnInit(){}addSubject(){"Autres"==this.theme&&(this.theme=this.autres);let e=new _;e.author=this.authorName,e.title=this.title,e.container=this.container,e.theme=this.theme,e.type=this.type,e.date=new Date,this.forumsservice.create_Debat(e).then(i=>{this.authorName="",this.title="",this.container="",this.theme="",this.autres="",this.type="",this.forumsservice.create_graphs(i.id),console.log(i)}).catch(i=>{console.log(i)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(u))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-organiserdebat"]],decls:48,vars:9,consts:[[1,"contact-bg"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"contactheading"],[1,"layout_padding"],[1,"full","comment_form"],[2,"width","-webkit-fill-available","font-weight","600","color","#0f0824",3,"submit"],["type","radio","name","type","value","libre",2,"width","12%","height","12px",3,"ngModel","ngModelChange"],["for","libre"],["type","radio","name","type","value","guide",2,"width","12%","height","12px",3,"ngModel","ngModelChange"],["for","guide"],[3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[4,"ngIf"],["type","text","name","authorName","placeholder","Entrez un nom d'utilisateur",3,"ngModel","ngModelChange"],["type","text","name","title","placeholder","Entrez le titre du d\xe9bat",3,"ngModel","ngModelChange"],["cols","30","row","10","name","container","placeholder","...",3,"ngModel","ngModelChange"],[1,"row","margin_top_30"],[1,"center"],[3,"click"],[3,"ngValue"],["type","text","name","autres",3,"ngModel","ngModelChange"],["type","radio","name","typeRep","value","normal",2,"width","12%","height","12px","width","216px",3,"ngModel","ngModelChange"],["type","radio","name","typeRep","value","yn",2,"width","12%","height","12px","width","216px",3,"ngModel","ngModelChange"],["type","radio","name","typeRep","value","custm",2,"width","12%","height","12px","width","216px",3,"ngModel","ngModelChange"],["type","number","name","duree",3,"ngModel","ngModelChange"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"h3"),c._uU(6,"Animer votre d\xe9bat"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(7,"section",5),c.TgZ(8,"div",1),c.TgZ(9,"div",2),c.TgZ(10,"div",3),c.TgZ(11,"div",6),c.TgZ(12,"div",3),c.TgZ(13,"div",2),c.TgZ(14,"form",7),c.NdJ("submit",function(){return i.addSubject()}),c.TgZ(15,"label"),c._uU(16,"Type du d\xe9bat : "),c.qZA(),c.TgZ(17,"div"),c.TgZ(18,"input",8),c.NdJ("ngModelChange",function(a){return i.type=a}),c.qZA(),c.TgZ(19,"label",9),c._uU(20,"Libre"),c.qZA(),c.TgZ(21,"input",10),c.NdJ("ngModelChange",function(a){return i.type=a}),c.qZA(),c.TgZ(22,"label",11),c._uU(23,"Guid\xe9"),c.qZA(),c.qZA(),c.TgZ(24,"div"),c.TgZ(25,"label"),c._uU(26,"Th\xe8me :"),c.qZA(),c.TgZ(27,"select",12),c.NdJ("ngModelChange",function(a){return i.theme=a}),c.YNc(28,EG,2,2,"option",13),c.qZA(),c.qZA(),c.YNc(29,xG,5,1,"div",14),c.TgZ(30,"div"),c.TgZ(31,"label"),c._uU(32,"Nom d'utilisateur :"),c.qZA(),c.TgZ(33,"input",15),c.NdJ("ngModelChange",function(a){return i.authorName=a}),c.qZA(),c.qZA(),c.TgZ(34,"div"),c.TgZ(35,"label"),c._uU(36,"Titre du d\xe9bat :"),c.qZA(),c.TgZ(37,"input",16),c.NdJ("ngModelChange",function(a){return i.title=a}),c.qZA(),c.qZA(),c.TgZ(38,"div"),c.TgZ(39,"label"),c._uU(40,"Sujet :"),c.qZA(),c.TgZ(41,"textarea",17),c.NdJ("ngModelChange",function(a){return i.container=a}),c.qZA(),c.qZA(),c.YNc(42,SG,17,4,"div",14),c.qZA(),c.qZA(),c.qZA(),c.TgZ(43,"div",18),c.TgZ(44,"div",3),c.TgZ(45,"div",19),c.TgZ(46,"button",20),c.NdJ("click",function(){return i.addSubject()}),c._uU(47,"Valider"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(18),c.Q6J("ngModel",i.type),c.xp6(3),c.Q6J("ngModel",i.type),c.xp6(6),c.Q6J("ngModel",i.theme),c.xp6(1),c.Q6J("ngForOf",i.themesList),c.xp6(1),c.Q6J("ngIf","Autres"===i.theme),c.xp6(4),c.Q6J("ngModel",i.authorName),c.xp6(4),c.Q6J("ngModel",i.title),c.xp6(4),c.Q6J("ngModel",i.container),c.xp6(1),c.Q6J("ngIf","guide"===i.type))},directives:[SD,yD,Zv,PO,pt,mD,xD,DD,vn,Sr,iB,sB,OO],styles:[""]}),n})();class TG{}function DG(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"tr",16),c.TgZ(1,"td"),c._UZ(2,"input",17),c.qZA(),c.TgZ(3,"td"),c.TgZ(4,"button",18),c.NdJ("click",function(){const a=c.CHM(e).index;return c.oxw().removeAnswers(a)}),c._UZ(5,"i",19),c._uU(6," supprimer"),c.qZA(),c.qZA(),c.qZA()}2&n&&c.Q6J("formGroupName",t.index)}let kG=(()=>{class n{constructor(e,i,r,a){this.firestore=e,this.fb=i,this.router=r,this.route=a,this.VoteForm=this.fb.group({question:"",answers:this.fb.array([])})}answers(){return this.VoteForm.get("answers")}newAnswers(){return this.fb.group({answer:""})}addAnswers(){this.answers().push(this.newAnswers())}removeAnswers(e){this.answers().removeAt(e)}onSubmitQuestion(){this.id_debat=this.route.snapshot.params.id,this.firestore.collection("Debats").doc(this.id_debat).collection("graphs").doc("graph").collection("Questions").add({content:this.VoteForm.value.question}).then(i=>{this.VoteForm.value.answers.forEach(r=>{this.onSubmitAnswer(i.id,r.answer)}),window.location.reload()}).catch(i=>{console.log(i)})}onSubmitAnswer(e,i){this.firestore.collection("Debats").doc(this.id_debat).collection("graphs").doc("graph").collection("Questions").doc(e).collection("R\xe9ponses").add({name:i,rate:0}).then(r=>{console.log(r),this.VoteForm.value.reset()}).catch(r=>{console.log(r)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(o),c.Y36(CG),c.Y36(fr),c.Y36(Ho))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-chart-forms"]],decls:24,vars:2,consts:[[1,"layout_padding"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"heading",2,"padding-left","15px","padding-right","15px"],[2,"border-bottom","solid #333 1px"],[1,"full","comment_form"],[3,"formGroup","ngSubmit"],["type","text","id","name","name","name","formControlName","question","placeholder","Ajouter votre question ici ",1,"form-control"],["formArrayName","answers",1,"table","table-bordered"],["width","150px"],["type","button",1,"btn","btn-primary",2,"background-color","#595f62","width","800px","margin-left","167px","font-size","19px",3,"click"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","margin_top_30"],[1,"center"],["type","submit"],[3,"formGroupName"],["type","text","formControlName","answer","placeholder","Ajouter une r\xe9ponse ici",1,"form-control"],[2,"border-radius","15px","width","169px","height","40px","margin-top","22px","margin-left","13px","background-color","#595f62",3,"click"],["aria-hidden","true",1,"fa","fa-trash"]],template:function(e,i){1&e&&(c.TgZ(0,"section",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"h4",5),c._uU(6,"Cr\xe9er un nouveau vote"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(7,"div",2),c.TgZ(8,"div",3),c.TgZ(9,"div",6),c.TgZ(10,"form",7),c.NdJ("ngSubmit",function(){return i.onSubmitQuestion()}),c.TgZ(11,"p"),c._UZ(12,"input",8),c.qZA(),c.TgZ(13,"table",9),c.TgZ(14,"tr"),c.TgZ(15,"th",10),c.TgZ(16,"button",11),c.NdJ("click",function(){return i.addAnswers()}),c._uU(17,"Ajouter vos r\xe9ponses personnalis\xe9es en cliquant ici"),c.qZA(),c.qZA(),c.qZA(),c.YNc(18,DG,7,1,"tr",12),c.qZA(),c.TgZ(19,"div",13),c.TgZ(20,"div",3),c.TgZ(21,"div",14),c.TgZ(22,"button",15),c._uU(23,"Publier"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(10),c.Q6J("formGroup",i.VoteForm),c.xp6(8),c.Q6J("ngForOf",i.answers().controls))},directives:[SD,yD,wE,pt,mD,FO,TD,vn,ID],styles:[""]}),n})();const MG=["answers"];let RG=(()=>{class n{constructor(e,i,r,a,h,f){this.el=e,this.renderer=i,this.firestore=r,this.forumsservice=a,this.route=h,this.router=f,this.chardata=[],this.charnames=[],this.Votes=[],this.VotesAnswers=[],this.id_debat=this.route.snapshot.params.id}ngOnInit(){this.id_debat=this.route.snapshot.params.id,this.renderer.createElement("br"),this.forumsservice.get_allQuestions(this.id_debat).pipe(Qn()).subscribe(i=>{i.map(r=>{this.forumsservice.get_allAnswers(this.id_debat,r.payload.doc.id).pipe(Qn()).subscribe(a=>{const h=this.renderer.createElement("h1"),f=this.renderer.createText(r.payload.doc.get("content"));this.renderer.appendChild(h,f),this.renderer.appendChild(this.el.nativeElement,h),a.map(F=>{F.payload.doc.data(),this.charnames.push(F.payload.doc.get("name"));const we=this.renderer.createElement("button"),Re=this.renderer.createText(F.payload.doc.get("name"));this.renderer.appendChild(we,Re),this.renderer.setStyle(we,"background-color","#02a302"),this.renderer.setStyle(we,"color","white"),this.renderer.setStyle(we,"border-radius","8px"),this.renderer.setStyle(we,"width","fit-content"),this.renderer.setStyle(we,"padding-right","10px"),this.renderer.setStyle(we,"padding-left","10px"),this.renderer.setStyle(we,"margin-right","10px"),this.renderer.setStyle(we,"font-size","large"),this.renderer.appendChild(this.el.nativeElement,we),this.renderer.listen(we,"click",()=>{this.vote(r.payload.doc.id,F.payload.doc.id,F.payload.doc.get("name"),F.payload.doc.get("rate")),this.renderer.setAttribute(we,"disabled","True")})});const m=this.renderer.createElement("button"),b=this.renderer.createText("Afficher le graphe");this.renderer.appendChild(m,b),this.renderer.setStyle(m,"background-color","blue"),this.renderer.setStyle(m,"color","white"),this.renderer.setStyle(m,"border-radius","8px"),this.renderer.setStyle(m,"width","fit-content"),this.renderer.setStyle(m,"padding-right","6px"),this.renderer.setStyle(m,"padding-left","6px"),this.renderer.setStyle(m,"font-size","large"),this.renderer.appendChild(this.el.nativeElement,m),this.renderer.listen(m,"click",()=>{this.showGraphe(r.payload.doc.id,this.id_debat)})})})})}vote(e,i,r,a){alert("vous avez vot\xe9 :"+r),this.firestore.collection("Debats").doc(this.id_debat).collection("graphs").doc("graph").collection("Questions").doc(e).collection("R\xe9ponses").doc(i).update({rate:a+1})}showGraphe(e,i){this.router.navigate(["vote-chart"],{queryParams:{GraphID:i,QuestionID:e}})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(o),c.Y36(u),c.Y36(Ho),c.Y36(fr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-buttons"]],viewQuery:function(e,i){if(1&e&&c.Gf(MG,5),2&e){let r;c.iGM(r=c.CRH())&&(i.answers=r.first)}},decls:3,vars:0,consts:[[1,"question"],["answers",""]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c._UZ(1,"div",null,1),c.qZA())},styles:[".question[_ngcontent-%COMP%]{pointer-events:none}"]}),n})();function OG(n,t){if(1&n&&(c.TgZ(0,"div",27),c.TgZ(1,"div"),c.TgZ(2,"h3",28),c._uU(3),c.qZA(),c.qZA(),c.TgZ(4,"div",29),c.TgZ(5,"h4"),c._uU(6),c.ALo(7,"date"),c.qZA(),c.qZA(),c.TgZ(8,"p"),c._uU(9),c.qZA(),c._UZ(10,"br"),c.qZA()),2&n){const e=t.$implicit;c.xp6(3),c.Oqu(e.author),c.xp6(3),c.Oqu(c.xi3(7,3,null==e.date?null:e.date.toDate(),"medium")),c.xp6(3),c.Oqu(e.message)}}let PG=(()=>{class n{constructor(e,i,r){this.route=e,this.forumsservice=i,this.Debat=r,this.message="",this.authorName=""}ngOnInit(){this.id=this.route.snapshot.params.id,this.forumsservice.get_debatID(this.id).then(e=>{e.exists?(console.log(e.data()),this.Debat=e.data(),console.log(this.Debat.author)):console.log("There is no document!")}).catch(function(e){console.log("There was an error getting your document:",e)}),console.log(this.id),console.log(this.forumsservice.get_debatID(this.id)),this.forumsservice.get_allMsg(this.id).subscribe(e=>{this.Msgs=e.map(i=>Object.assign({id:i.payload.doc.id},i.payload.doc.data()))})}DateTOString(e){return e.toISOString()}addMsg(){let e=new TG;e.author=this.authorName,e.message=this.message,e.date=new Date,console.log(e.date),this.forumsservice.create_Msg(e,this.id).then(i=>{this.authorName="",this.message="",console.log(i)}).catch(i=>{console.log(i)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ho),c.Y36(u),c.Y36(_))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-debatlibre"]],decls:68,vars:9,consts:[[1,"section","layout_padding","blog_blue_bg","light_silver"],[1,"container"],[1,"row"],[1,"col-md-8","offset-md-2"],[1,"heading"],[1,"full"],[1,"big_blog"],["src","../../assets/images/comments.jpg","alt","#",1,"img-responsive"],[1,"blog_cont_2"],[1,"sublittle"],[1,"layout_padding"],[1,"col-md-12"],[1,"heading",2,"padding-left","15px","padding-right","15px"],[2,"border-bottom","solid #333 1px"],[1,"full","comment_blog_line"],[1,"col-md-9"],["class","full contact_text","style","border-style: inset;   width: 135%;",4,"ngFor","ngForOf"],[1,"row","margin_top_30"],[1,"col-md-12","margin_top_30"],[1,"full","comment_form"],["action","index.html"],[1,"col-md-6"],["type","text","name","authorName","placeholder","Nom d'utilisateur","required","#",3,"ngModel","ngModelChange"],["type","text","name","message","placeholder","Commentaire","required","#",3,"ngModel","ngModelChange"],[1,"center"],[3,"click"],[1,"layout_padding",2,"padding-top","0px"],[1,"full","contact_text",2,"border-style","inset","width","135%"],[2,"color","#2f2f79","font-size","17px"],[2,"margin-top","-24px","margin-left","84%"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"h3"),c._uU(6,"Que pensez-vous?"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(7,"div",2),c.TgZ(8,"div",3),c.TgZ(9,"div",5),c.TgZ(10,"div",6),c._UZ(11,"img",7),c.qZA(),c.TgZ(12,"div",8),c.TgZ(13,"h3"),c._uU(14),c.qZA(),c.TgZ(15,"p",9),c._uU(16),c.ALo(17,"date"),c.qZA(),c.TgZ(18,"p"),c._uU(19),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(20,"section",10),c.TgZ(21,"div",1),c.TgZ(22,"div",2),c.TgZ(23,"div",11),c.TgZ(24,"div",12),c.TgZ(25,"h4",13),c._uU(26,"Commentaires"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(27,"div",2),c.TgZ(28,"div",11),c.TgZ(29,"div",14),c.TgZ(30,"div",2),c.TgZ(31,"div",15),c.YNc(32,OG,11,6,"div",16),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(33,"div",17),c.TgZ(34,"div",18),c.TgZ(35,"div",12),c.TgZ(36,"h4"),c._uU(37,"Ajouter un commentaire"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(38,"div",2),c.TgZ(39,"div",11),c.TgZ(40,"div",19),c.TgZ(41,"form",20),c.TgZ(42,"fieldset"),c.TgZ(43,"div",11),c.TgZ(44,"div",2),c.TgZ(45,"div",21),c.TgZ(46,"input",22),c.NdJ("ngModelChange",function(a){return i.authorName=a}),c.qZA(),c.TgZ(47,"input",23),c.NdJ("ngModelChange",function(a){return i.message=a}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(48,"div",17),c.TgZ(49,"div",11),c.TgZ(50,"div",24),c.TgZ(51,"button",25),c.NdJ("click",function(){return i.addMsg()}),c._uU(52,"Publier"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c._UZ(53,"app-chart-forms"),c.TgZ(54,"section",26),c.TgZ(55,"div",1),c.TgZ(56,"div",2),c.TgZ(57,"div",11),c.TgZ(58,"div",12),c.TgZ(59,"h4",13),c._uU(60,"Votez ici et visualisez le graphe des caract\xe9ristiques "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(61,"div",2),c.TgZ(62,"div",11),c.TgZ(63,"div",14),c.TgZ(64,"div",2),c.TgZ(65,"fieldset"),c.TgZ(66,"div",11),c._UZ(67,"app-buttons"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(14),c.Oqu(i.Debat.title),c.xp6(2),c.Oqu(c.xi3(17,6,null==i.Debat.date?null:i.Debat.date.toDate(),"medium")),c.xp6(3),c.Oqu(i.Debat.container),c.xp6(13),c.Q6J("ngForOf",i.Msgs),c.xp6(14),c.Q6J("ngModel",i.authorName),c.xp6(1),c.Q6J("ngModel",i.message))},directives:[vn,SD,yD,Zv,pt,kD,mD,xD,kG,RG],pipes:[Fd],styles:[""]}),n})(),NG=(()=>{class n{constructor(e,i,r){this.firestoreservice=e,this.router=i,this.activeRoute=r,this.IdQuestion=r.snapshot.queryParams.QuestionID,this.IdGraph=r.snapshot.queryParams.GraphID,this.rateCollection=e.collection("Debats").doc(this.IdGraph).collection("graphs").doc("graph").collection("Questions").doc(this.IdQuestion).collection("R\xe9ponses"),this.rates$=this.rateCollection.snapshotChanges().pipe((0,Gt.U)(a=>a.map(h=>{const f=h.payload.doc.data();return Object.assign({id:h.payload.doc.id},f)})))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(o),c.LFG(fr),c.LFG(Ho))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FG(n,t){if(1&n&&c._UZ(0,"highcharts-chart",7),2&n){const e=c.oxw();c.Q6J("Highcharts",e.Highcharts)("options",e.chartOptions)}}const LG=[{path:"home",component:wM},{path:"organiserdebat",component:IG},{path:"tousdebats",component:p},{path:"header",component:G0},{path:"footer",component:Tx},{path:"debatlibre/:id",component:PG},{path:"",redirectTo:"home",pathMatch:"full"},{path:"vote-chart",component:(()=>{class n{constructor(e,i){this.highchartservice=e,this.router=i,this.Highcharts=fM,this.chardata=[],this.charnames=[],localStorage.getItem("refresh")?localStorage.removeItem("refresh"):(localStorage.setItem("refresh","no reload"),window.location.reload())}ngOnInit(){this.highchartservice.rates$.subscribe(e=>{this.chardata=[],this.charnames=[],this.items$=e,this.items$&&(this.items$.forEach(i=>{this.chardata.push(i.rate),this.charnames.push(i.name)}),this.getChart())})}getChart(){this.chartOptions={series:[{data:this.chardata}],chart:{type:"column"},title:{text:"Graphe de vote"},xAxis:{categories:this.charnames},plotOptions:{column:{colorByPoint:!0}}}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(NG),c.Y36(fr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-vote-chart"]],decls:12,vars:1,consts:[[1,"contact-bg"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"contactheading"],[1,"layout_padding"],["style","width: 100%; height: 400px; display: block;",3,"Highcharts","options",4,"ngIf"],[2,"width","100%","height","400px","display","block",3,"Highcharts","options"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"h3"),c._uU(6,"Statistiques du Vote"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(7,"section",5),c.TgZ(8,"div",1),c.TgZ(9,"div",2),c.TgZ(10,"div",3),c.YNc(11,FG,1,2,"highcharts-chart",6),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(11),c.Q6J("ngIf",i.chartOptions))},directives:[Sr,un],styles:[""]}),n})()}];let GO,BG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[U0.forRoot(LG,{preloadingStrategy:g_})],U0]}),n})();class i3{constructor(t){this.notifier=t}call(t,e){const i=new r3(t),r=(0,ls.ft)(this.notifier,new ls.IY(i));return r&&!i.seenValue?(i.add(r),e.subscribe(i)):i}}class r3 extends ls.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function vB(n){return Array.isArray(n)?n:[n]}function br(n){return null==n?"":"string"==typeof n?n:`${n}px`}try{GO="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){GO=!1}let ty,Vc,or=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Yc(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!GO)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({factory:function(){return new n(c.LFG(c.Lbi))},token:n,providedIn:"root"}),n})(),MD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function wB(){if(null==ty){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ty=!1,ty;if("scrollBehavior"in document.documentElement.style)ty=!0;else{const n=Element.prototype.scrollTo;ty=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ty}function ny(n){return n.composedPath?n.composedPath()[0]:n.target}function qO(){return void 0!==Vc.__karma__&&!!Vc.__karma__||void 0!==Vc.jasmine&&!!Vc.jasmine||void 0!==Vc.jest&&!!Vc.jest||void 0!==Vc.Mocha&&!!Vc.Mocha}Vc="undefined"!=typeof global?global:"undefined"!=typeof window?window:{};let ZO=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})(),YO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[ZO]}),n})();"undefined"!=typeof Element&&Element;const VB="cdk-high-contrast-black-on-white",UB="cdk-high-contrast-white-on-black",KO="cdk-high-contrast-active";let jB=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(KO),e.remove(VB),e.remove(UB),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(KO),e.add(VB)):2===i&&(e.add(KO),e.add(UB))}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(or),c.LFG(ge))},n.\u0275prov=c.Yz7({factory:function(){return new n(c.LFG(or),c.LFG(ge))},token:n,providedIn:"root"}),n})();const HB=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,c.f3M)(ge)}});let iy=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new c.vpe,e){const r=e.documentElement?e.documentElement.dir:null,a=(e.body?e.body.dir:null)||r;this.value="ltr"===a||"rtl"===a?a:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(HB,8))},n.\u0275prov=c.Yz7({factory:function(){return new n(c.LFG(HB,8))},token:n,providedIn:"root"}),n})(),SE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const GB=new c.GfV("12.2.11");function YB(){return"undefined"!=typeof window&&void 0!==window.document}function XO(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}let iP=(n,t)=>!1,rP=(n,t)=>!1,$B=(n,t,e)=>[];const JB=XO();(JB||"undefined"!=typeof Element)&&(iP=YB()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),rP=(()=>{if(JB||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):rP}})(),$B=(n,t,e)=>{let i=[];if(e){const r=n.querySelectorAll(t);for(let a=0;a<r.length;a++)i.push(r[a])}else{const r=n.querySelector(t);r&&i.push(r)}return i});const zV=new c.GfV("12.2.11"),hW=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let ly,$r=(()=>{class n{constructor(e,i,r){this._hasDoneGlobalChecks=!1,this._document=r,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=i,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!(!(0,c.X6Q)()||qO())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const i=getComputedStyle(e);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&zV.full!==GB.full&&console.warn("The Angular Material version ("+zV.full+") does not match the Angular CDK version ("+GB.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(jB),c.LFG(hW,8),c.LFG(ge))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[SE],SE]}),n})();try{ly="undefined"!=typeof Intl}catch(n){ly=!1}let rk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[$r,MD],$r]}),n})(),RW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[$r]]}),n})(),$V=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[rk,sa,$r,RW]]}),n})(),zW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[rk,$r],$r]}),n})();Fe(205);var t2=Fe(8819);let gq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[$r],$r]}),n})();var mq=Fe(9105);function ck(n,t,e,i){return(0,mq.m)(e)&&(i=e,e=void 0),i?ck(n,t,e).pipe((0,Gt.U)(r=>(0,fa.k)(r)?i(...r):i(r))):new jn.y(r=>{v2(n,t,function(h){r.next(arguments.length>1?Array.prototype.slice.call(arguments):h)},r,e)})}function v2(n,t,e,i,r){let a;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const h=n;n.addEventListener(t,e,r),a=()=>h.removeEventListener(t,e,r)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const h=n;n.on(t,e),a=()=>h.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const h=n;n.addListener(t,e),a=()=>h.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let h=0,f=n.length;h<f;h++)v2(n[h],t,e,i,r)}i.add(a)}let D2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[sa,$r,YO],$r]}),n})();var zq=Fe(6465),qq=Fe(6102);new class extends qq.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,r=-1,a=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++r<a&&(t=e.shift()));if(this.active=!1,i){for(;++r<a&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends zq.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});Fe(4581);class $q{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Jq(t,this.durationSelector))}}class Jq extends ls.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:r}=this;e=r(t)}catch(r){return this.destination.error(r)}const i=(0,ls.ft)(e,new ls.IY(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var M2=Fe(6561);function e6(n){const{index:t,period:e,subscriber:i}=n;if(i.next(t),!i.closed){if(-1===e)return i.complete();n.index=t+1,this.schedule(n,e)}}function UP(n,t=Og.P){return function(n){return function(e){return e.lift(new $q(n))}}(()=>function(n=0,t,e){let i=-1;return(0,M2.k)(t)?i=Number(t)<1?1:Number(t):(0,No.K)(t)&&(e=t),(0,No.K)(e)||(e=Og.P),new jn.y(r=>{const a=(0,M2.k)(n)?n:+n-e.now();return e.schedule(e6,a,{index:0,period:i,subscriber:r})})}(n,t))}let uk=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new cn.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new jn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(UP(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Rt.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Gi(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,e)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=function(n){return n instanceof c.SBq?n.nativeElement:n}(i),a=e.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ck(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b),c.LFG(or),c.LFG(ge,8))},n.\u0275prov=c.Yz7({factory:function(){return new n(c.LFG(c.R0b),c.LFG(or),c.LFG(ge,8))},token:n,providedIn:"root"}),n})(),e0=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new cn.xQ,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,a=r.getBoundingClientRect();return{top:-a.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(UP(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(or),c.LFG(c.R0b),c.LFG(ge,8))},n.\u0275prov=c.Yz7({factory:function(){return new n(c.LFG(or),c.LFG(c.R0b),c.LFG(ge,8))},token:n,providedIn:"root"}),n})(),jP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),L2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[SE,MD,jP],SE,jP]}),n})();class HP{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class g6 extends HP{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class GP extends HP{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class m6 extends HP{constructor(t){super(),this.element=t instanceof c.SBq?t.nativeElement:t}}class y6 extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof g6?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof GP?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof m6?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,i,r,a){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=h=>{const f=h.element,m=this._document.createComment("dom-portal");f.parentNode.insertBefore(m,f),this.outletElement.appendChild(f),this._attachedPortal=h,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(f,m)})},this._document=a}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let _6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const j2=wB();class w6{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=br(-this._previousScrollPosition.left),t.style.top=br(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,a=i.scrollBehavior||"",h=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),j2&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),j2&&(i.scrollBehavior=a,r.scrollBehavior=h)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class C6{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class H2{enable(){}disable(){}attach(){}}function zP(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function G2(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class E6{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();zP(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let x6=(()=>{class n{constructor(e,i,r,a){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new H2,this.close=h=>new C6(this._scrollDispatcher,this._ngZone,this._viewportRuler,h),this.block=()=>new w6(this._viewportRuler,this._document),this.reposition=h=>new E6(this._scrollDispatcher,this._viewportRuler,this._ngZone,h),this._document=a}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(uk),c.LFG(e0),c.LFG(c.R0b),c.LFG(ge))},n.\u0275prov=c.Yz7({factory:function(){return new n(c.LFG(uk),c.LFG(e0),c.LFG(c.R0b),c.LFG(ge))},token:n,providedIn:"root"}),n})();class z2{constructor(t){if(this.scrollStrategy=new H2,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class S6{constructor(t,e,i,r,a){this.offsetX=i,this.offsetY=r,this.panelClass=a,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class I6{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let W2=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ge))},n.\u0275prov=c.Yz7({factory:function(){return new n(c.LFG(ge))},token:n,providedIn:"root"}),n})(),T6=(()=>{class n extends W2{constructor(e){super(e),this._keydownListener=i=>{const r=this._attachedOverlays;for(let a=r.length-1;a>-1;a--)if(r[a]._keydownEvents.observers.length>0){r[a]._keydownEvents.next(i);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ge))},n.\u0275prov=c.Yz7({factory:function(){return new n(c.LFG(ge))},token:n,providedIn:"root"}),n})(),D6=(()=>{class n extends W2{constructor(e,i){super(e),this._platform=i,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=ny(r)},this._clickListener=r=>{const a=ny(r),h="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const f=this._attachedOverlays.slice();for(let m=f.length-1;m>-1;m--){const b=f[m];if(!(b._outsidePointerEvents.observers.length<1)&&b.hasAttached()){if(b.overlayElement.contains(a)||b.overlayElement.contains(h))break;b._outsidePointerEvents.next(r)}}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ge),c.LFG(or))},n.\u0275prov=c.Yz7({factory:function(){return new n(c.LFG(ge),c.LFG(or))},token:n,providedIn:"root"}),n})(),WP=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||qO()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].parentNode.removeChild(r[a])}const i=this._document.createElement("div");i.classList.add(e),qO()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ge),c.LFG(or))},n.\u0275prov=c.Yz7({factory:function(){return new n(c.LFG(ge),c.LFG(or))},token:n,providedIn:"root"}),n})();class k6{constructor(t,e,i,r,a,h,f,m,b){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=h,this._document=f,this._location=m,this._outsideClickDispatcher=b,this._backdropElement=null,this._backdropClick=new cn.xQ,this._attachments=new cn.xQ,this._detachments=new cn.xQ,this._locationChanges=Vs.w.EMPTY,this._backdropClickHandler=F=>this._backdropClick.next(F),this._keydownEvents=new cn.xQ,this._outsidePointerEvents=new cn.xQ,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ao(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=br(this._config.width),t.height=br(this._config.height),t.minWidth=br(this._config.minWidth),t.minHeight=br(this._config.minHeight),t.maxWidth=br(this._config.maxWidth),t.maxHeight=br(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const i=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",i),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",i)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(t,e,i){const r=t.classList;vB(e).forEach(a=>{a&&(i?r.add(a):r.remove(a))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(function(n){return t=>t.lift(new i3(n))}((0,Nc.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.parentNode&&t.parentNode.removeChild(t),this._backdropElement===t&&(this._backdropElement=null))}}const q2="cdk-overlay-connected-position-bounding-box",M6=/([A-Za-z%]+)$/;class Z2{constructor(t,e,i,r,a){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new cn.xQ,this._resizeSubscription=Vs.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(q2),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=[];let a;for(let h of this._preferredPositions){let f=this._getOriginPoint(t,h),m=this._getOverlayPoint(f,e,h),b=this._getOverlayFit(m,e,i,h);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,f);this._canFitWithFlexibleDimensions(b,m,i)?r.push({position:h,origin:f,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(f,h)}):(!a||a.overlayFit.visibleArea<b.visibleArea)&&(a={overlayFit:b,overlayPoint:m,originPoint:f,position:h,overlayRect:e})}if(r.length){let h=null,f=-1;for(const m of r){const b=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);b>f&&(f=b,h=m)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&hy(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(q2),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let i,r;if("center"==e.originX)i=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;i="start"==e.originX?a:h}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:i,y:r}}_getOverlayPoint(t,e,i){let r,a;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,a="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+a}}_getOverlayFit(t,e,i,r){const a=K2(e);let{x:h,y:f}=t,m=this._getOffset(r,"x"),b=this._getOffset(r,"y");m&&(h+=m),b&&(f+=b);let we=0-f,Re=f+a.height-i.height,qe=this._subtractOverflows(a.width,0-h,h+a.width-i.width),rt=this._subtractOverflows(a.height,we,Re),ht=qe*rt;return{visibleArea:ht,isCompletelyWithinViewport:a.width*a.height===ht,fitsInViewportVertically:rt===a.height,fitsInViewportHorizontally:qe==a.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,a=i.right-e.x,h=Y2(this._overlayRef.getConfig().minHeight),f=Y2(this._overlayRef.getConfig().minWidth),b=t.fitsInViewportHorizontally||null!=f&&f<=a;return(t.fitsInViewportVertically||null!=h&&h<=r)&&b}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=K2(e),a=this._viewportRect,h=Math.max(t.x+r.width-a.width,0),f=Math.max(t.y+r.height-a.height,0),m=Math.max(a.top-i.top-t.y,0),b=Math.max(a.left-i.left-t.x,0);let F=0,K=0;return F=r.width<=a.width?b||-h:t.x<this._viewportMargin?a.left-i.left-t.x:0,K=r.height<=a.height?m||-f:t.y<this._viewportMargin?a.top-i.top-t.y:0,this._previousPushAmount={x:F,y:K},{x:t.x+F,y:t.y+K}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new I6(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let a=0;a<e.length;a++)e[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let a,h,f,F,K,we;if("top"===e.overlayY)h=t.y,a=i.height-h+this._viewportMargin;else if("bottom"===e.overlayY)f=i.height-t.y+2*this._viewportMargin,a=i.height-f+this._viewportMargin;else{const Re=Math.min(i.bottom-t.y+i.top,t.y),qe=this._lastBoundingBoxSize.height;a=2*Re,h=t.y-Re,a>qe&&!this._isInitialRender&&!this._growAfterOpen&&(h=t.y-qe/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)we=i.width-t.x+this._viewportMargin,F=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)K=t.x,F=i.right-t.x;else{const Re=Math.min(i.right-t.x+i.left,t.x),qe=this._lastBoundingBoxSize.width;F=2*Re,K=t.x-Re,F>qe&&!this._isInitialRender&&!this._growAfterOpen&&(K=t.x-qe/2)}return{top:h,left:K,bottom:f,right:we,width:F,height:a}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,h=this._overlayRef.getConfig().maxWidth;r.height=br(i.height),r.top=br(i.top),r.bottom=br(i.bottom),r.width=br(i.width),r.left=br(i.left),r.right=br(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=br(a)),h&&(r.maxWidth=br(h))}this._lastBoundingBoxSize=i,hy(this._boundingBox.style,r)}_resetBoundingBoxStyles(){hy(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){hy(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,h=this._overlayRef.getConfig();if(r){const F=this._viewportRuler.getViewportScrollPosition();hy(i,this._getExactOverlayY(e,t,F)),hy(i,this._getExactOverlayX(e,t,F))}else i.position="static";let f="",m=this._getOffset(e,"x"),b=this._getOffset(e,"y");m&&(f+=`translateX(${m}px) `),b&&(f+=`translateY(${b}px)`),i.transform=f.trim(),h.maxHeight&&(r?i.maxHeight=br(h.maxHeight):a&&(i.maxHeight="")),h.maxWidth&&(r?i.maxWidth=br(h.maxWidth):a&&(i.maxWidth="")),hy(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},a=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i));let h=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return a.y-=h,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=br(a.y),r}_getExactOverlayX(t,e,i){let h,r={left:"",right:""},a=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),h=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===h?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=br(a.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:G2(t,i),isOriginOutsideView:zP(t,i),isOverlayClipped:G2(e,i),isOverlayOutsideView:zP(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&vB(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof c.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function hy(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Y2(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(M6);return e&&"px"!==e?null:parseFloat(t)}return n||null}function K2(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}class R6{constructor(t,e,i,r,a,h,f){this._preferredPositions=[],this._positionStrategy=new Z2(i,r,a,h,f).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,i,r){const a=new S6(t,e,i,r);return this._preferredPositions.push(a),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const Q2="cdk-global-overlay-wrapper";class O6{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Q2),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:h,maxHeight:f}=i,m=!("100%"!==r&&"100vw"!==r||h&&"100%"!==h&&"100vw"!==h),b=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f);t.position=this._cssPosition,t.marginLeft=m?"0":this._leftOffset,t.marginTop=b?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,m?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(Q2),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let P6=(()=>{class n{constructor(e,i,r,a){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new O6}connectedTo(e,i,r){return new R6(i,r,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new Z2(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(e0),c.LFG(ge),c.LFG(or),c.LFG(WP))},n.\u0275prov=c.Yz7({factory:function(){return new n(c.LFG(e0),c.LFG(ge),c.LFG(or),c.LFG(WP))},token:n,providedIn:"root"}),n})(),N6=0,hk=(()=>{class n{constructor(e,i,r,a,h,f,m,b,F,K,we){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=h,this._injector=f,this._ngZone=m,this._document=b,this._directionality=F,this._location=K,this._outsideClickDispatcher=we}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),h=new z2(e);return h.direction=h.direction||this._directionality.value,new k6(a,i,r,h,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+N6++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new y6(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(x6),c.LFG(WP),c.LFG(c._Vd),c.LFG(P6),c.LFG(T6),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(ge),c.LFG(iy),c.LFG(J),c.LFG(D6))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const V6={provide:new c.OlP("cdk-connected-overlay-scroll-strategy"),deps:[hk],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let U6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[hk,V6],imports:[[SE,_6,L2],L2]}),n})();const eZ={provide:new c.OlP("mat-select-scroll-strategy"),deps:[hk],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let rZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[eZ],imports:[[sa,U6,$V,$r],jP,D2,$V,$r]}),n})(),oU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),mZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[rk,$r,YO,oU],$r,oU]}),n})(),TZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[rk,$r],$r]}),n})();const hU_firebase={apiKey:"AIzaSyDP7YEB1iRT8NrR9RySSH10KCmY4Eze8X0",authDomain:"cdij-17-debat.firebaseapp.com",projectId:"cdij-17-debat",storageBucket:"cdij-17-debat.appspot.com",messagingSenderId:"667834740025",appId:"1:667834740025:web:bed8d75a49cbce07ca0ce8",measurementId:"G-TX5XX3QWM9"};class kZ{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new MZ(t,this.observables,this.project))}}class MZ extends eu{constructor(t,e,i){super(t),this.observables=e,this.project=i,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let a=0;a<r;a++)this.toRespond.push(a);for(let a=0;a<r;a++)this.add(Jd(this,e[a],void 0,a))}notifyNext(t,e,i){this.values[i]=e;const r=this.toRespond;if(r.length>0){const a=r.indexOf(i);-1!==a&&r.splice(a,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class OZ{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new PZ(t,this.predicate))}}class PZ extends ai.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}const dU="@firebase/database";let qP="";function pU(n){qP=n}class NZ{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,Pe.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,Pe.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class FZ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,Pe.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const gU=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new NZ(t)}}catch(t){}return new FZ},dy=gU("localStorage"),ZP=gU("sessionStorage"),n0=new qo.Yd("@firebase/database"),mU=function(){let n=1;return function(){return n++}}(),yU=function(n){const t=(0,Pe.dS)(n),e=new Pe.gQ;e.update(t);const i=e.digest();return Pe.US.encodeByteArray(i)},RE=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=RE.apply(null,i):t+="object"==typeof i?(0,Pe.Pz)(i):i,t+=" "}return t};let fy=null,_U=!0;const AU=function(n,t){(0,Pe.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(n0.logLevel=qo.in.VERBOSE,fy=n0.log.bind(n0),t&&ZP.set("logging_enabled",!0)):"function"==typeof n?fy=n:(fy=null,ZP.remove("logging_enabled"))},Jr=function(...n){if(!0===_U&&(_U=!1,null===fy&&!0===ZP.get("logging_enabled")&&AU(!0)),fy){const t=RE.apply(null,n);fy(t)}},OE=function(n){return function(...t){Jr(n,...t)}},YP=function(...n){const t="FIREBASE INTERNAL ERROR: "+RE(...n);n0.error(t)},zu=function(...n){const t=`FIREBASE FATAL ERROR: ${RE(...n)}`;throw n0.error(t),new Error(t)},Co=function(...n){const t="FIREBASE WARNING: "+RE(...n);n0.warn(t)},fk=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Td="[MIN_NAME]",Wu="[MAX_NAME]",py=function(n,t){if(n===t)return 0;if(n===Td||t===Wu)return-1;if(t===Td||n===Wu)return 1;{const e=pk(n),i=pk(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},VZ=function(n,t){return n===t?0:n<t?-1:1},PE=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,Pe.Pz)(t))},KP=function(n){if("object"!=typeof n||null===n)return(0,Pe.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,Pe.Pz)(t[i]),e+=":",e+=KP(n[t[i]]);return e+="}",e},vU=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Xr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const bU=function(n){(0,Pe.hu)(!fk(n),"Invalid JSON number");const i=1023;let r,a,h,f,m;0===n?(a=0,h=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(f=Math.min(Math.floor(Math.log(n)/Math.LN2),i),a=f+i,h=Math.round(n*Math.pow(2,52-f)-Math.pow(2,52))):(a=0,h=Math.round(n/Math.pow(2,-1074))));const b=[];for(m=52;m;m-=1)b.push(h%2?1:0),h=Math.floor(h/2);for(m=11;m;m-=1)b.push(a%2?1:0),a=Math.floor(a/2);b.push(r?1:0),b.reverse();const F=b.join("");let K="";for(m=0;m<64;m+=8){let we=parseInt(F.substr(m,8),2).toString(16);1===we.length&&(we="0"+we),K+=we}return K.toLowerCase()},GZ=new RegExp("^-?(0*)\\d{1,10}$"),wU=-2147483648,QP=2147483647,pk=function(n){if(GZ.test(n)){const t=Number(n);if(t>=wU&&t<=QP)return t}return null},r0=function(n){try{n()}catch(t){setTimeout(()=>{throw Co("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},NE=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class WZ{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Co(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class qZ{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Jr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Co(t)}}let FE=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const IU=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,DU="websocket",kU="long_polling";class JP{constructor(t,e,i,r,a=!1,h="",f=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=a,this.persistenceKey=h,this.includeNamespaceInQueryParams=f,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=dy.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&dy.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function MU(n,t,e){let i;if((0,Pe.hu)("string"==typeof t,"typeof type must == string"),(0,Pe.hu)("object"==typeof e,"typeof params must == object"),t===DU)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==kU)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Xr(e,(a,h)=>{r.push(a+"="+h)}),i+r.join("&")}class KZ{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,Pe.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,Pe.p$)(this.counters_)}}const XP={},eN={};function tN(n){const t=n.toString();return XP[t]||(XP[t]=new KZ),XP[t]}class $Z{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&r0(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class s0{constructor(t,e,i,r,a,h,f){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=a,this.transportSessionId=h,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=OE(t),this.stats_=tN(e),this.urlFn=m=>(this.appCheckToken&&(m.ac=this.appCheckToken),MU(e,kU,m))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new $Z(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,Pe.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new nN((...a)=>{const[h,f,m,b,F]=a;if(this.incrementIncomingBytes_(a),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===h)this.id=f,this.password=m;else{if("close"!==h)throw new Error("Unrecognized command received: "+h);f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_()}},(...a)=>{const[h,f]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(h,f)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&IU.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){s0.forceAllow_=!0}static forceDisallow(){s0.forceDisallow_=!0}static isAvailable(){return!((0,Pe.Yr)()||!s0.forceAllow_&&(s0.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,Pe.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,Pe.h$)(e),r=vU(i,1840);for(let a=0;a<r.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[a]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,Pe.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,Pe.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class nN{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Pe.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=mU(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=nN.createIFrame_();let a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(f){Jr("frame writing exception"),f.stack&&Jr(f.stack),Jr(f)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Jr("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const h=this.pendingSegs.shift();i=i+"&seg"+r+"="+h.seg+"&ts"+r+"="+h.ts+"&d"+r+"="+h.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,Pe.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Jr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let LE=null;"undefined"!=typeof MozWebSocket?LE=MozWebSocket:"undefined"!=typeof WebSocket&&(LE=WebSocket);let BE=(()=>{class n{constructor(e,i,r,a,h,f,m){this.connId=e,this.applicationId=r,this.appCheckToken=a,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=OE(this.connId),this.stats_=tN(i),this.connURL=n.connectionURL_(i,f,m,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,a){const h={v:"5"};return!(0,Pe.Yr)()&&"undefined"!=typeof location&&location.hostname&&IU.test(location.hostname)&&(h.r="f"),i&&(h.s=i),r&&(h.ls=r),a&&(h.ac=a),MU(e,DU,h)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,dy.set("previous_websocket_failure",!0);try{if((0,Pe.Yr)()){const a={headers:{"User-Agent":`Firebase/5/${qP}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,f=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;f&&(a.proxy={origin:f}),this.mySock=new LE(this.connURL,[],a)}else this.mySock=new LE(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(r){this.log_("Error instantiating WebSocket.");const a=r.message||r.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const a=r.message||r.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==LE&&!n.forceDisallow_}static previouslyFailed(){return dy.isInMemoryStorage||!0===dy.get("previous_websocket_failure")}markConnectionHealthy(){dy.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,Pe.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,Pe.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,Pe.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=vU(i,16384);r.length>1&&this.sendString_(String(r.length));for(let a=0;a<r.length;a++)this.sendString_(r[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class iN{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[s0,BE]}initTransports_(t){const e=BE&&BE.isAvailable();let i=e&&!BE.previouslyFailed();if(t.webSocketOnly&&(e||Co("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[BE];else{const r=this.transports_=[];for(const a of iN.ALL_TRANSPORTS)a&&a.isAvailable()&&r.push(a)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class zU{constructor(t,e,i,r,a,h,f,m,b,F){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=a,this.onMessage_=h,this.onReady_=f,this.onDisconnect_=m,this.onKill_=b,this.lastSessionId=F,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=OE("c:"+this.id+":"),this.transportManager_=new iN(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=NE(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=PE("t",t),i=PE("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=PE("t",t),i=PE("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=PE("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?YP("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):YP("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Co("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),NE(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):NE(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(dy.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class WU{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class qU{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,Pe.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let a=0;a<r.length;a++)if(r[a].callback===e&&(!i||i===r[a].context))return void r.splice(a,1)}validateEventType_(t){(0,Pe.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class mk extends qU{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,Pe.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new mk}getInitialEvent(t){return(0,Pe.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class zn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Bn(){return new zn("")}function En(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Zp(n){return n.pieces_.length-n.pieceNum_}function si(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new zn(n.pieces_,t)}function sN(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function VE(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function KU(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new zn(t,0)}function Pi(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof zn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new zn(e,0)}function xn(n){return n.pieceNum_>=n.pieces_.length}function Eo(n,t){const e=En(n),i=En(t);if(null===e)return t;if(e===i)return Eo(si(n),si(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function A4(n,t){const e=VE(n,0),i=VE(t,0);for(let r=0;r<e.length&&r<i.length;r++){const a=py(e[r],i[r]);if(0!==a)return a}return e.length===i.length?0:e.length<i.length?-1:1}function oN(n,t){if(Zp(n)!==Zp(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Nl(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Zp(n)>Zp(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class v4{constructor(t,e){this.errorPrefix_=e,this.parts_=VE(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,Pe.ug)(this.parts_[i]);QU(this)}}function QU(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+gy(n))}function gy(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class aN extends qU{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new aN}getInitialEvent(t){return(0,Pe.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const UE=1e3;let _k,my=(()=>{class n extends WU{constructor(e,i,r,a,h,f,m,b){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=a,this.onServerInfoUpdate_=h,this.authTokenProvider_=f,this.appCheckTokenProvider_=m,this.authOverride_=b,this.id=n.nextPersistentConnectionId_++,this.log_=OE("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=UE,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,b&&!(0,Pe.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");aN.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&mk.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const a=++this.requestNumber_,h={r:a,a:e,b:i};this.log_((0,Pe.Pz)(h)),(0,Pe.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),r&&(this.requestCBHash_[a]=r)}get(e){this.initConnection_();const i=new Pe.BH,r={p:e._path.toString(),q:e._queryObject},a={action:"g",request:r,onComplete:f=>{const m=f.d;"ok"===f.s?(this.onDataUpdate_(r.p,m,!1,null),i.resolve(m)):i.reject(m)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const h=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const f=this.outstandingGets_[h];void 0===f||a!==f||(delete this.outstandingGets_[h],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+h+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(h),i.promise}listen(e,i,r,a){this.initConnection_();const h=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+h),this.listens.has(f)||this.listens.set(f,new Map),(0,Pe.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Pe.hu)(!this.listens.get(f).has(h),"listen() called twice for same path/queryId.");const m={onComplete:a,hashFn:i,query:e,tag:r};this.listens.get(f).set(h,m),this.connected_&&this.sendListen_(m)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+r+" for "+a);const h={p:r};e.tag&&(h.q=i._queryObject,h.t=e.tag),h.h=e.hashFn(),this.sendRequest("q",h,m=>{const b=m.d,F=m.s;n.warnOnListenWarnings_(b,i),(this.listens.get(r)&&this.listens.get(r).get(a))===e&&(this.log_("listen response",m),"ok"!==F&&this.removeListen_(r,a),e.onComplete&&e.onComplete(F,b))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,Pe.r3)(e,"w")){const r=(0,Pe.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const a='".indexOn": "'+i._queryParams.getIndex().toString()+'"',h=i._path.toString();Co(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,Pe.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,Pe.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,a=>{const h=a.s,f=a.d||"error";this.authToken_===e&&("ok"===h?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),a=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+a),(0,Pe.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,a)&&this.connected_&&this.sendUnlisten_(r,a,e._queryObject,i)}sendUnlisten_(e,i,r,a){this.log_("Unlisten on "+e+" for "+i);const h={p:e};a&&(h.q=r,h.t=a),this.sendRequest("n",h)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,a){const h={p:i,d:r};this.log_("onDisconnect "+e,h),this.sendRequest(e,h,f=>{a&&setTimeout(()=>{a(f.s,f.d)},Math.floor(0))})}put(e,i,r,a){this.putInternal("p",e,i,r,a)}merge(e,i,r,a){this.putInternal("m",e,i,r,a)}putInternal(e,i,r,a,h){this.initConnection_();const f={p:i,d:r};void 0!==h&&(f.h=h),this.outstandingPuts_.push({action:e,request:f,onComplete:a}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,a=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,h=>{this.log_(i+" response",h),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),a&&a(h.s,h.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,Pe.Pz)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):YP("Unrecognized action received from server: "+(0,Pe.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,Pe.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=UE,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=UE,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=UE),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,ft.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),a=e.onRealtimeDisconnect_.bind(e),h=e.id+":"+n.nextConnectionId_++,f=e.lastSessionId;let m=!1,b=null;const F=function(){b?b.close():(m=!0,a())};e.realtime_={close:F,sendRequest:function(Re){(0,Pe.hu)(b,"sendRequest call when we're not connected not allowed."),b.sendRequest(Re)}};const we=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[Re,qe]=yield Promise.all([e.authTokenProvider_.getToken(we),e.appCheckTokenProvider_.getToken(we)]);m?Jr("getToken() completed but was canceled"):(Jr("getToken() completed. Creating connection."),e.authToken_=Re&&Re.accessToken,e.appCheckToken_=qe&&qe.token,b=new zU(h,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,a,rt=>{Co(rt+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},f))}catch(Re){e.log_("Failed to get token: "+Re),m||(e.repoInfo_.nodeAdmin&&Co(Re),F())}}})()}interrupt(e){Jr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Jr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,Pe.xb)(this.interruptReasons_)&&(this.reconnectDelay_=UE,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(h=>KP(h)).join("$"):"default";const a=this.removeListen_(e,r);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(e,i){const r=new zn(e).toString();let a;if(this.listens.has(r)){const h=this.listens.get(r);a=h.get(i),h.delete(i),0===h.size&&this.listens.delete(r)}else a=void 0;return a}onAuthRevoked_(e,i){Jr("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Jr("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,Pe.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+qP.replace(/\./g,"-")]=1,(0,Pe.uI)()?e["framework.cordova"]=1:(0,Pe.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=mk.getInstance().currentlyOnline();return(0,Pe.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Sn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Sn(t,e)}}class yk{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Sn(Td,t),r=new Sn(Td,e);return 0!==this.compare(i,r)}minPost(){return Sn.MIN}}class XU extends yk{static get __EMPTY_NODE(){return _k}static set __EMPTY_NODE(t){_k=t}compare(t,e){return py(t.name,e.name)}isDefinedOn(t){throw(0,Pe.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Sn.MIN}maxPost(){return new Sn(Wu,_k)}makePost(t,e){return(0,Pe.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Sn(t,_k)}toString(){return".key"}}const qu=new XU;class Ak{constructor(t,e,i,r,a=null){this.isReverse_=r,this.resultGenerator_=a,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(t=t,h=e?i(t.key,e):1,r&&(h*=-1),h<0)t=this.isReverse_?t.left:t.right;else{if(0===h){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let cN,Uc=(()=>{class n{constructor(e,i,r,a,h){this.key=e,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=a?a:na.EMPTY_NODE,this.right=null!=h?h:na.EMPTY_NODE}copy(e,i,r,a,h){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=a?a:this.left,null!=h?h:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let a=this;const h=r(e,a.key);return a=h<0?a.copy(null,null,null,a.left.insert(e,i,r),null):0===h?a.copy(null,i,null,null,null):a.copy(null,null,null,null,a.right.insert(e,i,r)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return na.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,a;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return na.EMPTY_NODE;a=r.right.min_(),r=r.copy(a.key,a.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class na{constructor(t,e=na.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new na(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Uc.BLACK,null,null))}remove(t){return new na(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Uc.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Ak(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Ak(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Ak(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Ak(this.root_,null,this.comparator_,!0,t)}}function D4(n,t){return py(n.name,t.name)}function lN(n,t){return py(n,t)}na.EMPTY_NODE=new class{copy(t,e,i,r,a){return this}insert(t,e,i){return new Uc(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const ej=function(n){return"number"==typeof n?"number:"+bU(n):"string:"+n},tj=function(n){if(n.isLeafNode()){const t=n.val();(0,Pe.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,Pe.r3)(t,".sv"),"Priority must be a string or number.")}else(0,Pe.hu)(n===cN||n.isEmpty(),"priority of unexpected type.");(0,Pe.hu)(n===cN||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let nj,ij,rj,o0=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,Pe.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),tj(this.priorityNode_)}static set __childrenNodeConstructor(e){nj=e}static get __childrenNodeConstructor(){return nj}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return xn(e)?this:".priority"===En(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=En(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,Pe.hu)(".priority"!==r||1===Zp(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(si(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ej(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?bU(this.value_):this.value_,this.lazyHash_=yU(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,Pe.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,a=n.VALUE_TYPE_ORDER.indexOf(i),h=n.VALUE_TYPE_ORDER.indexOf(r);return(0,Pe.hu)(a>=0,"Unknown leaf type: "+i),(0,Pe.hu)(h>=0,"Unknown leaf type: "+r),a===h?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:h-a}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const di=new class extends yk{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),a=i.compareTo(r);return 0===a?py(t.name,e.name):a}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Sn.MIN}maxPost(){return new Sn(Wu,new o0("[PRIORITY-POST]",rj))}makePost(t,e){const i=ij(t);return new Sn(e,new o0("[PRIORITY-POST]",i))}toString(){return".priority"}},P4=Math.log(2);class N4{constructor(t){this.count=parseInt(Math.log(t+1)/P4,10),this.current_=this.count-1;const r=(a=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const vk=function(n,t,e,i){n.sort(t);const r=function(m,b){const F=b-m;let K,we;if(0===F)return null;if(1===F)return K=n[m],we=e?e(K):K,new Uc(we,K.node,Uc.BLACK,null,null);{const Re=parseInt(F/2,10)+m,qe=r(m,Re),rt=r(Re+1,b);return K=n[Re],we=e?e(K):K,new Uc(we,K.node,Uc.BLACK,qe,rt)}},f=function(m){let b=null,F=null,K=n.length;const we=function(qe,rt){const ht=K-qe,St=K;K-=qe;const Ft=r(ht+1,St),zt=n[ht],Wt=e?e(zt):zt;Re(new Uc(Wt,zt.node,rt,null,Ft))},Re=function(qe){b?(b.left=qe,b=qe):(F=qe,b=qe)};for(let qe=0;qe<m.count;++qe){const rt=m.nextBitIsOne(),ht=Math.pow(2,m.count-(qe+1));rt?we(ht,Uc.BLACK):(we(ht,Uc.BLACK),we(ht,Uc.RED))}return F}(new N4(n.length));return new na(i||t,f)};let uN;const a0={};class Dd{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,Pe.hu)(a0&&di,"ChildrenNode.ts has not been loaded"),uN=uN||new Dd({".priority":a0},{".priority":di}),uN}get(t){const e=(0,Pe.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof na?e:null}hasIndex(t){return(0,Pe.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,Pe.hu)(t!==qu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const a=e.getIterator(Sn.Wrap);let f,h=a.getNext();for(;h;)r=r||t.isDefinedOn(h.node),i.push(h),h=a.getNext();f=r?vk(i,t.getCompare()):a0;const m=t.toString(),b=Object.assign({},this.indexSet_);b[m]=t;const F=Object.assign({},this.indexes_);return F[m]=f,new Dd(F,b)}addToIndexes(t,e){const i=(0,Pe.UI)(this.indexes_,(r,a)=>{const h=(0,Pe.DV)(this.indexSet_,a);if((0,Pe.hu)(h,"Missing index implementation for "+a),r===a0){if(h.isDefinedOn(t.node)){const f=[],m=e.getIterator(Sn.Wrap);let b=m.getNext();for(;b;)b.name!==t.name&&f.push(b),b=m.getNext();return f.push(t),vk(f,h.getCompare())}return a0}{const f=e.get(t.name);let m=r;return f&&(m=m.remove(new Sn(t.name,f))),m.insert(t,t.node)}});return new Dd(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,Pe.UI)(this.indexes_,r=>{if(r===a0)return r;{const a=e.get(t.name);return a?r.remove(new Sn(t.name,a)):r}});return new Dd(i,this.indexSet_)}}let jE,yn=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&tj(this.priorityNode_),this.children_.isEmpty()&&(0,Pe.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return jE||(jE=new n(new na(lN),null,Dd.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||jE}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?jE:i}}getChild(e){const i=En(e);return null===i?this:this.getImmediateChild(i).getChild(si(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,Pe.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new Sn(e,i);let a,h;i.isEmpty()?(a=this.children_.remove(e),h=this.indexMap_.removeFromIndexes(r,this.children_)):(a=this.children_.insert(e,i),h=this.indexMap_.addToIndexes(r,this.children_));const f=a.isEmpty()?jE:this.priorityNode_;return new n(a,f,h)}}updateChild(e,i){const r=En(e);if(null===r)return i;{(0,Pe.hu)(".priority"!==En(e)||1===Zp(e),".priority must be the last token in a path");const a=this.getImmediateChild(r).updateChild(si(e),i);return this.updateImmediateChild(r,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,a=0,h=!0;if(this.forEachChild(di,(f,m)=>{i[f]=m.val(e),r++,h&&n.INTEGER_REGEXP_.test(f)?a=Math.max(a,Number(f)):h=!1}),!e&&h&&a<2*r){const f=[];for(const m in i)f[m]=i[m];return f}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+ej(this.getPriority().val())+":"),this.forEachChild(di,(i,r)=>{const a=r.hash();""!==a&&(e+=":"+i+":"+a)}),this.lazyHash_=""===e?"":yU(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const a=this.resolveIndex_(r);if(a){const h=a.getPredecessorKey(new Sn(e,i));return h?h.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Sn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Sn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(a=>i(a.name,a.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,a=>a);{const a=this.children_.getIteratorFrom(e.name,Sn.Wrap);let h=a.peek();for(;null!=h&&i.compare(h,e)<0;)a.getNext(),h=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,a=>a);{const a=this.children_.getReverseIteratorFrom(e.name,Sn.Wrap);let h=a.peek();for(;null!=h&&i.compare(h,e)>0;)a.getNext(),h=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===HE?-1:0}withIndex(e){if(e===qu||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===qu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(di),a=i.getIterator(di);let h=r.getNext(),f=a.getNext();for(;h&&f;){if(h.name!==f.name||!h.node.equals(f.node))return!1;h=r.getNext(),f=a.getNext()}return null===h&&null===f}return!1}return!1}}resolveIndex_(e){return e===qu?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const HE=new class extends yn{constructor(){super(new na(lN),yn.EMPTY_NODE,Dd.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return yn.EMPTY_NODE}isEmpty(){return!1}};function Vi(n,t=null){if(null===n)return yn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,Pe.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new o0(n,Vi(t));if(n instanceof Array){let e=yn.EMPTY_NODE;return Xr(n,(i,r)=>{if((0,Pe.r3)(n,i)&&"."!==i.substring(0,1)){const a=Vi(r);(a.isLeafNode()||!a.isEmpty())&&(e=e.updateImmediateChild(i,a))}}),e.updatePriority(Vi(t))}{const e=[];let i=!1;if(Xr(n,(h,f)=>{if("."!==h.substring(0,1)){const m=Vi(f);m.isEmpty()||(i=i||!m.getPriority().isEmpty(),e.push(new Sn(h,m)))}}),0===e.length)return yn.EMPTY_NODE;const a=vk(e,D4,h=>h.name,lN);if(i){const h=vk(e,di.getCompare());return new yn(a,Vi(t),new Dd({".priority":h},{".priority":di}))}return new yn(a,Vi(t),Dd.Default)}}Object.defineProperties(Sn,{MIN:{value:new Sn(Td,yn.EMPTY_NODE)},MAX:{value:new Sn(Wu,HE)}}),XU.__EMPTY_NODE=yn.EMPTY_NODE,o0.__childrenNodeConstructor=yn,function(n){cN=n}(HE),function(n){rj=n}(HE),function(n){ij=n}(Vi);class hN extends yk{constructor(t){super(),this.indexPath_=t,(0,Pe.hu)(!xn(t)&&".priority"!==En(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),a=i.compareTo(r);return 0===a?py(t.name,e.name):a}makePost(t,e){const i=Vi(t),r=yn.EMPTY_NODE.updateChild(this.indexPath_,i);return new Sn(e,r)}maxPost(){const t=yn.EMPTY_NODE.updateChild(this.indexPath_,HE);return new Sn(Wu,t)}toString(){return VE(this.indexPath_,0).join("/")}}const dN=new class extends yk{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?py(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Sn.MIN}maxPost(){return Sn.MAX}makePost(t,e){const i=Vi(t);return new Sn(e,i)}toString(){return".value"}},l0="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",V4=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const a=new Array(8);for(r=7;r>=0;r--)a[r]=l0.charAt(e%64),e=Math.floor(e/64);(0,Pe.hu)(0===e,"Cannot push at time == 0");let h=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)h+=l0.charAt(t[r]);return(0,Pe.hu)(20===h.length,"nextPushId: Length should be 20."),h}}(),aj=function(n){if(n===""+QP)return"-";const t=pk(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let h=0;h<e.length;h++)e[h]=n.charAt(h);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return Wu;const a=l0.charAt(l0.indexOf(e[i])+1);return e[i]=a,e.slice(0,i+1).join("")},lj=function(n){if(n===""+wU)return Td;const t=pk(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+QP:(delete e[e.length-1],e.join("")):(e[e.length-1]=l0.charAt(l0.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function cj(n){return{type:"value",snapshotNode:n}}function c0(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function GE(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function zE(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class pN{constructor(t){this.index_=t}updateChild(t,e,i,r,a,h){(0,Pe.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=t.getImmediateChild(e);return f.getChild(r).equals(i.getChild(r))&&f.isEmpty()===i.isEmpty()||(null!=h&&(i.isEmpty()?t.hasChild(e)?h.trackChildChange(GE(e,f)):(0,Pe.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?h.trackChildChange(c0(e,i)):h.trackChildChange(zE(e,i,f))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(di,(r,a)=>{e.hasChild(r)||i.trackChildChange(GE(r,a))}),e.isLeafNode()||e.forEachChild(di,(r,a)=>{if(t.hasChild(r)){const h=t.getImmediateChild(r);h.equals(a)||i.trackChildChange(zE(r,a,h))}else i.trackChildChange(c0(r,a))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?yn.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class WE{constructor(t){this.indexedFilter_=new pN(t.getIndex()),this.index_=t.getIndex(),this.startPost_=WE.getStartPost_(t),this.endPost_=WE.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,a,h){return this.matches(new Sn(e,i))||(i=yn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,a,h)}updateFullNode(t,e,i){e.isLeafNode()&&(e=yn.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(yn.EMPTY_NODE);const a=this;return e.forEachChild(di,(h,f)=>{a.matches(new Sn(h,f))||(r=r.updateImmediateChild(h,yn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class j4{constructor(t){this.rangedFilter_=new WE(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,a,h){return this.rangedFilter_.matches(new Sn(e,i))||(i=yn.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,a,h):this.fullLimitUpdateChild_(t,e,i,a,h)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=yn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let a;r=yn.EMPTY_NODE.withIndex(this.index_),a=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;a.hasNext()&&h<this.limit_;){const f=a.getNext();let m;if(m=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),f)<=0:this.index_.compare(f,this.rangedFilter_.getEndPost())<=0,!m)break;r=r.updateImmediateChild(f.name,f.node),h++}}else{let a,h,f,m;if(r=e.withIndex(this.index_),r=r.updatePriority(yn.EMPTY_NODE),this.reverse_){m=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),h=this.rangedFilter_.getStartPost();const K=this.index_.getCompare();f=(we,Re)=>K(Re,we)}else m=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),h=this.rangedFilter_.getEndPost(),f=this.index_.getCompare();let b=0,F=!1;for(;m.hasNext();){const K=m.getNext();!F&&f(a,K)<=0&&(F=!0),F&&b<this.limit_&&f(K,h)<=0?b++:r=r.updateImmediateChild(K.name,yn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,a){let h;if(this.reverse_){const K=this.index_.getCompare();h=(we,Re)=>K(Re,we)}else h=this.index_.getCompare();const f=t;(0,Pe.hu)(f.numChildren()===this.limit_,"");const m=new Sn(e,i),b=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),F=this.rangedFilter_.matches(m);if(f.hasChild(e)){const K=f.getImmediateChild(e);let we=r.getChildAfterChild(this.index_,b,this.reverse_);for(;null!=we&&(we.name===e||f.hasChild(we.name));)we=r.getChildAfterChild(this.index_,we,this.reverse_);const Re=null==we?1:h(we,m);if(F&&!i.isEmpty()&&Re>=0)return null!=a&&a.trackChildChange(zE(e,i,K)),f.updateImmediateChild(e,i);{null!=a&&a.trackChildChange(GE(e,K));const rt=f.updateImmediateChild(e,yn.EMPTY_NODE);return null!=we&&this.rangedFilter_.matches(we)?(null!=a&&a.trackChildChange(c0(we.name,we.node)),rt.updateImmediateChild(we.name,we.node)):rt}}return i.isEmpty()?t:F&&h(b,m)>=0?(null!=a&&(a.trackChildChange(GE(b.name,b.node)),a.trackChildChange(c0(e,i))),f.updateImmediateChild(e,i).updateImmediateChild(b.name,yn.EMPTY_NODE)):t}}class bk{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=di}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Pe.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Pe.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Td}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Pe.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Pe.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Wu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Pe.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===di}copy(){const t=new bk;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function gN(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function mN(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function wk(n,t){const e=n.copy();return e.index_=t,e}function uj(n){const t={};if(n.isDefault())return t;let e;return n.index_===di?e="$priority":n.index_===dN?e="$value":n.index_===qu?e="$key":((0,Pe.hu)(n.index_ instanceof hN,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,Pe.Pz)(e),n.startSet_&&(t.startAt=(0,Pe.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,Pe.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,Pe.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,Pe.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function hj(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==di&&(t.i=n.index_.toString()),t}class Ck extends WU{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=OE("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,Pe.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);const h=Ck.getListenId_(t,i),f={};this.listens_[h]=f;const m=uj(t._queryParams);this.restRequest_(a+".json",m,(b,F)=>{let K=F;if(404===b&&(K=null,b=null),null===b&&this.onDataUpdate_(a,K,!1,i),(0,Pe.DV)(this.listens_,h)===f){let we;we=b?401===b?"permission_denied":"rest_error:"+b:"ok",r(we,null)}})}unlisten(t,e){const i=Ck.getListenId_(t,e);delete this.listens_[i]}get(t){const e=uj(t._queryParams),i=t._path.toString(),r=new Pe.BH;return this.restRequest_(i+".json",e,(a,h)=>{let f=h;404===a&&(f=null,a=null),null===a?(this.onDataUpdate_(i,f,!1,null),r.resolve(f)):r.reject(new Error(f))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,a])=>{r&&r.accessToken&&(e.auth=r.accessToken),a&&a.token&&(e.ac=a.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,Pe.xO)(e);this.log_("Sending REST request for "+h);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(i&&4===f.readyState){this.log_("REST Response for "+h+" received. status:",f.status,"response:",f.responseText);let m=null;if(f.status>=200&&f.status<300){try{m=(0,Pe.cI)(f.responseText)}catch(b){Co("Failed to parse JSON response for "+h+": "+f.responseText)}i(null,m)}else 401!==f.status&&404!==f.status&&Co("Got unsuccessful REST response for "+h+" Status: "+f.status),i(f.status);i=null}},f.open("GET",h,!0),f.send()})}}class Z4{constructor(){this.rootNode_=yn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Ek(){return{value:null,children:new Map}}function u0(n,t,e){if(xn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=En(t);n.children.has(i)||n.children.set(i,Ek()),u0(n.children.get(i),t=si(t),e)}}function yN(n,t){if(xn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(di,(i,r)=>{u0(n,new zn(i),r)}),yN(n,t)}}if(n.children.size>0){const e=En(t);return t=si(t),n.children.has(e)&&yN(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function _N(n,t,e){null!==n.value?e(t,n.value):function(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{_N(r,new zn(t.toString()+"/"+i),e)})}class K4{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Xr(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class J4{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new K4(t);const i=1e4+2e4*Math.random();NE(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Xr(t,(r,a)=>{a>0&&(0,Pe.r3)(this.statsToReport_,r)&&(e[r]=a,i=!0)}),i&&this.server_.reportStats(e),NE(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Fl=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Fl||(Fl={})),Fl))();function bN(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class xk{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Fl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(xn(this.path)){if(null!=this.affectedTree.value)return(0,Pe.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new zn(t));return new xk(Bn(),e,this.revert)}}return(0,Pe.hu)(En(this.path)===t,"operationForChild called for unrelated child."),new xk(si(this.path),this.affectedTree,this.revert)}}class qE{constructor(t,e){this.source=t,this.path=e,this.type=Fl.LISTEN_COMPLETE}operationForChild(t){return xn(this.path)?new qE(this.source,Bn()):new qE(this.source,si(this.path))}}class yy{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Fl.OVERWRITE}operationForChild(t){return xn(this.path)?new yy(this.source,Bn(),this.snap.getImmediateChild(t)):new yy(this.source,si(this.path),this.snap)}}class h0{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Fl.MERGE}operationForChild(t){if(xn(this.path)){const e=this.children.subtree(new zn(t));return e.isEmpty()?null:e.value?new yy(this.source,Bn(),e.value):new h0(this.source,Bn(),e)}return(0,Pe.hu)(En(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new h0(this.source,si(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Yp{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(xn(t))return this.isFullyInitialized()&&!this.filtered_;const e=En(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class X4{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function ZE(n,t,e,i,r,a){const h=i.filter(f=>f.type===e);h.sort((f,m)=>function(n,t,e){if(null==t.childName||null==e.childName)throw(0,Pe.g5)("Should only compare child_ events.");const i=new Sn(t.childName,t.snapshotNode),r=new Sn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,f,m)),h.forEach(f=>{const m=function(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,f,a);r.forEach(b=>{b.respondsTo(f.type)&&t.push(b.createEvent(m,n.query_))})})}function Sk(n,t){return{eventCache:n,serverCache:t}}function YE(n,t,e,i){return Sk(new Yp(t,e,i),n.serverCache)}function fj(n,t,e,i){return Sk(n.eventCache,new Yp(t,e,i))}function Ik(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function _y(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let wN;class fi{constructor(t,e=(()=>(wN||(wN=new na(VZ)),wN))()){this.value=t,this.children=e}static fromObject(t){let e=new fi(null);return Xr(t,(i,r)=>{e=e.set(new zn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Bn(),value:this.value};if(xn(t))return null;{const i=En(t),r=this.children.get(i);if(null!==r){const a=r.findRootMostMatchingPathAndValue(si(t),e);return null!=a?{path:Pi(new zn(i),a.path),value:a.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(xn(t))return this;{const e=En(t),i=this.children.get(e);return null!==i?i.subtree(si(t)):new fi(null)}}set(t,e){if(xn(t))return new fi(e,this.children);{const i=En(t),a=(this.children.get(i)||new fi(null)).set(si(t),e),h=this.children.insert(i,a);return new fi(this.value,h)}}remove(t){if(xn(t))return this.children.isEmpty()?new fi(null):new fi(null,this.children);{const e=En(t),i=this.children.get(e);if(i){const r=i.remove(si(t));let a;return a=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&a.isEmpty()?new fi(null):new fi(this.value,a)}return this}}get(t){if(xn(t))return this.value;{const e=En(t),i=this.children.get(e);return i?i.get(si(t)):null}}setTree(t,e){if(xn(t))return e;{const i=En(t),a=(this.children.get(i)||new fi(null)).setTree(si(t),e);let h;return h=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new fi(this.value,h)}}fold(t){return this.fold_(Bn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,a)=>{i[r]=a.fold_(Pi(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Bn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(xn(t))return null;{const a=En(t),h=this.children.get(a);return h?h.findOnPath_(si(t),Pi(e,a),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Bn(),e)}foreachOnPath_(t,e,i){if(xn(t))return this;{this.value&&i(e,this.value);const r=En(t),a=this.children.get(r);return a?a.foreachOnPath_(si(t),Pi(e,r),i):new fi(null)}}foreach(t){this.foreach_(Bn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Pi(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class jc{constructor(t){this.writeTree_=t}static empty(){return new jc(new fi(null))}}function KE(n,t,e){if(xn(t))return new jc(new fi(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let a=i.value;const h=Eo(r,t);return a=a.updateChild(h,e),new jc(n.writeTree_.set(r,a))}{const r=new fi(e),a=n.writeTree_.setTree(t,r);return new jc(a)}}}function CN(n,t,e){let i=n;return Xr(e,(r,a)=>{i=KE(i,Pi(t,r),a)}),i}function pj(n,t){if(xn(t))return jc.empty();{const e=n.writeTree_.setTree(t,new fi(null));return new jc(e)}}function EN(n,t){return null!=Ay(n,t)}function Ay(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Eo(e.path,t)):null}function gj(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(di,(i,r)=>{t.push(new Sn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new Sn(i,r.value))}),t}function Kp(n,t){if(xn(t))return n;{const e=Ay(n,t);return new jc(null!=e?new fi(e):n.writeTree_.subtree(t))}}function xN(n){return n.writeTree_.isEmpty()}function d0(n,t){return mj(Bn(),n.writeTree_,t)}function mj(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,a)=>{".priority"===r?((0,Pe.hu)(null!==a.value,"Priority writes must always be leaf nodes"),i=a.value):e=mj(Pi(n,r),a,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Pi(n,".priority"),i)),e}}function Tk(n,t){return bj(t,n)}function lY(n,t){if(n.snap)return Nl(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Nl(Pi(n.path,e),t))return!0;return!1}function uY(n){return n.visible}function yj(n,t,e){let i=jc.empty();for(let r=0;r<n.length;++r){const a=n[r];if(t(a)){const h=a.path;let f;if(a.snap)Nl(e,h)?(f=Eo(e,h),i=KE(i,f,a.snap)):Nl(h,e)&&(f=Eo(h,e),i=KE(i,Bn(),a.snap.getChild(f)));else{if(!a.children)throw(0,Pe.g5)("WriteRecord should have .snap or .children");if(Nl(e,h))f=Eo(e,h),i=CN(i,f,a.children);else if(Nl(h,e))if(f=Eo(h,e),xn(f))i=CN(i,Bn(),a.children);else{const m=(0,Pe.DV)(a.children,En(f));if(m){const b=m.getChild(si(f));i=KE(i,Bn(),b)}}}}}return i}function _j(n,t,e,i,r){if(i||r){const a=Kp(n.visibleWrites,t);return!r&&xN(a)?e:r||null!=e||EN(a,Bn())?d0(yj(n.allWrites,function(b){return(b.visible||r)&&(!i||!~i.indexOf(b.writeId))&&(Nl(b.path,t)||Nl(t,b.path))},t),e||yn.EMPTY_NODE):null}{const a=Ay(n.visibleWrites,t);if(null!=a)return a;{const h=Kp(n.visibleWrites,t);return xN(h)?e:null!=e||EN(h,Bn())?d0(h,e||yn.EMPTY_NODE):null}}}function Dk(n,t,e,i){return _j(n.writeTree,n.treePath,t,e,i)}function SN(n,t){return function(n,t,e){let i=yn.EMPTY_NODE;const r=Ay(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(di,(a,h)=>{i=i.updateImmediateChild(a,h)}),i;if(e){const a=Kp(n.visibleWrites,t);return e.forEachChild(di,(h,f)=>{const m=d0(Kp(a,new zn(h)),f);i=i.updateImmediateChild(h,m)}),gj(a).forEach(h=>{i=i.updateImmediateChild(h.name,h.node)}),i}return gj(Kp(n.visibleWrites,t)).forEach(h=>{i=i.updateImmediateChild(h.name,h.node)}),i}(n.writeTree,n.treePath,t)}function Aj(n,t,e,i){return function(n,t,e,i,r){(0,Pe.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const a=Pi(t,e);if(EN(n.visibleWrites,a))return null;{const h=Kp(n.visibleWrites,a);return xN(h)?r.getChild(e):d0(h,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function kk(n,t){return function(n,t){return Ay(n.visibleWrites,t)}(n.writeTree,Pi(n.treePath,t))}function IN(n,t,e){return function(n,t,e,i){const r=Pi(t,e),a=Ay(n.visibleWrites,r);return null!=a?a:i.isCompleteForChild(e)?d0(Kp(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function vj(n,t){return bj(Pi(n.treePath,t),n.writeTree)}function bj(n,t){return{treePath:n,writeTree:t}}class _Y{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,Pe.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,Pe.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const a=r.type;if("child_added"===e&&"child_removed"===a)this.changeMap.set(i,zE(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===a)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===a)this.changeMap.set(i,GE(i,r.oldSnap));else if("child_changed"===e&&"child_added"===a)this.changeMap.set(i,c0(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==a)throw(0,Pe.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,zE(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const wj=new class{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class TN{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Yp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return IN(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:_y(this.viewCache_),a=function(n,t,e,i,r,a){return function(n,t,e,i,r,a,h){let f;const m=Kp(n.visibleWrites,t),b=Ay(m,Bn());if(null!=b)f=b;else{if(null==e)return[];f=d0(m,e)}if(f=f.withIndex(h),f.isEmpty()||f.isLeafNode())return[];{const F=[],K=h.getCompare(),we=a?f.getReverseIteratorFrom(i,h):f.getIteratorFrom(i,h);let Re=we.getNext();for(;Re&&F.length<r;)0!==K(Re,i)&&F.push(Re),Re=we.getNext();return F}}(n.writeTree,n.treePath,t,e,i,r,a)}(this.writes_,r,e,1,i,t);return 0===a.length?null:a[0]}}function Cj(n,t,e,i,r,a){const h=t.eventCache;if(null!=kk(i,e))return t;{let f,m;if(xn(e))if((0,Pe.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const b=_y(t),K=SN(i,b instanceof yn?b:yn.EMPTY_NODE);f=n.filter.updateFullNode(t.eventCache.getNode(),K,a)}else{const b=Dk(i,_y(t));f=n.filter.updateFullNode(t.eventCache.getNode(),b,a)}else{const b=En(e);if(".priority"===b){(0,Pe.hu)(1===Zp(e),"Can't have a priority with additional path components");const F=h.getNode();m=t.serverCache.getNode();const K=Aj(i,e,F,m);f=null!=K?n.filter.updatePriority(F,K):h.getNode()}else{const F=si(e);let K;if(h.isCompleteForChild(b)){m=t.serverCache.getNode();const we=Aj(i,e,h.getNode(),m);K=null!=we?h.getNode().getImmediateChild(b).updateChild(F,we):h.getNode().getImmediateChild(b)}else K=IN(i,b,t.serverCache);f=null!=K?n.filter.updateChild(h.getNode(),b,K,F,r,a):h.getNode()}}return YE(t,f,h.isFullyInitialized()||xn(e),n.filter.filtersNodes())}}function Mk(n,t,e,i,r,a,h,f){const m=t.serverCache;let b;const F=h?n.filter:n.filter.getIndexedFilter();if(xn(e))b=F.updateFullNode(m.getNode(),i,null);else if(F.filtersNodes()&&!m.isFiltered()){const Re=m.getNode().updateChild(e,i);b=F.updateFullNode(m.getNode(),Re,null)}else{const Re=En(e);if(!m.isCompleteForPath(e)&&Zp(e)>1)return t;const qe=si(e),ht=m.getNode().getImmediateChild(Re).updateChild(qe,i);b=".priority"===Re?F.updatePriority(m.getNode(),ht):F.updateChild(m.getNode(),Re,ht,qe,wj,null)}const K=fj(t,b,m.isFullyInitialized()||xn(e),F.filtersNodes());return Cj(n,K,e,r,new TN(r,K,a),f)}function DN(n,t,e,i,r,a,h){const f=t.eventCache;let m,b;const F=new TN(r,t,a);if(xn(e))b=n.filter.updateFullNode(t.eventCache.getNode(),i,h),m=YE(t,b,!0,n.filter.filtersNodes());else{const K=En(e);if(".priority"===K)b=n.filter.updatePriority(t.eventCache.getNode(),i),m=YE(t,b,f.isFullyInitialized(),f.isFiltered());else{const we=si(e),Re=f.getNode().getImmediateChild(K);let qe;if(xn(we))qe=i;else{const rt=F.getCompleteChild(K);qe=null!=rt?".priority"===sN(we)&&rt.getChild(KU(we)).isEmpty()?rt:rt.updateChild(we,i):yn.EMPTY_NODE}m=Re.equals(qe)?t:YE(t,n.filter.updateChild(f.getNode(),K,qe,we,F,h),f.isFullyInitialized(),n.filter.filtersNodes())}}return m}function Ej(n,t){return n.eventCache.isCompleteForChild(t)}function xj(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function kN(n,t,e,i,r,a,h,f){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let b,m=t;b=xn(e)?i:new fi(null).setTree(e,i);const F=t.serverCache.getNode();return b.children.inorderTraversal((K,we)=>{if(F.hasChild(K)){const qe=xj(0,t.serverCache.getNode().getImmediateChild(K),we);m=Mk(n,m,new zn(K),qe,r,a,h,f)}}),b.children.inorderTraversal((K,we)=>{const Re=!t.serverCache.isCompleteForChild(K)&&void 0===we.value;if(!F.hasChild(K)&&!Re){const rt=xj(0,t.serverCache.getNode().getImmediateChild(K),we);m=Mk(n,m,new zn(K),rt,r,a,h,f)}}),m}class TY{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new pN(i.getIndex()),a=function(n){return n.loadsAllData()?new pN(n.getIndex()):n.hasLimit()?new j4(n):new WE(n)}(i);this.processor_=function(n){return{filter:n}}(a);const h=e.serverCache,f=e.eventCache,m=r.updateFullNode(yn.EMPTY_NODE,h.getNode(),null),b=a.updateFullNode(yn.EMPTY_NODE,f.getNode(),null),F=new Yp(m,h.isFullyInitialized(),r.filtersNodes()),K=new Yp(b,f.isFullyInitialized(),a.filtersNodes());this.viewCache_=Sk(K,F),this.eventGenerator_=new X4(this.query_)}get query(){return this.query_}}function MY(n,t){const e=_y(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!xn(t)&&!e.getImmediateChild(En(t)).isEmpty())?e.getChild(t):null}function Sj(n){return 0===n.eventRegistrations_.length}function Ij(n,t,e){const i=[];if(e){(0,Pe.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(a=>{const h=a.createCancelEvent(e,r);h&&i.push(h)})}if(t){let r=[];for(let a=0;a<n.eventRegistrations_.length;++a){const h=n.eventRegistrations_[a];if(h.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(a+1));break}}else r.push(h)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function Tj(n,t,e,i){t.type===Fl.MERGE&&null!==t.source.queryId&&((0,Pe.hu)(_y(n.viewCache_),"We should always have a full cache before handling merges"),(0,Pe.hu)(Ik(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,a=function(n,t,e,i,r){const a=new _Y;let h,f;if(e.type===Fl.OVERWRITE){const b=e;b.source.fromUser?h=DN(n,t,b.path,b.snap,i,r,a):((0,Pe.hu)(b.source.fromServer,"Unknown source."),f=b.source.tagged||t.serverCache.isFiltered()&&!xn(b.path),h=Mk(n,t,b.path,b.snap,i,r,f,a))}else if(e.type===Fl.MERGE){const b=e;b.source.fromUser?h=function(n,t,e,i,r,a,h){let f=t;return i.foreach((m,b)=>{const F=Pi(e,m);Ej(t,En(F))&&(f=DN(n,f,F,b,r,a,h))}),i.foreach((m,b)=>{const F=Pi(e,m);Ej(t,En(F))||(f=DN(n,f,F,b,r,a,h))}),f}(n,t,b.path,b.children,i,r,a):((0,Pe.hu)(b.source.fromServer,"Unknown source."),f=b.source.tagged||t.serverCache.isFiltered(),h=kN(n,t,b.path,b.children,i,r,f,a))}else if(e.type===Fl.ACK_USER_WRITE){const b=e;h=b.revert?function(n,t,e,i,r,a){let h;if(null!=kk(i,e))return t;{const f=new TN(i,t,r),m=t.eventCache.getNode();let b;if(xn(e)||".priority"===En(e)){let F;if(t.serverCache.isFullyInitialized())F=Dk(i,_y(t));else{const K=t.serverCache.getNode();(0,Pe.hu)(K instanceof yn,"serverChildren would be complete if leaf node"),F=SN(i,K)}F=F,b=n.filter.updateFullNode(m,F,a)}else{const F=En(e);let K=IN(i,F,t.serverCache);null==K&&t.serverCache.isCompleteForChild(F)&&(K=m.getImmediateChild(F)),b=null!=K?n.filter.updateChild(m,F,K,si(e),f,a):t.eventCache.getNode().hasChild(F)?n.filter.updateChild(m,F,yn.EMPTY_NODE,si(e),f,a):m,b.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=Dk(i,_y(t)),h.isLeafNode()&&(b=n.filter.updateFullNode(b,h,a)))}return h=t.serverCache.isFullyInitialized()||null!=kk(i,Bn()),YE(t,b,h,n.filter.filtersNodes())}}(n,t,b.path,i,r,a):function(n,t,e,i,r,a,h){if(null!=kk(r,e))return t;const f=t.serverCache.isFiltered(),m=t.serverCache;if(null!=i.value){if(xn(e)&&m.isFullyInitialized()||m.isCompleteForPath(e))return Mk(n,t,e,m.getNode().getChild(e),r,a,f,h);if(xn(e)){let b=new fi(null);return m.getNode().forEachChild(qu,(F,K)=>{b=b.set(new zn(F),K)}),kN(n,t,e,b,r,a,f,h)}return t}{let b=new fi(null);return i.foreach((F,K)=>{const we=Pi(e,F);m.isCompleteForPath(we)&&(b=b.set(F,m.getNode().getChild(we)))}),kN(n,t,e,b,r,a,f,h)}}(n,t,b.path,b.affectedTree,i,r,a)}else{if(e.type!==Fl.LISTEN_COMPLETE)throw(0,Pe.g5)("Unknown operation type: "+e.type);h=function(n,t,e,i,r){const a=t.serverCache;return Cj(n,fj(t,a.getNode(),a.isFullyInitialized()||xn(e),a.isFiltered()),e,i,wj,r)}(n,t,e.path,i,a)}const m=a.getChanges();return function(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=Ik(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&e.push(cj(Ik(t)))}}(t,h,m),{viewCache:h,changes:m}}(n.processor_,r,t,e,i);return function(n,t){(0,Pe.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,Pe.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,a.viewCache),(0,Pe.hu)(a.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=a.viewCache,Dj(n,a.changes,a.viewCache.eventCache.getNode(),null)}function Dj(n,t,e,i){return function(n,t,e,i){const r=[],a=[];return t.forEach(h=>{"child_changed"===h.type&&n.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&a.push(function(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(h.childName,h.snapshotNode))}),ZE(n,r,"child_removed",t,i,e),ZE(n,r,"child_added",t,i,e),ZE(n,r,"child_moved",a,i,e),ZE(n,r,"child_changed",t,i,e),ZE(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let Rk,Pk;class kj{constructor(){this.views=new Map}}function MN(n,t,e,i){const r=t.source.queryId;if(null!==r){const a=n.views.get(r);return(0,Pe.hu)(null!=a,"SyncTree gave us an op for an invalid query."),Tj(a,t,e,i)}{let a=[];for(const h of n.views.values())a=a.concat(Tj(h,t,e,i));return a}}function Mj(n,t,e,i,r){const h=n.views.get(t._queryIdentifier);if(!h){let f=Dk(e,r?i:null),m=!1;f?m=!0:i instanceof yn?(f=SN(e,i),m=!1):(f=yn.EMPTY_NODE,m=!1);const b=Sk(new Yp(f,m,!1),new Yp(i,r,!1));return new TY(t,b)}return h}function Rj(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Qp(n,t){let e=null;for(const i of n.views.values())e=e||MY(i,t);return e}function Oj(n,t){return t._queryParams.loadsAllData()?Ok(n):n.views.get(t._queryIdentifier)}function Pj(n,t){return null!=Oj(n,t)}function $p(n){return null!=Ok(n)}function Ok(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let jY=1;class Nj{constructor(t){this.listenProvider_=t,this.syncPointTree_=new fi(null),this.pendingWriteTree_={visibleWrites:jc.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function RN(n,t,e,i,r){return function(n,t,e,i,r){(0,Pe.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=KE(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?f0(n,new yy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Jp(n,t,e=!1){const i=function(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function(n,t){const e=n.allWrites.findIndex(f=>f.writeId===t);(0,Pe.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,a=!1,h=n.allWrites.length-1;for(;r&&h>=0;){const f=n.allWrites[h];f.visible&&(h>=e&&lY(f,i.path)?r=!1:Nl(i.path,f.path)&&(a=!0)),h--}return!!r&&(a?(function(n){n.visibleWrites=yj(n.allWrites,uY,Bn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=pj(n.visibleWrites,i.path):Xr(i.children,m=>{n.visibleWrites=pj(n.visibleWrites,Pi(i.path,m))}),!0))}(n.pendingWriteTree_,t)){let a=new fi(null);return null!=i.snap?a=a.set(Bn(),!0):Xr(i.children,h=>{a=a.set(new zn(h),!0)}),f0(n,new xk(i.path,a,e))}return[]}function QE(n,t,e){return f0(n,new yy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function ON(n,t,e,i){const r=t._path,a=n.syncPointTree_.get(r);let h=[];if(a&&("default"===t._queryIdentifier||Pj(a,t))){const f=function(n,t,e,i){const r=t._queryIdentifier,a=[];let h=[];const f=$p(n);if("default"===r)for(const[m,b]of n.views.entries())h=h.concat(Ij(b,e,i)),Sj(b)&&(n.views.delete(m),b.query._queryParams.loadsAllData()||a.push(b.query));else{const m=n.views.get(r);m&&(h=h.concat(Ij(m,e,i)),Sj(m)&&(n.views.delete(r),m.query._queryParams.loadsAllData()||a.push(m.query)))}return f&&!$p(n)&&a.push(new((0,Pe.hu)(Rk,"Reference.ts has not been loaded"),Rk)(t._repo,t._path)),{removed:a,events:h}}(a,t,e,i);(function(n){return 0===n.views.size})(a)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const m=f.removed;h=f.events;const b=-1!==m.findIndex(K=>K._queryParams.loadsAllData()),F=n.syncPointTree_.findOnPath(r,(K,we)=>$p(we));if(b&&!F){const K=n.syncPointTree_.subtree(r);if(!K.isEmpty()){const we=function(n){return n.fold((t,e,i)=>{if(e&&$p(e))return[Ok(e)];{let r=[];return e&&(r=Rj(e)),Xr(i,(a,h)=>{r=r.concat(h)}),r}})}(K);for(let Re=0;Re<we.length;++Re){const qe=we[Re],rt=qe.query,ht=Vj(n,qe);n.listenProvider_.startListening($E(rt),Fk(n,rt),ht.hashFn,ht.onComplete)}}}if(!F&&m.length>0&&!i)if(b){const K=null;n.listenProvider_.stopListening($E(t),K)}else m.forEach(K=>{const we=n.queryToTagMap.get(Lk(K));n.listenProvider_.stopListening($E(K),we)});!function(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=Lk(i),a=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(a)}}}(n,m)}return h}function Fj(n,t,e){const i=t._path;let r=null,a=!1;n.syncPointTree_.foreachOnPath(i,(K,we)=>{const Re=Eo(K,i);r=r||Qp(we,Re),a=a||$p(we)});let f,h=n.syncPointTree_.get(i);h?(a=a||$p(h),r=r||Qp(h,Bn())):(h=new kj,n.syncPointTree_=n.syncPointTree_.set(i,h)),null!=r?f=!0:(f=!1,r=yn.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((we,Re)=>{const qe=Qp(Re,Bn());qe&&(r=r.updateImmediateChild(we,qe))}));const m=Pj(h,t);if(!m&&!t._queryParams.loadsAllData()){const K=Lk(t);(0,Pe.hu)(!n.queryToTagMap.has(K),"View does not exist, but we have a tag");const we=jY++;n.queryToTagMap.set(K,we),n.tagToQueryMap.set(we,K)}let F=function(n,t,e,i,r,a){const h=Mj(n,t,i,r,a);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,h),function(n,t){n.eventRegistrations_.push(t)}(h,e),function(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(di,(a,h)=>{i.push(c0(a,h))}),e.isFullyInitialized()&&i.push(cj(e.getNode())),Dj(n,i,e.getNode(),t)}(h,e)}(h,t,e,Tk(n.pendingWriteTree_,i),r,f);if(!m&&!a){const K=Oj(h,t);F=F.concat(function(n,t,e){const i=t._path,r=Fk(n,t),a=Vj(n,e),h=n.listenProvider_.startListening($E(t),r,a.hashFn,a.onComplete),f=n.syncPointTree_.subtree(i);if(r)(0,Pe.hu)(!$p(f.value),"If we're adding a query, it shouldn't be shadowed");else{const m=f.fold((b,F,K)=>{if(!xn(b)&&F&&$p(F))return[Ok(F).query];{let we=[];return F&&(we=we.concat(Rj(F).map(Re=>Re.query))),Xr(K,(Re,qe)=>{we=we.concat(qe)}),we}});for(let b=0;b<m.length;++b){const F=m[b];n.listenProvider_.stopListening($E(F),Fk(n,F))}}return h}(n,t,K))}return F}function Nk(n,t,e){const r=n.pendingWriteTree_,a=n.syncPointTree_.findOnPath(t,(h,f)=>{const b=Qp(f,Eo(h,t));if(b)return b});return _j(r,t,a,e,!0)}function f0(n,t){return Lj(t,n.syncPointTree_,null,Tk(n.pendingWriteTree_,Bn()))}function Lj(n,t,e,i){if(xn(n.path))return Bj(n,t,e,i);{const r=t.get(Bn());null==e&&null!=r&&(e=Qp(r,Bn()));let a=[];const h=En(n.path),f=n.operationForChild(h),m=t.children.get(h);if(m&&f){const b=e?e.getImmediateChild(h):null,F=vj(i,h);a=a.concat(Lj(f,m,b,F))}return r&&(a=a.concat(MN(r,n,i,e))),a}}function Bj(n,t,e,i){const r=t.get(Bn());null==e&&null!=r&&(e=Qp(r,Bn()));let a=[];return t.children.inorderTraversal((h,f)=>{const m=e?e.getImmediateChild(h):null,b=vj(i,h),F=n.operationForChild(h);F&&(a=a.concat(Bj(F,f,m,b)))}),r&&(a=a.concat(MN(r,n,i,e))),a}function Vj(n,t){const e=t.query,i=Fk(n,e);return{hashFn:()=>(function(n){return n.viewCache_.serverCache.getNode()}(t)||yn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function(n,t,e){const i=PN(n,e);if(i){const r=NN(i),a=r.path,h=r.queryId,f=Eo(a,t);return FN(n,a,new qE(bN(h),f))}return[]}(n,e._path,i):function(n,t){return f0(n,new qE({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const a=function(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return ON(n,e,null,a)}}}}function Fk(n,t){const e=Lk(t);return n.queryToTagMap.get(e)}function Lk(n){return n._path.toString()+"$"+n._queryIdentifier}function PN(n,t){return n.tagToQueryMap.get(t)}function NN(n){const t=n.indexOf("$");return(0,Pe.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new zn(n.substr(0,t))}}function FN(n,t,e){const i=n.syncPointTree_.get(t);return(0,Pe.hu)(i,"Missing sync point for query tag that we're tracking"),MN(i,e,Tk(n.pendingWriteTree_,t),null)}function $E(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new((0,Pe.hu)(Pk,"Reference.ts has not been loaded"),Pk)(n._repo,n._path):n}class LN{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new LN(e)}node(){return this.node_}}class BN{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Pi(this.path_,t);return new BN(this.syncTree_,e)}node(){return Nk(this.syncTree_,this.path_)}}const Uj=function(n,t,e){return n&&"object"==typeof n?((0,Pe.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?e8(n[".sv"],t,e):"object"==typeof n[".sv"]?t8(n[".sv"],t):void(0,Pe.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},e8=function(n,t,e){switch(n){case"timestamp":return e.timestamp;default:(0,Pe.hu)(!1,"Unexpected server value: "+n)}},t8=function(n,t,e){n.hasOwnProperty("increment")||(0,Pe.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,Pe.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,Pe.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const h=r.getValue();return"number"!=typeof h?i:h+i},jj=function(n,t,e,i){return UN(t,new BN(e,n),i)},VN=function(n,t,e){return UN(n,new LN(t),e)};function UN(n,t,e){const i=n.getPriority().val(),r=Uj(i,t.getImmediateChild(".priority"),e);let a;if(n.isLeafNode()){const h=n,f=Uj(h.getValue(),t,e);return f!==h.getValue()||r!==h.getPriority().val()?new o0(f,Vi(r)):n}{const h=n;return a=h,r!==h.getPriority().val()&&(a=a.updatePriority(new o0(r))),h.forEachChild(di,(f,m)=>{const b=UN(m,t.getImmediateChild(f),e);b!==m&&(a=a.updateImmediateChild(f,b))}),a}}class jN{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function Bk(n,t){let e=t instanceof zn?t:new zn(t),i=n,r=En(e);for(;null!==r;){const a=(0,Pe.DV)(i.node.children,r)||{children:{},childCount:0};i=new jN(r,i,a),e=si(e),r=En(e)}return i}function vy(n){return n.node.value}function HN(n,t){n.node.value=t,GN(n)}function Hj(n){return n.node.childCount>0}function Vk(n,t){Xr(n.node.children,(e,i)=>{t(new jN(e,n,i))})}function Gj(n,t,e,i){e&&!i&&t(n),Vk(n,r=>{Gj(r,t,!0,i)}),e&&i&&t(n)}function JE(n){return new zn(null===n.parent?n.name:JE(n.parent)+"/"+n.name)}function GN(n){null!==n.parent&&function(n,t,e){const i=function(n){return void 0===vy(n)&&!Hj(n)}(e),r=(0,Pe.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,GN(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,GN(n))}(n.parent,n.name,n)}const s8=/[\[\].#$\/\u0000-\u001F\u007F]/,o8=/[\[\].#$\u0000-\u001F\u007F]/,zN=10485760,Uk=function(n){return"string"==typeof n&&0!==n.length&&!s8.test(n)},zj=function(n){return"string"==typeof n&&0!==n.length&&!o8.test(n)},XE=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!fk(n)||n&&"object"==typeof n&&(0,Pe.r3)(n,".sv")},Zu=function(n,t,e,i){i&&void 0===t||ex((0,Pe.gK)(n,"value"),t,e)},ex=function(n,t,e){const i=e instanceof zn?new v4(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+gy(i));if("function"==typeof t)throw new Error(n+"contains a function "+gy(i)+" with contents = "+t.toString());if(fk(t))throw new Error(n+"contains "+t.toString()+" "+gy(i));if("string"==typeof t&&t.length>zN/3&&(0,Pe.ug)(t)>zN)throw new Error(n+"contains a string greater than "+zN+" utf8 bytes "+gy(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,a=!1;if(Xr(t,(h,f)=>{if(".value"===h)r=!0;else if(".priority"!==h&&".sv"!==h&&(a=!0,!Uk(h)))throw new Error(n+" contains an invalid key ("+h+") "+gy(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,Pe.ug)(t),QU(n)})(i,h),ex(n,f,i),function(n){const t=n.parts_.pop();n.byteLength_-=(0,Pe.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&a)throw new Error(n+' contains ".value" child '+gy(i)+" in addition to actual children.")}},Wj=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,Pe.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const a=[];Xr(t,(h,f)=>{const m=new zn(h);if(ex(r,f,Pi(e,m)),".priority"===sN(m)&&!XE(f))throw new Error(r+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(m)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const a=VE(i);for(let h=0;h<a.length;h++)if((".priority"!==a[h]||h!==a.length-1)&&!Uk(a[h]))throw new Error(n+"contains an invalid key ("+a[h]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(A4);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Nl(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,a)},WN=function(n,t,e){if(!e||void 0!==t){if(fk(t))throw new Error((0,Pe.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!XE(t))throw new Error((0,Pe.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},tx=function(n,t,e,i){if(!(i&&void 0===e||Uk(e)))throw new Error((0,Pe.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},nx=function(n,t,e,i){if(!(i&&void 0===e||zj(e)))throw new Error((0,Pe.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ll=function(n,t){if(".info"===En(t))throw new Error(n+" failed = Can't modify data under /.info/")},qj=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Uk(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),zj(n)}(e))throw new Error((0,Pe.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class u8{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function jk(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],a=r.getPath();null!==e&&!oN(a,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:a}),e.events.push(r)}e&&n.eventLists_.push(e)}function qN(n,t,e){jk(n,e),Zj(n,i=>oN(i,t))}function Bl(n,t,e){jk(n,e),Zj(n,i=>Nl(i,t)||Nl(t,i))}function Zj(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(h8(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function h8(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();fy&&Jr("event: "+e.toString()),r0(i)}}}const Yj="repo_interrupt";class f8{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new u8,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ek(),this.transactionQueueTree_=new jN,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Kj(n){const e=n.infoData_.getNode(new zn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function ix(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:Kj(n)})}function Qj(n,t,e,i,r){n.dataUpdateCount++;const a=new zn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let h=[];if(r)if(i){const m=(0,Pe.UI)(e,b=>Vi(b));h=function(n,t,e,i){const r=PN(n,i);if(r){const a=NN(r),h=a.path,f=a.queryId,m=Eo(h,t),b=fi.fromObject(e);return FN(n,h,new h0(bN(f),m,b))}return[]}(n.serverSyncTree_,a,m,r)}else{const m=Vi(e);h=function(n,t,e,i){const r=PN(n,i);if(null!=r){const a=NN(r),h=a.path,f=a.queryId,m=Eo(h,t);return FN(n,h,new yy(bN(f),m,e))}return[]}(n.serverSyncTree_,a,m,r)}else if(i){const m=(0,Pe.UI)(e,b=>Vi(b));h=function(n,t,e){const i=fi.fromObject(e);return f0(n,new h0({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,a,m)}else{const m=Vi(e);h=QE(n.serverSyncTree_,a,m)}let f=a;h.length>0&&(f=g0(n,a)),Bl(n.eventQueue_,f,h)}function $j(n,t){ZN(n,"connected",t),!1===t&&function(n){p0(n,"onDisconnectEvents");const t=ix(n),e=Ek();_N(n.onDisconnect_,Bn(),(r,a)=>{const h=jj(r,a,n.serverSyncTree_,t);u0(e,r,h)});let i=[];_N(e,Bn(),(r,a)=>{i=i.concat(QE(n.serverSyncTree_,r,a));const h=$N(n,r);g0(n,h)}),n.onDisconnect_=Ek(),Bl(n.eventQueue_,Bn(),i)}(n)}function ZN(n,t,e){const i=new zn("/.info/"+t),r=Vi(e);n.infoData_.updateSnapshot(i,r);const a=QE(n.infoSyncTree_,i,r);Bl(n.eventQueue_,i,a)}function Hk(n){return n.nextWriteId_++}function YN(n,t,e,i,r){p0(n,"set",{path:t.toString(),value:e,priority:i});const a=ix(n),h=Vi(e,i),f=Nk(n.serverSyncTree_,t),m=VN(h,f,a),b=Hk(n),F=RN(n.serverSyncTree_,t,m,b,!0);jk(n.eventQueue_,F),n.server_.put(t.toString(),h.val(!0),(we,Re)=>{const qe="ok"===we;qe||Co("set at "+t+" failed: "+we);const rt=Jp(n.serverSyncTree_,b,!qe);Bl(n.eventQueue_,t,rt),Xp(0,r,we,Re)});const K=$N(n,t);g0(n,K),Bl(n.eventQueue_,K,[])}function A8(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&yN(n.onDisconnect_,t),Xp(0,e,i,r)})}function Jj(n,t,e,i){const r=Vi(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(a,h)=>{"ok"===a&&u0(n.onDisconnect_,t,r),Xp(0,i,a,h)})}function KN(n,t,e){let i;i=".info"===En(t._path)?ON(n.infoSyncTree_,t,e):ON(n.serverSyncTree_,t,e),qN(n.eventQueue_,t._path,i)}function Xj(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Yj)}function p0(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Jr(e,...t)}function Xp(n,t,e,i){t&&r0(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let a=r;i&&(a+=": "+i);const h=new Error(a);h.code=r,t(h)}})}function QN(n,t,e){return Nk(n.serverSyncTree_,t,e)||yn.EMPTY_NODE}function Gk(n,t=n.transactionQueueTree_){if(t||zk(n,t),vy(t)){const e=tH(n,t);(0,Pe.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function(n,t,e){const i=e.map(b=>b.currentWriteId),r=QN(n,t,i);let a=r;const h=r.hash();for(let b=0;b<e.length;b++){const F=e[b];(0,Pe.hu)(0===F.status,"tryToSendTransactionQueue_: items in queue should all be run."),F.status=1,F.retryCount++;const K=Eo(t,F.path);a=a.updateChild(K,F.currentOutputSnapshotRaw)}const f=a.val(!0),m=t;n.server_.put(m.toString(),f,b=>{p0(n,"transaction put response",{path:m.toString(),status:b});let F=[];if("ok"===b){const K=[];for(let we=0;we<e.length;we++)e[we].status=2,F=F.concat(Jp(n.serverSyncTree_,e[we].currentWriteId)),e[we].onComplete&&K.push(()=>e[we].onComplete(null,!0,e[we].currentOutputSnapshotResolved)),e[we].unwatcher();zk(n,Bk(n.transactionQueueTree_,t)),Gk(n,n.transactionQueueTree_),Bl(n.eventQueue_,t,F);for(let we=0;we<K.length;we++)r0(K[we])}else{if("datastale"===b)for(let K=0;K<e.length;K++)e[K].status=3===e[K].status?4:0;else{Co("transaction at "+m.toString()+" failed: "+b);for(let K=0;K<e.length;K++)e[K].status=4,e[K].abortReason=b}g0(n,t)}},h)}(n,JE(t),e)}else Hj(t)&&Vk(t,e=>{Gk(n,e)})}function g0(n,t){const e=eH(n,t),i=JE(e);return function(n,t,e){if(0===t.length)return;const i=[];let r=[];const h=t.filter(f=>0===f.status).map(f=>f.currentWriteId);for(let f=0;f<t.length;f++){const m=t[f],b=Eo(e,m.path);let K,F=!1;if((0,Pe.hu)(null!==b,"rerunTransactionsUnderNode_: relativePath should not be null."),4===m.status)F=!0,K=m.abortReason,r=r.concat(Jp(n.serverSyncTree_,m.currentWriteId,!0));else if(0===m.status)if(m.retryCount>=25)F=!0,K="maxretry",r=r.concat(Jp(n.serverSyncTree_,m.currentWriteId,!0));else{const we=QN(n,m.path,h);m.currentInputSnapshot=we;const Re=t[f].update(we.val());if(void 0!==Re){ex("transaction failed: Data returned ",Re,m.path);let qe=Vi(Re);"object"==typeof Re&&null!=Re&&(0,Pe.r3)(Re,".priority")||(qe=qe.updatePriority(we.getPriority()));const ht=m.currentWriteId,St=ix(n),Ft=VN(qe,we,St);m.currentOutputSnapshotRaw=qe,m.currentOutputSnapshotResolved=Ft,m.currentWriteId=Hk(n),h.splice(h.indexOf(ht),1),r=r.concat(RN(n.serverSyncTree_,m.path,Ft,m.currentWriteId,m.applyLocally)),r=r.concat(Jp(n.serverSyncTree_,ht,!0))}else F=!0,K="nodata",r=r.concat(Jp(n.serverSyncTree_,m.currentWriteId,!0))}Bl(n.eventQueue_,e,r),r=[],F&&(t[f].status=2,setTimeout(t[f].unwatcher,Math.floor(0)),t[f].onComplete&&i.push("nodata"===K?()=>t[f].onComplete(null,!1,t[f].currentInputSnapshot):()=>t[f].onComplete(new Error(K),!1,null)))}zk(n,n.transactionQueueTree_);for(let f=0;f<i.length;f++)r0(i[f]);Gk(n,n.transactionQueueTree_)}(n,tH(n,e),i),i}function eH(n,t){let e,i=n.transactionQueueTree_;for(e=En(t);null!==e&&void 0===vy(i);)i=Bk(i,e),e=En(t=si(t));return i}function tH(n,t){const e=[];return nH(n,t,e),e.sort((i,r)=>i.order-r.order),e}function nH(n,t,e){const i=vy(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);Vk(t,r=>{nH(n,r,e)})}function zk(n,t){const e=vy(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,HN(t,e.length>0?e:void 0)}Vk(t,i=>{zk(n,i)})}function $N(n,t){const e=JE(eH(n,t)),i=Bk(n.transactionQueueTree_,t);return function(n,t,e){let i=n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{JN(n,r)}),JN(n,i),Gj(i,r=>{JN(n,r)}),e}function JN(n,t){const e=vy(t);if(e){const i=[];let r=[],a=-1;for(let h=0;h<e.length;h++)3===e[h].status||(1===e[h].status?((0,Pe.hu)(a===h-1,"All SENT items should be at beginning of queue."),a=h,e[h].status=3,e[h].abortReason="set"):((0,Pe.hu)(0===e[h].status,"Unexpected transaction status in abort"),e[h].unwatcher(),r=r.concat(Jp(n.serverSyncTree_,e[h].currentWriteId,!0)),e[h].onComplete&&i.push(e[h].onComplete.bind(null,new Error("set"),!1,null))));-1===a?HN(t,void 0):e.length=a+1,Bl(n.eventQueue_,JE(t),r);for(let h=0;h<i.length;h++)r0(i[h])}}const XN=function(n,t){const e=D8(n),i=e.namespace;return"firebase.com"===e.domain&&zu(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&zu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Co("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new JP(e.host,e.secure,i,t,"ws"===e.scheme||"wss"===e.scheme,"",i!==e.subdomain),path:new zn(e.pathString)}},D8=function(n){let t="",e="",i="",r="",a="",h=!0,f="https",m=443;if("string"==typeof n){let b=n.indexOf("//");b>=0&&(f=n.substring(0,b-1),n=n.substring(b+2));let F=n.indexOf("/");-1===F&&(F=n.length);let K=n.indexOf("?");-1===K&&(K=n.length),t=n.substring(0,Math.min(F,K)),F<K&&(r=function(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(a){}t+="/"+r}return t}(n.substring(F,K)));const we=function(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Co(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,K)));b=t.indexOf(":"),b>=0?(h="https"===f||"wss"===f,m=parseInt(t.substring(b+1),10)):b=t.length;const Re=t.slice(0,b);if("localhost"===Re.toLowerCase())e="localhost";else if(Re.split(".").length<=2)e=Re;else{const qe=t.indexOf(".");i=t.substring(0,qe).toLowerCase(),e=t.substring(qe+1),a=i}"ns"in we&&(a=we.ns)}return{host:t,port:m,domain:e,subdomain:i,secure:h,scheme:f,pathString:r,namespace:a}};class iH{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Pe.Pz)(this.snapshot.exportVal())}}class rH{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class sH{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,Pe.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class oH{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new Pe.BH;return A8(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Ll("OnDisconnect.remove",this._path);const t=new Pe.BH;return Jj(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Ll("OnDisconnect.set",this._path),Zu("OnDisconnect.set",t,this._path,!1);const e=new Pe.BH;return Jj(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Ll("OnDisconnect.setWithPriority",this._path),Zu("OnDisconnect.setWithPriority",t,this._path,!1),WN("OnDisconnect.setWithPriority",e,!1);const i=new Pe.BH;return function(n,t,e,i,r){const a=Vi(e,i);n.server_.onDisconnectPut(t.toString(),a.val(!0),(h,f)=>{"ok"===h&&u0(n.onDisconnect_,t,a),Xp(0,r,h,f)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Ll("OnDisconnect.update",this._path),Wj("OnDisconnect.update",t,this._path,!1);const e=new Pe.BH;return function(n,t,e,i){if((0,Pe.xb)(e))return Jr("onDisconnect().update() called with empty data.  Don't do anything."),void Xp(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,a)=>{"ok"===r&&Xr(e,(h,f)=>{const m=Vi(f);u0(n.onDisconnect_,Pi(t,h),m)}),Xp(0,i,r,a)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class ia{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return xn(this._path)?null:sN(this._path)}get ref(){return new Vl(this._repo,this._path)}get _queryIdentifier(){const t=hj(this._queryParams),e=KP(t);return"{}"===e?"default":e}get _queryObject(){return hj(this._queryParams)}isEqual(t){if(!((t=(0,Pe.m9)(t))instanceof ia))return!1;const e=this._repo===t._repo,i=oN(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function Wk(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function eg(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===qu){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Td)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Wu)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===di){if(null!=t&&!XE(t)||null!=e&&!XE(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Pe.hu)(n.getIndex()instanceof hN||n.getIndex()===dN,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function qk(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Vl extends ia{constructor(t,e){super(t,e,new bk,!1)}get parent(){const t=KU(this._path);return null===t?null:new Vl(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class by{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new zn(t),i=wy(this.ref,t);return new by(this._node.getChild(e),i,di)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new by(r,wy(this.ref,i),di)))}hasChild(t){const e=new zn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function aH(n,t){return(n=(0,Pe.m9)(n))._checkNotDeleted("ref"),void 0!==t?wy(n._root,t):n._root}function lH(n,t){(n=(0,Pe.m9)(n))._checkNotDeleted("refFromURL");const e=XN(t,n._repo.repoInfo_.nodeAdmin);qj("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&zu("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),aH(n,e.path.toString())}function wy(n,t){return null===En((n=(0,Pe.m9)(n))._path)?((e=t)&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),nx("child","path",e,!1)):nx("child","path",t,!1),new Vl(n._repo,Pi(n._path,t));var e}function eF(n,t){n=(0,Pe.m9)(n),Ll("set",n._path),Zu("set",t,n._path,!1);const e=new Pe.BH;return YN(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function P8(n,t){Wj("update",t,n._path,!1);const e=new Pe.BH;return function(n,t,e,i){p0(n,"update",{path:t.toString(),value:e});let r=!0;const a=ix(n),h={};if(Xr(e,(f,m)=>{r=!1,h[f]=jj(Pi(t,f),Vi(m),n.serverSyncTree_,a)}),r)Jr("update() called with empty data.  Don't do anything."),Xp(0,i,"ok",void 0);else{const f=Hk(n),m=function(n,t,e,i){!function(n,t,e,i){(0,Pe.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=CN(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=fi.fromObject(e);return f0(n,new h0({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,h,f);jk(n.eventQueue_,m),n.server_.merge(t.toString(),e,(b,F)=>{const K="ok"===b;K||Co("update at "+t+" failed: "+b);const we=Jp(n.serverSyncTree_,f,!K),Re=we.length>0?g0(n,t):t;Bl(n.eventQueue_,Re,we),Xp(0,i,b,F)}),Xr(e,b=>{const F=$N(n,Pi(t,b));g0(n,F)}),Bl(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function N8(n){return function(n,t){const e=function(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(b,F)=>{const K=Eo(b,e);i=i||Qp(F,K)});let r=n.syncPointTree_.get(e);r?i=i||Qp(r,Bn()):(r=new kj,n.syncPointTree_=n.syncPointTree_.set(e,r));const a=null!=i,h=a?new Yp(i,!0,!1):null;return function(n){return Ik(n.viewCache_)}(Mj(r,t,Tk(n.pendingWriteTree_,t._path),a?h.getNode():yn.EMPTY_NODE,a))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const r=Vi(i).withIndex(t._queryParams.getIndex()),a=QE(n.serverSyncTree_,t._path,r);return qN(n.eventQueue_,t._path,a),Promise.resolve(r)},i=>(p0(n,"get for query "+(0,Pe.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,Pe.m9)(n))._repo,n).then(t=>new by(t,new Vl(n._repo,n._path),n._queryParams.getIndex()))}class Zk{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new iH("value",this,new by(t.snapshotNode,new Vl(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new rH(this,t,e):null}matches(t){return t instanceof Zk&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Yk{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new rH(this,t,e):null}createEvent(t,e){(0,Pe.hu)(null!=t.childName,"Child events should have a childName.");const i=wy(new Vl(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new iH(t.type,this,new by(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Yk&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function rx(n,t,e,i,r){let a;if("object"==typeof i&&(a=void 0,r=i),"function"==typeof i&&(a=i),r&&r.onlyOnce){const m=e,b=(F,K)=>{KN(n._repo,n,f),m(F,K)};b.userCallback=e.userCallback,b.context=e.context,e=b}const h=new sH(e,a||void 0),f="value"===t?new Zk(h):new Yk(t,h);return function(n,t,e){let i;i=".info"===En(t._path)?Fj(n.infoSyncTree_,t,e):Fj(n.serverSyncTree_,t,e),qN(n.eventQueue_,t._path,i)}(n._repo,n,f),()=>KN(n._repo,n,f)}function tF(n,t,e,i){return rx(n,"value",t,e,i)}function cH(n,t,e,i){return rx(n,"child_added",t,e,i)}function uH(n,t,e,i){return rx(n,"child_changed",t,e,i)}function hH(n,t,e,i){return rx(n,"child_moved",t,e,i)}function dH(n,t,e,i){return rx(n,"child_removed",t,e,i)}function fH(n,t,e){let i=null;const r=e?new sH(e):null;"value"===t?i=new Zk(r):t&&(i=new Yk(t,r)),KN(n._repo,n,i)}class Hc{}class pH extends Hc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Zu("endAt",this._value,t._path,!0);const e=mN(t._queryParams,this._value,this._key);if(qk(e),eg(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ia(t._repo,t._path,e,t._orderByCalled)}}class L8 extends Hc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Zu("endBefore",this._value,t._path,!1);const e=function(n,t,e){let i,r;return n.index_===qu?("string"==typeof t&&(t=lj(t)),r=mN(n,t,e)):(i=null==e?Td:lj(e),r=mN(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(qk(e),eg(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ia(t._repo,t._path,e,t._orderByCalled)}}class gH extends Hc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Zu("startAt",this._value,t._path,!0);const e=gN(t._queryParams,this._value,this._key);if(qk(e),eg(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ia(t._repo,t._path,e,t._orderByCalled)}}class U8 extends Hc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Zu("startAfter",this._value,t._path,!1);const e=function(n,t,e){let i;if(n.index_===qu)"string"==typeof t&&(t=aj(t)),i=gN(n,t,e);else{let r;r=null==e?Wu:aj(e),i=gN(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(qk(e),eg(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ia(t._repo,t._path,e,t._orderByCalled)}}class H8 extends Hc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ia(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class z8 extends Hc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ia(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class q8 extends Hc{constructor(t){super(),this._path=t}_apply(t){Wk(t,"orderByChild");const e=new zn(this._path);if(xn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new hN(e),r=wk(t._queryParams,i);return eg(r),new ia(t._repo,t._path,r,!0)}}class Y8 extends Hc{_apply(t){Wk(t,"orderByKey");const e=wk(t._queryParams,qu);return eg(e),new ia(t._repo,t._path,e,!0)}}class Q8 extends Hc{_apply(t){Wk(t,"orderByPriority");const e=wk(t._queryParams,di);return eg(e),new ia(t._repo,t._path,e,!0)}}class J8 extends Hc{_apply(t){Wk(t,"orderByValue");const e=wk(t._queryParams,dN);return eg(e),new ia(t._repo,t._path,e,!0)}}class e5 extends Hc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Zu("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new pH(this._value,this._key)._apply(new gH(this._value,this._key)._apply(t))}}function Gc(n,...t){let e=(0,Pe.m9)(n);for(const i of t)e=i._apply(e);return e}(function(n){(0,Pe.hu)(!Rk,"__referenceConstructor has already been defined"),Rk=n})(Vl),function(n){(0,Pe.hu)(!Pk,"__referenceConstructor has already been defined"),Pk=n}(Vl);const nF={};function yH(n,t,e,i,r){let a=i||n.options.databaseURL;void 0===a&&(n.options.projectId||zu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Jr("Using default host for project ",n.options.projectId),a=`${n.options.projectId}-default-rtdb.firebaseio.com`);let m,b,h=XN(a,r),f=h.repoInfo;"undefined"!=typeof process&&(b=process.env.FIREBASE_DATABASE_EMULATOR_HOST),b?(m=!0,a=`http://${b}?ns=${f.namespace}`,h=XN(a,r),f=h.repoInfo):m=!h.repoInfo.secure;const F=r&&m?new FE(FE.OWNER):new qZ(n.name,n.options,t);qj("Invalid Firebase Database URL",h),xn(h.path)||zu("Database URL must point to the root of a Firebase Database (not including a child path).");const K=function(n,t,e,i){let r=nF[t.name];r||(r={},nF[t.name]=r);let a=r[n.toURLString()];return a&&zu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new f8(n,false,e,i),r[n.toURLString()]=a,a}(f,n,F,new WZ(n.name,e));return new a5(K,n)}class a5{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(n,t,e){if(n.stats_=tN(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Ck(n.repoInfo_,(i,r,a,h)=>{Qj(n,i,r,a,h)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>$j(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Pe.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new my(n.repoInfo_,t,(i,r,a,h)=>{Qj(n,i,r,a,h)},i=>{$j(n,i)},i=>{!function(n,t){Xr(t,(e,i)=>{ZN(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function(n,t){const e=n.toString();return eN[e]||(eN[e]=t()),eN[e]}(n.repoInfo_,()=>new J4(n.stats_,n.server_)),n.infoData_=new Z4,n.infoSyncTree_=new Nj({startListening:(i,r,a,h)=>{let f=[];const m=n.infoData_.getNode(i._path);return m.isEmpty()||(f=QE(n.infoSyncTree_,i._path,m),setTimeout(()=>{h("ok")},0)),f},stopListening:()=>{}}),ZN(n,"connected",!1),n.serverSyncTree_=new Nj({startListening:(i,r,a,h)=>(n.server_.listen(i,a,r,(f,m)=>{const b=h(f,m);Bl(n.eventQueue_,i._path,b)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Vl(this._repo,Bn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(n,t){const e=nF[t];(!e||e[n.key]!==n)&&zu(`Database ${t}(${n.repoInfo_}) has already been deleted.`),Xj(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&zu("Cannot call "+t+" on a deleted database.")}}function h5(n,t){AU(n,t)}class m5{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}my.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},my.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},pU(fo.SDK_VERSION),(0,fo._registerComponent)(new Ea.wA("database",(t,{instanceIdentifier:e})=>yH(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,fo.registerVersion)(dU,"0.12.2",void 0),(0,fo.registerVersion)(dU,"0.12.2","esm2017");const v5=new qo.Yd("@firebase/database-compat"),_H=function(n){v5.warn("FIREBASE WARNING: "+n)};class C5{constructor(t){this._delegate=t}cancel(t){(0,Pe.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Pe.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,Pe.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Pe.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,Pe.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Pe.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,Pe.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Pe.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),a=>i(a)),r}update(t,e){if((0,Pe.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let a=0;a<t.length;++a)r[""+a]=t[a];t=r,_H("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Pe.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class E5{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,Pe.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class tg{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,Pe.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Pe.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Pe.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Pe.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,Pe.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),nx("DataSnapshot.child","path",t,!1),new tg(this._database,this._delegate.child(t))}hasChild(t){return(0,Pe.Dv)("DataSnapshot.hasChild",1,1,arguments.length),nx("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,Pe.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,Pe.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Pe.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new tg(this._database,e)))}hasChildren(){return(0,Pe.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Pe.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Pe.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ba(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Cs{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var a;(0,Pe.Dv)("Query.on",2,4,arguments.length),(0,Pe.Wj)("Query.on","callback",e,!1);const h=Cs.getCancelAndContextArgs_("Query.on",i,r),f=(b,F)=>{e.call(h.context,new tg(this.database,b),F)};f.userCallback=e,f.context=h.context;const m=null===(a=h.cancel)||void 0===a?void 0:a.bind(h.context);switch(t){case"value":return tF(this._delegate,f,m),e;case"child_added":return cH(this._delegate,f,m),e;case"child_removed":return dH(this._delegate,f,m),e;case"child_changed":return uH(this._delegate,f,m),e;case"child_moved":return hH(this._delegate,f,m),e;default:throw new Error((0,Pe.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,Pe.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Pe.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,Pe.Wj)("Query.off","callback",e,!0),(0,Pe.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,fH(this._delegate,t,r)}else fH(this._delegate,t)}get(){return N8(this._delegate).then(t=>new tg(this.database,t))}once(t,e,i,r){(0,Pe.Dv)("Query.once",1,4,arguments.length),(0,Pe.Wj)("Query.once","callback",e,!0);const a=Cs.getCancelAndContextArgs_("Query.once",i,r),h=new Pe.BH,f=(b,F)=>{const K=new tg(this.database,b);e&&e.call(a.context,K,F),h.resolve(K)};f.userCallback=e,f.context=a.context;const m=b=>{a.cancel&&a.cancel.call(a.context,b),h.reject(b)};switch(t){case"value":tF(this._delegate,f,m,{onlyOnce:!0});break;case"child_added":cH(this._delegate,f,m,{onlyOnce:!0});break;case"child_removed":dH(this._delegate,f,m,{onlyOnce:!0});break;case"child_changed":uH(this._delegate,f,m,{onlyOnce:!0});break;case"child_moved":hH(this._delegate,f,m,{onlyOnce:!0});break;default:throw new Error((0,Pe.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return h.promise}limitToFirst(t){return(0,Pe.Dv)("Query.limitToFirst",1,1,arguments.length),new Cs(this.database,Gc(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new H8(n)}(t)))}limitToLast(t){return(0,Pe.Dv)("Query.limitToLast",1,1,arguments.length),new Cs(this.database,Gc(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new z8(n)}(t)))}orderByChild(t){return(0,Pe.Dv)("Query.orderByChild",1,1,arguments.length),new Cs(this.database,Gc(this._delegate,function(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return nx("orderByChild","path",n,!1),new q8(n)}(t)))}orderByKey(){return(0,Pe.Dv)("Query.orderByKey",0,0,arguments.length),new Cs(this.database,Gc(this._delegate,new Y8))}orderByPriority(){return(0,Pe.Dv)("Query.orderByPriority",0,0,arguments.length),new Cs(this.database,Gc(this._delegate,new Q8))}orderByValue(){return(0,Pe.Dv)("Query.orderByValue",0,0,arguments.length),new Cs(this.database,Gc(this._delegate,new J8))}startAt(t=null,e){return(0,Pe.Dv)("Query.startAt",0,2,arguments.length),new Cs(this.database,Gc(this._delegate,function(n=null,t){return tx("startAt","key",t,!0),new gH(n,t)}(t,e)))}startAfter(t=null,e){return(0,Pe.Dv)("Query.startAfter",0,2,arguments.length),new Cs(this.database,Gc(this._delegate,function(n,t){return tx("startAfter","key",t,!0),new U8(n,t)}(t,e)))}endAt(t=null,e){return(0,Pe.Dv)("Query.endAt",0,2,arguments.length),new Cs(this.database,Gc(this._delegate,function(n,t){return tx("endAt","key",t,!0),new pH(n,t)}(t,e)))}endBefore(t=null,e){return(0,Pe.Dv)("Query.endBefore",0,2,arguments.length),new Cs(this.database,Gc(this._delegate,function(n,t){return tx("endBefore","key",t,!0),new L8(n,t)}(t,e)))}equalTo(t,e){return(0,Pe.Dv)("Query.equalTo",1,2,arguments.length),new Cs(this.database,Gc(this._delegate,function(n,t){return tx("equalTo","key",t,!0),new e5(n,t)}(t,e)))}toString(){return(0,Pe.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Pe.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,Pe.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Cs))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,Pe.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,Pe.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,Pe.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Ba(this.database,new Vl(this._delegate._repo,this._delegate._path))}}class Ba extends Cs{constructor(t,e){super(t,new ia(e._repo,e._path,new bk,!1)),this.database=t,this._delegate=e}getKey(){return(0,Pe.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,Pe.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Ba(this.database,wy(this._delegate,t))}getParent(){(0,Pe.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Ba(this.database,t):null}getRoot(){return(0,Pe.Dv)("Reference.root",0,0,arguments.length),new Ba(this.database,this._delegate.root)}set(t,e){(0,Pe.Dv)("Reference.set",1,2,arguments.length),(0,Pe.Wj)("Reference.set","onComplete",e,!0);const i=eF(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,Pe.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let a=0;a<t.length;++a)r[""+a]=t[a];t=r,_H("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ll("Reference.update",this._delegate._path),(0,Pe.Wj)("Reference.update","onComplete",e,!0);const i=P8(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,Pe.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Pe.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function(n,t,e){if(Ll("setWithPriority",n._path),Zu("setWithPriority",t,n._path,!1),WN("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new Pe.BH;return YN(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),a=>i(a)),r}remove(t){(0,Pe.Dv)("Reference.remove",0,1,arguments.length),(0,Pe.Wj)("Reference.remove","onComplete",t,!0);const e=function(n){return Ll("remove",n._path),eF(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,Pe.Dv)("Reference.transaction",1,3,arguments.length),(0,Pe.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,Pe.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,Pe.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function(n,t,e){var i;if(n=(0,Pe.m9)(n),Ll("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,a=new Pe.BH,f=tF(n,()=>{});return function(n,t,e,i,r,a){p0(n,"transaction on "+t);const h={path:t,update:e,onComplete:i,status:null,order:mU(),applyLocally:a,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},f=QN(n,t,void 0);h.currentInputSnapshot=f;const m=h.update(f.val());if(void 0===m)h.unwatcher(),h.currentOutputSnapshotRaw=null,h.currentOutputSnapshotResolved=null,h.onComplete&&h.onComplete(null,!1,h.currentInputSnapshot);else{ex("transaction failed: Data returned ",m,h.path),h.status=0;const b=Bk(n.transactionQueueTree_,t),F=vy(b)||[];let K;F.push(h),HN(b,F),"object"==typeof m&&null!==m&&(0,Pe.r3)(m,".priority")?(K=(0,Pe.DV)(m,".priority"),(0,Pe.hu)(XE(K),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):K=(Nk(n.serverSyncTree_,t)||yn.EMPTY_NODE).getPriority().val();const we=ix(n),Re=Vi(m,K),qe=VN(Re,f,we);h.currentOutputSnapshotRaw=Re,h.currentOutputSnapshotResolved=qe,h.currentWriteId=Hk(n);const rt=RN(n.serverSyncTree_,t,qe,h.currentWriteId,h.applyLocally);Bl(n.eventQueue_,t,rt),Gk(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(m,b,F)=>{let K=null;m?a.reject(m):(K=new by(F,new Vl(n._repo,n._path),di),a.resolve(new m5(b,K)))},f,r),a.promise}(this._delegate,t,{applyLocally:i}).then(a=>new E5(a.committed,new tg(this.database,a.snapshot)));return e&&r.then(a=>e(null,a.committed,a.snapshot),a=>e(a,!1,null)),r}setPriority(t,e){(0,Pe.Dv)("Reference.setPriority",1,2,arguments.length),(0,Pe.Wj)("Reference.setPriority","onComplete",e,!0);const i=function(n,t){n=(0,Pe.m9)(n),Ll("setPriority",n._path),WN("setPriority",t,!1);const e=new Pe.BH;return YN(n._repo,Pi(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,Pe.Dv)("Reference.push",0,2,arguments.length),(0,Pe.Wj)("Reference.push","onComplete",e,!0);const i=function(n,t){n=(0,Pe.m9)(n),Ll("push",n._path),Zu("push",t,n._path,!0);const e=Kj(n._repo),i=V4(e),r=wy(n,i),a=wy(n,i);let h;return h=null!=t?eF(a,t).then(()=>a):Promise.resolve(a),r.then=h.then.bind(h),r.catch=h.then.bind(h,void 0),r}(this._delegate,t),r=i.then(h=>new Ba(this.database,h));e&&r.then(()=>e(null),h=>e(h));const a=new Ba(this.database,i);return a.then=r.then.bind(r),a.catch=r.catch.bind(r,void 0),a}onDisconnect(){return Ll("Reference.onDisconnect",this._delegate._path),new C5(new oH(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class sx{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,i={}){!function(n,t,e,i={}){(n=(0,Pe.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&zu("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let a;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&zu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new FE(FE.OWNER);else if(i.mockUserToken){const h="string"==typeof i.mockUserToken?i.mockUserToken:(0,Pe.Sg)(i.mockUserToken,n.app.options.projectId);a=new FE(h)}!function(n,t,e,i){n.repoInfo_=new JP(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,a)}(this._delegate,t,e,i)}ref(t){if((0,Pe.Dv)("database.ref",0,1,arguments.length),t instanceof Ba){const e=lH(this._delegate,t.toString());return new Ba(this,e)}{const e=aH(this._delegate,t);return new Ba(this,e)}}refFromURL(t){(0,Pe.Dv)("database.refFromURL",1,1,arguments.length);const i=lH(this._delegate,t);return new Ba(this,i)}goOffline(){return(0,Pe.Dv)("database.goOffline",0,0,arguments.length),function(n){(n=(0,Pe.m9)(n))._checkNotDeleted("goOffline"),Xj(n._repo)}(this._delegate)}goOnline(){return(0,Pe.Dv)("database.goOnline",0,0,arguments.length),function(n){(n=(0,Pe.m9)(n))._checkNotDeleted("goOnline"),function(n){n.persistentConnection_&&n.persistentConnection_.resume(Yj)}(n._repo)}(this._delegate)}}sx.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:n=>function(n){return{".sv":{increment:n}}}(n)};var S5=Object.freeze({__proto__:null,initStandalone:function({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:a=!1}){pU(e);const h=new Ea.zt("auth-internal",new Ea.H0("database-standalone"));return h.setComponent(new Ea.wA("auth-internal",()=>i,"PRIVATE")),{instance:new sx(yH(n,h,void 0,t,a),n),namespace:r}}});const I5=sx.ServerValue;function AH(n){return null==n}function vH(n){return"function"==typeof n.set}function bH(n,t){return vH(t)?t:n.ref(t)}function wH(n,t){if(function(n){return"string"==typeof n}(n))return t.stringCase();if(vH(n))return t.firebaseCase();if(function(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function ox(n,t,e="on",i=Og.z){return new jn.y(r=>{let a=null;return a=n[e](t,(h,f)=>{i.schedule(()=>{r.next({snapshot:h,prevKey:f})}),"once"===e&&i.schedule(()=>r.complete())},h=>{i.schedule(()=>r.error(h))}),"on"===e?{unsubscribe(){null!=a&&n.off(t,a)}}:{unsubscribe(){}}}).pipe((0,Gt.U)(r=>{const{snapshot:a,prevKey:h}=r;let f=null;return a.exists()&&(f=a.key),{type:t,payload:a,prevKey:h,key:f}}),(0,t2.B)())}function CH(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function O5(n,t){const{payload:e,prevKey:i,key:r}=t,a=CH(n,r),h=function(n,t){if(AH(t))return 0;{const e=CH(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let f=null;t.payload.forEach(m=>{const b={payload:m,type:"value",prevKey:f,key:m.key};return f=m.key,n=[...n,b],!1})}return n;case"child_added":if(a>-1){const f=n[a-1];(f&&f.key||null)!==i&&(n=n.filter(m=>m.payload.key!==e.key)).splice(h,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(h,0,t)}return n;case"child_removed":return n.filter(f=>f.payload.key!==e.key);case"child_changed":return n.map(f=>f.payload.key===r?t:f);case"child_moved":if(a>-1){const f=n.splice(a,1)[0];return(n=n.slice()).splice(h,0,f),n}return n;default:return n}}function EH(n){return(AH(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function xH(n,t,e){return function(n,t,e){return ox(n,"value","once",e).pipe(Ii(i=>{const r=[(0,Rt.of)(i)];return t.forEach(a=>r.push(ox(n,a,"on",e))),(0,Nc.T)(...r).pipe(ol(O5,[]))}),pl())}(n,t=EH(t),e)}function SH(n,t,e){const i=(t=EH(t)).map(r=>ox(n,r,"on",e));return(0,Nc.T)(...i)}function IH(n,t){return function(i,r){return wH(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function L5(n){return function(e){return e?wH(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function TH(n,t){return function(){return ox(n,"value","on",t)}}!function(n){n.INTERNAL.registerComponent(new Ea.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new sx(r,i)},"PUBLIC").setServiceProps({Reference:Ba,Query:Cs,Database:sx,DataSnapshot:tg,enableLogging:h5,INTERNAL:S5,ServerValue:I5}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.2")}(X0.Z);const U5=new c.OlP("angularfire2.realtimeDatabaseURL"),j5=new c.OlP("angularfire2.database.use-emulator");let H5=(()=>{class n{constructor(e,i,r,a,h,f,m,b,F,K,we,Re,qe,rt,ht){this.schedulers=f;const St=m,Ft=(0,ps.on)(e,h,i);b&&Bv(Ft,h,F,we,Re,qe,K,rt),this.database=(0,ps.cc)(`${Ft.name}.database.${r}`,"AngularFireDatabase",Ft.name,()=>{const zt=h.runOutsideAngular(()=>Ft.database(r||void 0));return St&&zt.useEmulator(...St),zt},[St])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>bH(this.database,e));let a=r;return i&&(a=i(r)),function(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:IH(i,"update"),set:IH(i,"set"),push:r=>i.push(r),remove:L5(i),snapshotChanges:r=>xH(n,r,e).pipe(ii.iC),stateChanges:r=>SH(n,r,e).pipe(ii.iC),auditTrail:r=>function(n,t,e){return function(n,t,e){return function(n,t){return ox(n,"value","on",t).pipe((0,Gt.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function(...n){return t=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),t.lift(new kZ(n,e))}}(t),(0,Gt.U)(([r,a])=>{const h=r.lastKeyToLoad,f=a.map(m=>m.key);return{actions:a,lastKeyToLoad:h,loadedKeys:f}}),function(n){return t=>t.lift(new OZ(n))}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,Gt.U)(r=>r.actions))}(n,SH(n,t).pipe(ol((r,a)=>[...r,a],[])),e)}(n,r,e).pipe(ii.iC),valueChanges:(r,a)=>xH(n,r,e).pipe((0,Gt.U)(f=>f.map(m=>a&&a.idField?Object.assign(Object.assign({},m.payload.val()),{[a.idField]:m.key}):m.payload.val())),ii.iC)}}(a,this)}object(e){return function(n,t){return{query:n,snapshotChanges:()=>TH(n,t.schedulers.outsideAngular)().pipe(ii.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>TH(n,t.schedulers.outsideAngular)().pipe(ii.iC,(0,Gt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>bH(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ps.Dh),c.LFG(ps.xv,8),c.LFG(U5,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(ii.HU),c.LFG(j5,8),c.LFG(Bc,8),c.LFG(Nv,8),c.LFG(Fv,8),c.LFG(Lv,8),c.LFG(Xm,8),c.LFG(fE,8),c.LFG(pE,8),c.LFG(Pv,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),G5=(()=>{class n{constructor(){uD.Z.registerVersion("angularfire",ii.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[H5]}),n})(),z5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[dM]}),n.\u0275inj=c.cJS({providers:[_,u],imports:[[hh,BG,zW,mZ,D2,TZ,rZ,gq,bG,bM,G5,l,ps.hO.initializeApp(hU_firebase),Dx,gB]]}),n})();(0,c.G48)(),ua().bootstrapModule(z5).catch(n=>console.error(n))},4762:(Nt,gt,Fe)=>{"use strict";function me(T,w){var k={};for(var C in T)Object.prototype.hasOwnProperty.call(T,C)&&w.indexOf(C)<0&&(k[C]=T[C]);if(null!=T&&"function"==typeof Object.getOwnPropertySymbols){var U=0;for(C=Object.getOwnPropertySymbols(T);U<C.length;U++)w.indexOf(C[U])<0&&Object.prototype.propertyIsEnumerable.call(T,C[U])&&(k[C[U]]=T[C[U]])}return k}function xe(T,w,k,C){return new(k||(k=Promise))(function(j,S){function H(pe){try{ve(C.next(pe))}catch(Z){S(Z)}}function oe(pe){try{ve(C.throw(pe))}catch(Z){S(Z)}}function ve(pe){pe.done?j(pe.value):function(j){return j instanceof k?j:new k(function(S){S(j)})}(pe.value).then(H,oe)}ve((C=C.apply(T,w||[])).next())})}function he(T,w){var C,U,j,S,k={label:0,sent:function(){if(1&j[0])throw j[1];return j[1]},trys:[],ops:[]};return S={next:H(0),throw:H(1),return:H(2)},"function"==typeof Symbol&&(S[Symbol.iterator]=function(){return this}),S;function H(ve){return function(pe){return function(ve){if(C)throw new TypeError("Generator is already executing.");for(;k;)try{if(C=1,U&&(j=2&ve[0]?U.return:ve[0]?U.throw||((j=U.return)&&j.call(U),0):U.next)&&!(j=j.call(U,ve[1])).done)return j;switch(U=0,j&&(ve=[2&ve[0],j.value]),ve[0]){case 0:case 1:j=ve;break;case 4:return k.label++,{value:ve[1],done:!1};case 5:k.label++,U=ve[1],ve=[0];continue;case 7:ve=k.ops.pop(),k.trys.pop();continue;default:if(!(j=(j=k.trys).length>0&&j[j.length-1])&&(6===ve[0]||2===ve[0])){k=0;continue}if(3===ve[0]&&(!j||ve[1]>j[0]&&ve[1]<j[3])){k.label=ve[1];break}if(6===ve[0]&&k.label<j[1]){k.label=j[1],j=ve;break}if(j&&k.label<j[2]){k.label=j[2],k.ops.push(ve);break}j[2]&&k.ops.pop(),k.trys.pop();continue}ve=w.call(T,k)}catch(pe){ve=[6,pe],U=0}finally{C=j=0}if(5&ve[0])throw ve[1];return{value:ve[0]?ve[1]:void 0,done:!0}}([ve,pe])}}}function B(T){var w="function"==typeof Symbol&&Symbol.iterator,k=w&&T[w],C=0;if(k)return k.call(T);if(T&&"number"==typeof T.length)return{next:function(){return T&&C>=T.length&&(T=void 0),{value:T&&T[C++],done:!T}}};throw new TypeError(w?"Object is not iterable.":"Symbol.iterator is not defined.")}function Q(T,w){var k="function"==typeof Symbol&&T[Symbol.iterator];if(!k)return T;var U,S,C=k.call(T),j=[];try{for(;(void 0===w||w-- >0)&&!(U=C.next()).done;)j.push(U.value)}catch(H){S={error:H}}finally{try{U&&!U.done&&(k=C.return)&&k.call(C)}finally{if(S)throw S.error}}return j}function M(T,w,k){if(k||2===arguments.length)for(var j,C=0,U=w.length;C<U;C++)(j||!(C in w))&&(j||(j=Array.prototype.slice.call(w,0,C)),j[C]=w[C]);return T.concat(j||Array.prototype.slice.call(w))}Fe.d(gt,{_T:()=>me,mG:()=>xe,Jh:()=>he,XA:()=>B,CR:()=>Q,ev:()=>M})},8239:(Nt,gt,Fe)=>{"use strict";function c(Se,me,ae,ce,ge,xe,he){try{var ie=Se[xe](he),re=ie.value}catch(B){return void ae(B)}ie.done?me(re):Promise.resolve(re).then(ce,ge)}function Je(Se){return function(){var me=this,ae=arguments;return new Promise(function(ce,ge){var xe=Se.apply(me,ae);function he(re){c(xe,ce,ge,he,ie,"next",re)}function ie(re){c(xe,ce,ge,he,ie,"throw",re)}he(void 0)})}}Fe.d(gt,{Z:()=>Je})}},Nt=>{Nt(Nt.s=2935)}]);